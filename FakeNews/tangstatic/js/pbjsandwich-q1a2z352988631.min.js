'use strict';window.Criteo={usePrebidEvents:!1};
!function(ca){function sa(a,b){function e(){this.constructor=a}Ba(a,b);a.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}function F(){this.blockedPixelFailed=this.allowedPixelLoaded=!1}function qa(a){this.timerEnabled=!0;this.timerStarted=!1;this.localStorageHelper=a}function I(a){return a.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function z(a){var b=Ra.call(this)||this;return b.document=a,b}function d(a){this.name=a}function x(a){var b=Za.call(this,x.NAME)||
this;return b.callback=a,b}function y(a,b,e,u,Q,S,va,Fa){this.id=this.generateRandomId();this.slotId=a;this.impressionId=b;this.cpm=e;this.width=u;this.height=Q;this.zoneId=S;this.dealCode=va;this.useSafeframe=null!=Fa&&Fa}function h(a,b,e,u,Q,S,va,Fa,Ha){a=fb.call(this,a,b,e,u,Q,S,Fa,Ha)||this;return a.displayUrl=va,a}function v(a,b,e,u,Q,S,va,Fa,Ha){a=ib.call(this,a,b,e,u,Q,S,Fa,Ha)||this;return a.creative=va,a}function g(){}function B(a,b,e,u,Q,S,va,Fa,Ha){a=Xa.call(this,a,b,e,u,Q,S,Ha)||this;
return a.nativeCallback=va,a.nativePayload=Fa,a}function k(a,b){if(a){try{var e=eval("(function(){return "+a+"})()")}catch(u){return}if("function"==typeof e)return e.apply(e,b);mb.Error("The passed value is not a function")}}function p(a,b,e,u,Q,S,va,Fa,Ha,Oa,Sa){a=jb.call(this,a,b,e,u,Q,S,Fa)||this;return a.videoCallback=va,a.vastUrl=Ha,a.vastXml=Oa,a.videoPlayerFunction=Sa,a}function t(a){this.elapsed=0;this.isTimeout=!1;this.adapterEndElapsed=this.cdbCallEndElapsed=this.cdbCallStartElapsed=this.adapterStartElapsed=
0;this.slotIdsMatchedByCache=[];this.events=[];this.metricsManager=a}function E(a){try{return JSON.parse(a)}catch(b){}}function r(){}function n(a){void 0===a&&(a=!1);this.auditMode=a}function q(){this.urlBuilder=new ka}function f(a){var b=cb.call(this)||this;return b.localStorageHelper=a,b}function D(){}function G(a,b,e,u,Q,S,va,Fa,Ha,Oa,Sa,Ya,gb,za,hb,$a){this.slots=a;this.context=b;this.urlBuilder=e;this.profileId=u;this.integrationMode=Q||C.Unspecified;this.networkId=S;this.adapterVersion=va;this.privacyWrapper=
Fa;this.wrapperVersion=Ha;this.viewportComputer=Oa;this.adapterTimeout=Sa;this.clientRequestId=Ya;this.userIds=gb;this.auctionStart=za;this.schain=hb;this.regs=$a}function w(a){var b={slots:void 0,time_to_next_call:0};return void 0!==a.exd&&(void 0!==a.exd.time_to_next_call&&(b.time_to_next_call=a.exd.time_to_next_call),b.slots=a.exd.slots,delete a.exd),b}function H(){var a=(new Date).getTime();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(a+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,
function(b){var e=(a+16*Math.random())%16|0;return a=Math.floor(a/16),("x"===b?e:3&e|8).toString(16)})}function c(a){void 0===a&&(a=!0);a&&window.performance&&window.performance.now?this.now=window.performance.now.bind(window.performance):Date.now?this.now=Date.now:this.now=function(){return(new Date).getTime()}}function m(a,b,e){this.builder=a;this.timer=void 0!==b?Gb.CreateWithStartTime(b):Gb.CreateRunning();a=this.timer.elapsed();this.builder.withAdapterStartElapsed(a);void 0!==e&&this.builder.withAdapterTimeout(e)}
function l(a,b){this.width=a;this.height=b}function A(a){var b="number"==typeof window.PREBID_TIMEOUT?window.PREBID_TIMEOUT:void 0;return a&&b?Math.min(a,b):a||b||void 0}function J(){}function U(){}function W(a,b){this.EXPIRE_SUFFIX="_expires";this.CHECK_STORAGE_KEY="criteo_localstorage_check";try{var e=(a||window).localStorage}catch(u){e=void 0}this.localStorage=e;this.localStorageEnabled=this.checkLocalStorage(b)}function Z(a,b,e,u){void 0===u&&(u=!0);this.url=a;this.data=b;this.contentType=e;this.withCredentials=
u}function ia(a,b,e){void 0===e&&(e=!1);this.pixelSyncEndpoint="https://ssp-sync.criteo.com/user-sync/pixels";this.pixelSyncTimeout=2E3;this.errorReporter=b;this.onPixelsRetrieved=a;this.debug=e}function ba(){}function T(a,b,e,u,Q){var S,va,Fa,Ha,Oa=window.criteo_pubtag_prebid_135||window.criteo_pubtag;this.clientRequestId=H();this.gdprConsent={};u.gdprConsent&&(void 0!==u.gdprConsent.consentString&&(this.gdprConsent.consentData=u.gdprConsent.consentString),void 0!==u.gdprConsent.gdprApplies&&(this.gdprConsent.gdprApplies=
!!u.gdprConsent.gdprApplies),this.gdprConsent.version=u.gdprConsent.apiVersion);this.ccpaIabConsent={uspString:u.uspConsent};this.regs=new ac(u.coppa);var Sa=new Qb(void 0,this.gdprConsent);this.timeout=A(u.timeout);this.metricsManager=new La(Sa);this.metricBuilder=new lb(this.metricsManager);this.timer=new Rb(this.metricBuilder,u.start,this.timeout);var Ya=new bc;this.adBlockFlagManager=Na.create(Sa);this.adBlockFlagManager.adBlockFlagEnabled()&&(a=280,Oa.context.isAdBlocked=!0);this.auctionId=u.auctionId;
this.bidRequests=e;this.slots=[];Sa=!0;for(var gb=0;gb<e.length;gb++){var za=void 0;(Wa=e[gb]).fpd&&Wa.fpd.context&&(za=Wa.fpd.context);(null===(S=Wa.ortb2Imp)||void 0===S?0:S.ext)&&((null==za?void 0:za.data)&&Wa.ortb2Imp.ext.data&&(za.data=Ca(Ca({},za.data),Wa.ortb2Imp.ext.data)),za=Ca(Ca({},Wa.ortb2Imp.ext),za));Wa.params.ext&&((null==za?void 0:za.data)&&Wa.params.ext.data&&(za.data=Ca(Ca({},za.data),Wa.params.ext.data)),za=Ca(Ca({},Wa.params.ext),za));Sa=this.hasValidNativeParams(Wa);var hb=T.isPrebid3OrAbove(Q);
za=this.enrichSlotWithFloors(za,Wa);this.slots.push(new Sb(Wa.adUnitCode,Wa.params.zoneId,void 0!==Wa.params.nativeCallback||void 0!==(null===(va=null==Wa?void 0:Wa.mediaTypes)||void 0===va?void 0:va.native),Wa.params.nativeCallback,Wa.transactionId,this.getSizes(Wa,hb),Wa.params.publisherSubId,Wa.mediaTypes,T.getVideoInfoFromBidRequest(Wa),za));var $a=Wa.params.networkId||$a;var nb=Wa.schain||nb;(window.criteo_pubtag_prebid_135||window.criteo_pubtag).context.ceh=u.ceh;if(Wa.params.integrationMode)a:switch(Wa.params.integrationMode.toLowerCase()){case "amp":var pb=
C.AMP;break a;default:pb=C.Unspecified}}Sa;var rb,Wa;S=new ka(!1);0<e.length&&(Wa=e[0]).userIdAsEids&&0<Wa.userIdAsEids.length&&(rb=Wa.userIdAsEids);(null===(Fa=u.ortb2)||void 0===Fa?0:Fa.user)&&Oa.context.setUser(u.ortb2.user);(null===(Ha=u.ortb2)||void 0===Ha?0:Ha.site)&&Oa.context.setSite(u.ortb2.site);this.requestBuilder=new xb(this.slots,Oa.context,S,a,pb,$a,b,{ccpaIabConsent:this.ccpaIabConsent,gdprConsent:this.gdprConsent},Q,Ya,this.timeout,this.clientRequestId,rb,u.start,nb,this.regs);this.url=
this.requestBuilder.getUrl();(window.Criteo_prebid_135||window.Criteo).prebid_adapters=(window.Criteo_prebid_135||window.Criteo).prebid_adapters||{};(window.Criteo_prebid_135||window.Criteo).prebid_adapters[this.auctionId]=this}function N(a){try{return JSON.parse(a)}catch(b){}}function O(a,b,e){void 0===e&&(e=function(u){});this.uspapiCallbacks={};this.currentWindow=a;this.timeout=b.uspApiTimeout;this.logger=e}function oa(a,b,e){void 0===e&&(e=function(u){});this.tcfv1ConsentProvider=a;this.tcfv2ConsentProvider=
b;this.logger=e}function ta(a,b,e){void 0===e&&(e=function(u){});this.cmpCallbacks={};this.currentWindow=a;this.timeout=b.tcfTimeout;this.pingTimeout=b.tcfPingTimeout;this.pingDelay=b.tcfPingDelay;this.cmpAutoDetect=b.cmpAutoDetect;this.logger=e}function Da(a,b,e){void 0===e&&(e=function(u){});this.cmpCallbacks={};this.currentWindow=a;this.timeout=b.tcfTimeout;this.pingTimeout=b.tcfPingTimeout;this.pingDelay=b.tcfPingDelay;this.cmpAutoDetect=b.cmpAutoDetect;this.logger=e}function V(a){this.publicTopTlds=
"co.id co.il co.jp co.kr co.nz co.th co.uk com.au com.br com.mx com.my com.pl com.sg com.tr com.vn".split(" ");this.cookiesEnabled=this.checkTcfPurposeOne(a)}function pa(){}function X(a,b,e,u){this.initialized=this.initializing=!1;this.postInitiliazeServicesCallbacks=[];this.topFrame=a||window;cc.addTrialTokens();a={uspApiTimeout:50,tcfTimeout:1E4,tcfPingTimeout:50,tcfPingDelay:1E3,cmpAutoDetect:null==u?void 0:u.cmpAutoDetect};this.ccpaConsentProvider=b||new Hb(window,a,mb.Warning);b=new dc(window,
a,mb.Warning);a=new ec(window,a,mb.Warning);this.tcfCompatibleConsentProvider=e||new Ib(b,a,mb.Warning);this.initializeServices()}function aa(a,b,e,u,Q,S,va,Fa,Ha,Oa,Sa,Ya,gb){var za=Jb.call(this,aa.NAME)||this;return za.profileId=a,za.urlBuilder=b,za.slots=e,za.callbackSuccess=u,za.callbackError=Q,za.callbackTimeout=S,za.serviceProvider=va,za.timeout=Ha,za.networkId=Oa,za.integrationMode=Sa,za.adapterVersion=Ya,za.viewportComputer=gb,za.metricsManager=Fa,za.metricsManager&&(za.metricBuilder=new lb(za.metricsManager)),
za}function da(a,b,e,u,Q,S,va,Fa,Ha,Oa,Sa,Ya,gb){var za=Kb.call(this,da.NAME)||this;return za.directBiddingEvent=new fc(a,b,e,function(hb,$a){return za.onSuccess(hb,$a)},function(hb,$a){return za.onError(hb,$a)},function(){return za.onHttpTimeout()},Fa,va,Math.max(10*(Ha||3E3),3E3),Oa,Sa,Ya,gb),za.slots=e,za.callbackSuccess=u,za.callbackError=Q,za.callbackTimeout=S,za.timeout=0===Ha?0:Ha||3E3,za.hasTimeouted=!1,za.hasResponded=!1,za}function ja(a){function b(){try{return e.apply(this,arguments)}catch(Q){}}
var e=a,u;for(u in b.prototype=e.prototype,e)e.hasOwnProperty(u)&&(b[u]=e[u]);return b}function L(a){for(var b in a)if(b in a){var e=a[b];"function"==typeof e?a[b]=ja(e):"object"==typeof e&&(a[b]=L(e))}return a}function P(a){var b={push:function(){for(var e=[],u=0;u<arguments.length;u++)e[u]=arguments[u];if(void 0!==e)for(u=0;u<e.length;u++){var Q=e[u];"function"==typeof Q&&ja(Q)()}}};return a&&Array.isArray(a)&&b.push.apply(b,a),b}function R(a){this.messages={};this.environment=a}function fa(a){void 0===
a&&(a=!1);this.builder=new Tb(fa.environment);this.shouldSend=!1;this.debug=a}function na(a,b){try{return decodeURIComponent(a)}catch(e){return void 0!==b?b:a}}function Ea(a){var b={},e=a.split("?");if(1<e.length)for(a=0,e=e[1].split("&");a<e.length;a++){var u=e[a].split("=");b[na(u[0])]=na(u[1])}return b}function K(a){this.window=a}function ha(a){var b=Lb.call(this)||this;return b.context=a,b}function la(a){this.userDataHandlers=a}function xa(a,b){this.value=a;this.origin=b}function Y(a,b,e,u,Q){e=
Mb.call(this,e,u)||this;return e.storageKey=a,e.expirationTimeHours=b,e.storageAdapter=Q,e}function ea(a){this.storageAdapter=a}function ya(a,b,e,u){this.type=a;this.storageKey=b;this.expirationTimeHours=e;this.storageAdapter=u}function Aa(a,b,e){this.criteoGlobalVendorListId=91;this.window=a;this.document=a.document;this.userDataHandlers=new gc(b);e=null!=e?e:"gum.criteo.com";this.syncframeOrigin="https://"+e;this.syncframeEndpoint="https://"+e+"/syncframe";this.window.criteo_syncframe_state||(this.window.criteo_syncframe_state=
{syncframeRequested:!1});this.window.criteo_syncframe_state.appendSyncframeRequestQueue||(this.window.criteo_syncframe_state.appendSyncframeRequestQueue=[])}function Ga(a,b,e){void 0===e&&(e=!1);b=Nb.call(this,b,a.storageAdapter,e?"gumi.criteo.com":"gum.criteo.com")||this;return b.adapter=a,b}function Ma(a,b,e,u,Q,S){var va=this;this.topDoc=e.document;this.cookieHelper=a;this.localStorageHelper=b;this.canWriteCookies=g$.ks||this.checkCookiesAreWriteable();this.topUrl=Q;a=!1;try{a=JSON.parse("false")}catch(Fa){}this.syncframe=
new hc({storageAdapter:{readFromAllStorages:function(Fa){Fa=va.getFromAllStorages(Fa);return{value:Fa.value,origin:Fa.origin}},writeToAllStorages:function(Fa,Ha,Oa){va.writeOnAllStorages(Fa,Ha,Oa)},removeFromAllStorages:function(Fa){va.deleteFromAllStorage(Fa)}},isPubTagIds:null!=S&&S,isDebug:u},e,a)}function Qa(a,b,e,u,Q){this.highestAccessibleWindowStruct=yb.getHighestAccessibleWindow(b);this.highestAccessibleUrl=yb.getHighestAccessibleUrl(this.highestAccessibleWindowStruct);if(this.debugMode="1"===
Ea(this.highestAccessibleUrl).pbt_debug||!1)mb.LOGLEVEL=db.Debug;this.cookieSynchronizerFactory=e;this.serviceProvider=u||new Ub(this.highestAccessibleWindowStruct.topFrame,void 0,void 0,Q)}function Va(a,b,e,u,Q,S,va,Fa){void 0===va&&(va=(new Date).getUTCMilliseconds());void 0===Fa&&(Fa=H());this.cloneByImpressionId={};this.sessionRandomId=va;this.clientSessionId=Fa;this.contextMetricsManager=new ic(this);this.charset=a.charset||a.characterSet||"";this.highestAccessibleWindowStruct=yb.getHighestAccessibleWindow(b);
this.displayContext=this.getDisplayContext(this.highestAccessibleWindowStruct);this.highestAccessibleUrl=yb.getHighestAccessibleUrl(this.highestAccessibleWindowStruct);va=Ea(this.highestAccessibleUrl);this.debugMode="1"===va.pbt_debug||!1;this.noLog="1"===va.pbt_nolog||!1;this.remoteLogging=new jc(this.debugMode);this.debugMode&&(mb.LOGLEVEL=db.Debug);this.location=b.location;this.dising=!1;this.isAdBlocked=this.wpdt0=this.ct0=void 0;this.rtaVarNames=[];this.identityHelper=new kc(a,b,e,u,Q);this.serviceProvider=
this.identityHelper.serviceProvider;this.synchronizeCriteoUid();this.userContextualDataManager=S||new lc(b)}function Ua(a){var b;void 0===a&&(a=null===(b=window.Criteo_prebid_135||window.Criteo)||void 0===b?void 0:b.config);this.standaloneBidder=new mc;this.events=[];this.context=new nc(document,window,void 0,void 0,a)}function Ka(a){window.criteo_pubtag&&window.criteo_pubtag.context&&"serviceProvider"in window.criteo_pubtag.context||(window.criteo_pubtag=new oc,window.criteo_pubtag_prebid_135=window.criteo_pubtag);
window.Criteo=ma(window.Criteo||{},a);window.Criteo_prebid_135=window.Criteo}function ma(a,b){if(ua(a)&&ua(b))for(var e in b)if(ua(b[e])){if(ua(a[e])||void 0===a[e])ua(a[e])||(a[e]={}),ma(a[e],b[e])}else void 0===a[e]&&(a[e]=b[e]);return a}function ua(a){return a&&"object"==typeof a&&!Array.isArray(a)}function ra(){var a,b,e,u,Q,S;Ka(L({PubTag:{Adapters:{Prebid:pc},DirectBidding:{DirectBiddingEvent:qc,DirectBiddingSlot:Sb,DirectBiddingUrlBuilder:ka,Size:Cb}},events:null!==(b=null===(a=window.Criteo)||
void 0===a?void 0:a.events)&&void 0!==b?b:[],passbackEvents:null!==(u=null===(e=window.Criteo)||void 0===e?void 0:e.passbackEvents)&&void 0!==u?u:[],usePrebidEvents:null===(S=null===(Q=window.Criteo)||void 0===Q?void 0:Q.usePrebidEvents)||void 0===S||S}));!1!==window.Criteo.usePrebidEvents&&(window.Criteo.events=P(window.Criteo.events));window.criteo_pubtag.context.serviceProvider.getServicesAsync(function(va){null===va.localStorageHelper.getItem(rc.prebid,864E5)})}var Ba=function(a,b){return(Ba=
Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,u){e.__proto__=u}||function(e,u){for(var Q in u)u.hasOwnProperty(Q)&&(e[Q]=u[Q])})(a,b)},Ca=function(){return(Ca=Object.assign||function(a){for(var b,e=1,u=arguments.length;e<u;e++)for(var Q in b=arguments[e])Object.prototype.hasOwnProperty.call(b,Q)&&(a[Q]=b[Q]);return a}).apply(this,arguments)},Ia=(F.prototype.isAdBlocked=function(a){var b=this;this.createPixel(F.allowedPixelUrl,function(){(b.allowedPixelLoaded=!0)===b.blockedPixelFailed&&
a(!0)},function(){});this.createPixel(F.blockedPixelUrl,function(){a(!1)},function(){(b.blockedPixelFailed=!0)===b.allowedPixelLoaded&&a(!0)})},F.prototype.createPixel=function(a,b,e){var u=document.createElement("img");u.src=a;u.height=1;u.width=1;u.style.display="none";u.onload=b;u.onerror=e},F.allowedPixelUrl="https://static.criteo.net/images/pixel.gif?ch=1",F.blockedPixelUrl="https://static.criteo.net/images/pixel.gif?ch=2",F),Na=(qa.create=function(a){return new qa(a)},qa.prototype.adBlockFlagEnabled=
function(){return null!==this.localStorageHelper.getItem(qa.ADBLOCK_FLAG_KEY)},qa.prototype.enableAdBlockFlag=function(){this.localStorageHelper.setItem(qa.ADBLOCK_FLAG_KEY,"1",qa.ADBLOCK_FLAG_LIFETIME)},qa.prototype.disableAdBlockFlag=function(){this.localStorageHelper.removeItem(qa.ADBLOCK_FLAG_KEY)},qa.prototype.setAdBlockFlagTimer=function(a){var b=this;this.adBlockFlagEnabled()||!this.timerEnabled||this.timerStarted||(this.timerStarted=!0,setTimeout(function(){b.timerEnabled&&(b.refreshAdblockFlag(),
b.timerEnabled=!1)},a))},qa.prototype.disableAdBlockFlagTimer=function(){this.timerEnabled=!1;this.adBlockFlagEnabled()&&this.refreshAdblockFlag()},qa.prototype.refreshAdblockFlag=function(){var a=this;(new Ia).isAdBlocked(function(b){b?a.enableAdBlockFlag():a.disableAdBlockFlag()})},qa.ADBLOCK_FLAG_KEY="criteo_adblock_flag",qa.ADBLOCK_FLAG_LIFETIME=864E5,qa),Pa=(Ra=function(){},sa(z,Ra),z.prototype.ResizeFrame=function(a,b){if(this.document.defaultView&&this.document.defaultView.frameElement){var e=
this.document.defaultView.frameElement;e.width=a.toString();e.height=b.toString()}},z.prototype.Write=function(a){this.document.open();this.document.write(a);this.document.close()},z.prototype.LoadScript=function(a){this.Write("<script type='text/javascript' src='"+I(a)+"'>\x3c/script>")},z),Ra,Ta=(d.prototype.eval=function(a){},d),Ja=(Za=Ta,sa(x,Za),x.prototype.eval=function(a){this.callback&&this.callback.apply(this)},x.NAME="genericEvent",x),Za,ab=(y.prototype.generateRandomId=function(){return Math.random().toString(36).replace(/[^a-z]+/g,
"").substr(0,6)},y),bb=(fb=ab,sa(h,fb),h.prototype.GenerateEvent=function(a){var b=this;return a.ResizeFrame(this.width,this.height),new Ja(function(){return a.LoadScript(b.displayUrl)})},h.prototype.GenerateMessage=function(){return{displayUrl:this.displayUrl}},h),fb,qb=(ib=ab,sa(v,ib),v.prototype.GenerateEvent=function(a){var b=this;return a.ResizeFrame(this.width,this.height),new Ja(function(){return a.Write(b.creative)})},v.prototype.GenerateMessage=function(){return{creative:this.creative}},
v),ib,db;var ob=db=db||{};ob[ob.Error=0]="Error";ob[ob.Warning=1]="Warning";ob[ob.Debug=2]="Debug";var mb=(g.Log=function(a,b){if(!(g.LOGLEVEL<a)){a=db[a].toUpperCase();var e=window.navigator.userAgent;e=0<e.indexOf("MSIE ")||0<e.indexOf("Trident/");window.console&&(e?console.log("[PubTag] "+a+": "+b):console.log("%cPubTag","color: #fff; background: #ff8f1c; display: inline-block; padding: 1px 4px; border-radius: 3px;",a+": "+b))}},g.Debug=function(a){g.Log(db.Debug,a)},g.Warning=function(a){g.Log(db.Warning,
a)},g.Error=function(a){g.Log(db.Error,a)},g.LOGLEVEL=db.Error,g),eb=(Xa=ab,sa(B,Xa),B.prototype.GenerateEvent=function(a){var b=this;return"function"!=typeof this.nativeCallback?new Ja(void 0):"object"!=typeof this.nativePayload?new Ja(void 0):new Ja(function(){return b.nativeCallback(b.nativePayload)})},B.prototype.GenerateMessage=function(){return{nativePayload:this.nativePayload}},B),Xa,sb=(jb=ab,sa(p,jb),p.prototype.GenerateEvent=function(a){var b=this;return void 0!==this.videoCallback?"function"!=
typeof this.videoCallback?new Ja(void 0):new Ja(function(){return b.videoCallback(b.GenerateMessage())}):(k(this.videoPlayerFunction,[{slotid:this.impressionId,vastUrl:this.vastUrl,vastXml:this.vastXml}]),new Ja(void 0))},p.prototype.GenerateMessage=function(){return{vastUrl:this.vastUrl,vastXml:this.vastXml,slotid:this.impressionId,cpm:this.cpm}},p),jb,lb=(t.prototype.getMetricsManager=function(){return this.metricsManager},t.prototype.withElapsed=function(a){return this.elapsed=Math.round(a),this},
t.prototype.withIsTimeout=function(a){return(this.isTimeout=a)&&this.events.push({eventId:"CdbCallTimeout"}),this},t.prototype.withAdapterStartElapsed=function(a){return this.adapterStartElapsed=Math.round(a),this.events.push({eventId:"AdapterBidStart",elapsed:this.adapterStartElapsed}),this},t.prototype.withCdbCallStartElapsed=function(a){return this.cdbCallStartElapsed=Math.round(a),this.events.push({eventId:"CdbCallStart",elapsed:this.cdbCallStartElapsed}),this},t.prototype.withCdbCallEndElapsed=
function(a){return this.cdbCallEndElapsed=Math.round(a),this.events.push({eventId:"CdbCallEnd",elapsed:this.cdbCallEndElapsed}),this},t.prototype.withAdapterEndElapsed=function(a){return this.adapterEndElapsed=Math.round(a),this.events.push({eventId:"AdapterBidEnd",elapsed:this.adapterEndElapsed}),this},t.prototype.withAdapterTimeout=function(a){return this.adapterTimeout=a&&Math.round(a),this},t.prototype.withTimeToFirstByte=function(a){return this.timeToFirstByte=a&&Math.round(a),this.timeToFirstByte&&
this.events.push({eventId:"TimeToFirstByte",elapsed:this.timeToFirstByte}),this},t.prototype.withConnectionEstablishmentTime=function(a){return this.connectionEstablishmentTime=a&&Math.round(a),this.connectionEstablishmentTime&&this.events.push({eventId:"TcpConnectionElapsedTime",elapsed:this.connectionEstablishmentTime}),this},t.prototype.withDomainLookupTime=function(a){return this.domainLookupTime=a&&Math.round(a),this.domainLookupTime&&this.events.push({eventId:"DomainLookupElapsedTime",elapsed:this.domainLookupTime}),
this},t.prototype.withUserPreviousTimestamp=function(a){return a&&this.events.push({eventId:"UserReturnTime",elapsed:(new Date).getTime()-a}),this},t.prototype.buildEvents=function(a){if(this.events.length)return a={requestId:a,events:this.events},void 0!==this.adapterTimeout&&this.adapterEndElapsed>this.adapterTimeout&&a.events.push({eventId:"AdapterTimeout"}),a},t.prototype.clear=function(){this.events=[]},t),ub=(r.generateCacheBuster=function(){return Math.floor(99999999999*Math.random())},r),
C;var M=C=C||{};M[M.Unspecified=0]="Unspecified";M[M.AMP=1]="AMP";var ka=(n.prototype.buildUrl=function(a,b,e,u,Q){void 0===e&&(e=C.Unspecified);var S=n.CRITEO_BIDDER_URL+this.getHandlerPath();return S+="?ptv=135",!0===b.isAdBlocked&&(S+="&abp=1"),S=this.appendCommonParameters(S,a,u,Q),S+=b.ctoIdOnPublisherDomain?"&idcpy="+b.ctoIdOnPublisherDomain:"",S+=b.secureId?"&sid="+b.secureId:"",S+=b.isOptOut?"&optout=1":"",S+=b.bundle?"&bundle="+b.bundle:"",e!==C.Unspecified&&(S+="&im="+e),S+="&cb="+String(ub.generateCacheBuster()),
S+b.getContextFlags()},n.prototype.buildErrorUrl=function(){return n.CRITEO_BIDDER_URL+n.CRITEO_ERROR_HANDLER},n.prototype.buildCsmEventsUrl=function(){return n.CRITEO_BIDDER_URL+n.CRITEO_CSM_EVENTS_HANDLER},n.prototype.buildCsmCountersUrl=function(){return n.CRITEO_BIDDER_URL+n.CRITEO_CSM_COUNTERS_HANDLER},n.prototype.appendCommonParameters=function(a,b,e,u){return a+="&profileId="+String(b),void 0!==e&&(a+="&av="+String(e)),void 0!==u&&(a+="&wv="+encodeURIComponent(u)),a},n.prototype.getHandlerPath=
function(){return this.auditMode?n.CRITEO_BIDDER_AUDIT_HANDLER:n.CRITEO_BIDDER_HANDLER},n.CRITEO_BIDDER_URL="https://bidder.criteo.com/",n.CRITEO_BIDDER_HANDLER="cdb",n.CRITEO_CSM_HANDLER="csm",n.CRITEO_CSM_EVENTS_HANDLER="csm/events",n.CRITEO_CSM_COUNTERS_HANDLER="csm/counters",n.CRITEO_ERROR_HANDLER="error",n.CRITEO_BIDDER_AUDIT_HANDLER="prebid/audit",n),wa=(q.prototype.sendEventsToBeacon=function(a,b){navigator.sendBeacon&&a&&navigator.sendBeacon(b,JSON.stringify(a))},q),La=(cb=wa,sa(f,cb),f.prototype.getManagerMetrics=
function(){var a=this.localStorageHelper.getItem(f.MANAGER_METRICS_STORAGE_KEY);if(null==a)return{};a=E(a);return void 0===a?{}:a},f.prototype.setManagerMetrics=function(a){this.localStorageHelper.setItem(f.MANAGER_METRICS_STORAGE_KEY,JSON.stringify(a))},f.prototype.getLocalStorageKeyCount=function(){return this.localStorageHelper.getAllItemsByPrefix("criteo_").length+this.localStorageHelper.getAllItemsByPrefix("cto_").length},f.prototype.getPreviousBuildRequestTimestamp=function(){var a=this.getManagerMetrics().previousBuildRequestTimestamp;
return isNaN(a)?void 0:a},f.prototype.resetPreviousBuildRequestTimestamp=function(){var a=this.getManagerMetrics();a.previousBuildRequestTimestamp=(new Date).getTime().toString();this.setManagerMetrics(a)},f.prototype.sendEvents=function(a,b,e){void 0===e&&(e=!1);e&&(a.withUserPreviousTimestamp(this.getPreviousBuildRequestTimestamp()),this.resetPreviousBuildRequestTimestamp());this.sendEventsToBeacon(a.buildEvents(b),this.urlBuilder.buildCsmEventsUrl());a.clear()},f.MANAGER_METRICS_STORAGE_KEY="criteo_pt_cdb_mngr_metrics",
f),cb,kb=(D.tryInsertPlaceholder=function(a,b,e){var u=document.getElementById(a);if(null!==u){!1;if(u.appendChild(this.createPlaceholder()),!b&&this.isVisible(u))return!0;this.removePlaceholder(a,e);b=u.parentElement;if(null===b)return!1;var Q=this.createClone(u);return b.insertBefore(Q,u),Q.appendChild(this.createPlaceholder()),this.isVisible(Q)?(e[a]=Q,!0):(b.removeChild(Q),!1)}},D.isVisible=function(a){return 0!==a.offsetWidth&&0!==a.offsetHeight&&0!==a.getClientRects().length},D.createClone=
function(a){var b=a.cloneNode(!1);return b.id=this.generateRandomId(),b.className="","none"===b.style.display&&b.style.removeProperty("display"),"SPAN"===b.tagName&&(b.style.display="block"),a.style.display="none",b},D.generateRandomId=function(){for(var a="",b=0;20>b;b++)a+="1234567890abcdefghijklmnopqrstuvwxyz".charAt(Math.floor(36*Math.random()));return a},D.createPlaceholder=function(){var a=document.createElement("div");return a.style.width="1px",a.style.height="1px",a.style.display="block",
a.className=D.PLACEHOLDER_NAME,a},D.removePlaceholder=function(a,b){b=b[a];void 0!==b&&null!==b.parentNode&&b.parentNode.removeChild(b);b=document.getElementById(a);if(null!==b)for(a=0,b=b.getElementsByClassName(D.PLACEHOLDER_NAME);a<b.length;a++){var e=b[a];null!==e.parentNode&&e.parentNode.removeChild(e)}},D.insertAdIFrame=function(a,b){b=b[a];if(void 0!==b)a=b;else if(a=document.getElementById(a),null===a)return null;for(a=a.getElementsByClassName(D.PLACEHOLDER_NAME);0<a.length;){a=a[0];b=0;for(var e=
a.childNodes;b<e.length;b++){var u=e[b];null!==u.parentNode&&u.parentNode.removeChild(u)}b=this.createAdIFrame();return a.appendChild(b),a.style.width="",a.style.height="",a.style.display="",b}return null},D.createAdIFrame=function(){var a=document.createElement("iframe");return a.scrolling="no",a.marginWidth="0",a.marginHeight="0",a.frameBorder="0",a.style.border="0",a.style.verticalAlign="bottom",a},D.removePlaceholders=function(a,b,e){for(var u=0;u<a.length;u++){var Q=a[u].impId;-1===b.indexOf(Q)&&
D.removePlaceholder(Q,e)}},D.tryInsertPlaceholders=function(a,b,e){for(var u=[],Q=0;Q<a.length;Q++){var S=a[Q];D.tryInsertPlaceholder(S.impId,b,e)&&u.push(S)}return u},D.PLACEHOLDER_NAME="criteo_placeholder",D),xb=(G.prototype.isValid=function(){return 0<this.slots.length},G.prototype.getRequest=function(){for(var a=[],b=0,e=this.slots;b<e.length;b++){var u=e[b],Q={slotid:u.slotId,impid:u.impId};if(void 0!==u.zoneId&&(Q.zoneid=u.zoneId),void 0===u.nativeCallback&&!u.native||(Q.native=!0),void 0!==
u.transactionId&&(Q.transactionid=u.transactionId),void 0!==u.publisherSubId&&(Q.publishersubid=u.publisherSubId),void 0!==u.sizes){for(var S=[],va=0,Fa=u.sizes;va<Fa.length;va++){var Ha=Fa[va];S.push(Ha.width+"x"+Ha.height)}Q.sizes=S}void 0!==u.video&&(S={playersizes:this.parsePlayerSizes(u.video.playersize),mimes:u.video.mimes,protocols:u.video.protocols,maxduration:u.video.maxduration,api:u.video.api,skip:u.video.skip,placement:u.video.placement,playbackmethod:u.video.playbackmethod,minduration:u.video.minduration,
startdelay:u.video.startdelay},Q.video=S);void 0!==this.viewportComputer&&(S=this.viewportComputer.getSlotPosition(u),void 0!==S&&(Q.position={top:S.top,left:S.left}));void 0!==u.ext&&(Q.ext=u.ext);a.push(Q)}b=Ca(Ca({},this.context.getUser()),{ceh:this.context.ceh,uspOptout:this.context.ccpaOptout});e=this.context.getSite();this.context.getUserExtWithContextualData();this.context.getPublisherExt();a={publisher:{url:this.context.highestAccessibleUrl},slots:a,user:b,site:e};if(void 0!==this.networkId&&
(a.publisher.networkid=this.networkId),this.privacyWrapper&&(this.privacyWrapper.gdprConsent&&(a.gdprConsent=this.privacyWrapper.gdprConsent),this.privacyWrapper.ccpaIabConsent&&(b.uspIab=this.privacyWrapper.ccpaIabConsent.uspString)),void 0!==this.viewportComputer)b=this.viewportComputer.getViewport(),a.viewport={width:b.width,height:b.height,scrollTop:b.scrollTop,scrollLeft:b.scrollLeft};return void 0!==this.adapterTimeout&&(a.tmax=this.adapterTimeout),void 0!==this.auctionStart&&(a.auctionStart=
this.auctionStart),void 0!==this.clientRequestId&&(a.id=this.clientRequestId),void 0!==this.userIds&&(a.eids=this.userIds),void 0!==this.schain&&(a.source={ext:{schain:this.schain}}),void 0!==this.regs&&void 0!==this.regs.coppa&&(a.regs={coppa:this.regs.coppa}),a},G.parsePlayerSize=function(a){return a[0]+"x"+a[1]},G.prototype.parsePlayerSizes=function(a){return a?Array.isArray(a[0])?a.map(function(b){return G.parsePlayerSize(b)}):[G.parsePlayerSize(a)]:a},G.prototype.getUrl=function(){return this.urlBuilder.buildUrl(this.profileId,
this.context,this.integrationMode,this.adapterVersion,this.wrapperVersion)},G),Sb=function(a,b,e,u,Q,S,va,Fa,Ha,Oa){this.slotId=H().replace(/-/g,"");this.impId=a;this.zoneId=b;this.native=e;this.nativeCallback=u;this.transactionId=Q;this.sizes=S;this.publisherSubId=va;this.mediaTypes=Fa;this.video=Ha;this.ext=Oa},sc=function(a,b,e,u,Q,S,va,Fa,Ha,Oa,Sa){this.playersize=a;this.mimes=b;this.protocols=e;this.maxduration=u;this.api=Q;this.skip=S;this.placement=va;this.playbackmethod=Fa;this.minduration=
Ha;this.startdelay=Oa;this.videoCallback=Sa},Gb=(c.CreateRunning=function(){var a=new c;return a.start(),a},c.CreateWithStartTime=function(a){var b=new c(!1);return b.startTime=a,b},c.TimeSincePageLoad=function(){if(window.performance){if(window.performance.now)return window.performance.now();if(window.performance.timing&&window.performance.timing.navigationStart)return(new Date).getTime()-performance.timing.navigationStart}return 0},c.prototype.start=function(){this.startTime=this.now()},c.prototype.elapsed=
function(){return this.now()-this.startTime},c),Rb=(m.prototype.sendRequest=function(a){this.url=a;this.sendTime=Gb.CreateRunning();this.builder.withCdbCallStartElapsed(this.timer.elapsed())},m.prototype.requestReceived=function(a){void 0===a&&(a=!1);var b=this.builder,e=b.withElapsed;a:{var u=this.url;if(window.performance&&window.performance.getEntries)for(var Q=window.performance.getEntries(),S=Q.length-1;0<=S;--S){var va=Q[S];if(va.name===u&&va.duration){u=Math.round(va.duration);break a}}u=void 0}e.call(b,
u||this.sendTime.elapsed());this.builder.withCdbCallEndElapsed(this.timer.elapsed());this.builder.withIsTimeout(a)},m.prototype.finish=function(){this.builder.withAdapterEndElapsed(this.timer.elapsed());var a=m.getLastCdbTiming();void 0!==a&&(this.builder.withTimeToFirstByte(m.computeTimeToFirstByte(a)),this.builder.withConnectionEstablishmentTime(m.computeConnectionEstablishmentTime(a)),this.builder.withDomainLookupTime(m.computeDomainLookupTime(a)))},m.getLastCdbTiming=function(){if(void 0!==window.performance&&
void 0!==window.performance.getEntriesByType&&"function"==typeof window.performance.getEntriesByType){var a=window.performance.getEntriesByType("resource");if(void 0!==a)return a=a.filter(function(b){return 0<=b.name.indexOf("cdb")}),void 0!==a&&0<a.length?a[a.length-1]:void 0}},m.computeTimeToFirstByte=function(a){var b=a.responseStart;a=a.requestStart;if(void 0!==b&&void 0!==a)return b-a},m.computeConnectionEstablishmentTime=function(a){a=a.connectEnd-a.connectStart;return isNaN(a)?void 0:a},m.computeDomainLookupTime=
function(a){a=a.domainLookupEnd-a.domainLookupStart;return isNaN(a)?void 0:a},m),Cb=(l.prototype.toString=function(){return this.width+"x"+this.height},l),tc=function(a,b){this.top=a;this.left=b},uc=function(a,b,e,u){this.width=a;this.height=b;this.scrollTop=e;this.scrollLeft=u},yb=(J.getHighestAccessibleWindow=function(a){var b=!1;try{for(;a.parent.document!==a.document;){if(!a.parent.document){b=!0;break}a=a.parent}}catch(e){b=!0}return{topFrame:a,err:b}},J.getHighestAccessibleUrl=function(a){var b=
a.topFrame;if(!a.err)return b.location.href;try{var e=b.top.location.href;if(e)return e}catch(Q){}try{var u=b.location.ancestorOrigins;if(u)return u[u.length-1]}catch(Q){}return b.document.referrer},J.inIframe=function(){try{return window.self!==window.top}catch(a){return!0}},J),bc=(U.prototype.getViewport=function(){var a=yb.getHighestAccessibleWindow(window).topFrame.document;return new uc(g$.cached.windowInnerWidth,g$.cached.windowInnerHeight,a.documentElement.scrollTop||a.body&&a.body.scrollTop||
0,a.documentElement.scrollLeft||a.body&&a.body.scrollLeft||0)},U.prototype.getSlotPosition=function(a){a=document.getElementById(a.impId);if(null!==a)return a=a.getBoundingClientRect(),new tc(a.top,a.left)},U),Qb=(W.prototype.checkLocalStorage=function(a){if(!this.localStorage)return!1;var b=this.CHECK_STORAGE_KEY;try{return this.checkTcfPurposeOne(a)?(this.localStorage.setItem(b,b),this.localStorage.removeItem(b),!0):!1}catch(e){return!1}},W.prototype.checkTcfPurposeOne=function(a){return!a||!a.purposes||
!0===a.purposes[1]},W.prototype.removeItem=function(a){this.localStorageEnabled&&(this.localStorage.removeItem(a),this.localStorage.removeItem(a+this.EXPIRE_SUFFIX))},W.prototype.getItem=function(a,b){if(!this.localStorageEnabled)return null;var e=(new Date).getTime(),u=this.localStorage.getItem(a+this.EXPIRE_SUFFIX);u=u?parseInt(u,10):-1;return-1!==u&&u<e||b&&(-1===u||b<u-e)?(this.removeItem(a),null):this.localStorage.getItem(a)},W.prototype.setItem=function(a,b,e){if(this.localStorageEnabled)try{if(this.localStorage.setItem(a,
b),e){var u=(new Date).getTime()+e;this.localStorage.setItem(a+this.EXPIRE_SUFFIX,u.toString())}}catch(Q){}},W.prototype.getAllItemsByPrefix=function(a){var b=[];if(this.localStorageEnabled)for(var e in localStorage)0===e.indexOf(a)&&b.push(e);return b},W),Vb=(Z.prototype.send=function(a,b,e,u){var Q=void 0!==this.data?"POST":"GET",S=this.getXMLHttpRequest(Q,a,b,e,u);void 0!==S?S.send(this.data):(a=this.getXDomainRequest(Q,a,b,e,u),void 0!==a&&a.send(this.data))},Z.prototype.getXMLHttpRequest=function(a,
b,e,u,Q){var S=new XMLHttpRequest;if("withCredentials"in S)return S.open(a,this.url,!0),S.timeout=Q||Z.LOCAL_PASSBACK_TIMEOUT,this.contentType?S.setRequestHeader("Content-type",this.contentType):"POST"===a&&S.setRequestHeader("Content-type","application/x-www-form-urlencoded"),S.withCredentials=this.withCredentials,S.onload=function(){4===S.readyState&&200===S.status?b(S.responseText):e(S.readyState,S.status)},S.onerror=function(){e(void 0,void 0)},u&&(S.ontimeout=u),S},Z.prototype.getXDomainRequest=
function(a,b,e,u,Q){if("undefined"!=typeof XDomainRequest){var S=new XDomainRequest;return S.timeout=Q||Z.LOCAL_PASSBACK_TIMEOUT,S.open(a,this.url),S.onload=function(){void 0!==S.responseText?b(S.responseText):e(void 0,void 0)},S.onerror&&(S.onerror=function(){e(void 0,void 0)}),S.ontimeout&&u&&(S.ontimeout=u),S}},Z.LOCAL_PASSBACK_TIMEOUT=3E4,Z),vc=(ia.prototype.retrievePixels=function(a,b,e){var u=this;(new Vb(this.getUserSyncUrl(a,b,e))).send(function(Q){Q&&((Q=ia.parseUserSyncResponse(Q))?u.onPixelsRetrieved(Q):
u.errorReporter.log("Error","Unable to parse response from user sync"))},function(Q,S){},function(){},this.pixelSyncTimeout)},ia.prototype.getUserSyncUrl=function(a,b,e){var u=[];return(null==a?void 0:a.consentData)&&u.push("gdpr="+a.consentData),(null==a?void 0:a.gdprApplies)&&u.push("gdprapplies="+a.gdprApplies),(null==b?void 0:b.uspString)&&u.push("ccpa="+b.uspString),(null==e?void 0:e.country_code)&&u.push("countrycode="+e.country_code),this.debug&&u.push("debug=1"),this.pixelSyncEndpoint+(u.length?
"?"+u.join("&"):"")},ia.parseUserSyncResponse=function(a){return(a=E(a))?("pixels"in a?Array.isArray(a.pixels)?a.pixels=a.pixels.filter(function(b){try{return new URL(b),!0}catch(e){}}):a.pixels=[]:a.pixels=[],a):void 0},ia),Wb=(ba.execUserSync=function(a,b,e,u,Q){void 0===Q&&(Q=!1);(new vc(ba.appendUserSyncPixels,a,Q)).retrievePixels(b,e,u)},ba.getOrCreateTagContainer=function(){var a=document.getElementById(ba.tagElementName);if(a)return a;a=document.createElement("div");return a.setAttribute("id",
ba.tagElementName),a.style.display="none",document.body.appendChild(a),a},ba.appendUserSyncPixels=function(a){if(a.pixels.length){var b=ba.getOrCreateTagContainer(),e=0;for(a=a.pixels;e<a.length;e++){var u=a[e],Q=new Image;Q.src=u;Q.alt="";b.appendChild(Q)}}},ba.tagElementName="criteoUserSyncTagsContainer",ba),ac=function(a){this.coppa=a},vb;var Ob=vb=vb||{};Ob.Native="native";Ob.Banner="banner";Ob.Video="video";var pc=(T.prototype.hasValidNativeParams=function(a){return!(a.nativeParams&&(a.nativeParams.image&&
(!0!==a.nativeParams.image.sendId||!0===a.nativeParams.image.sendTargetingKeys)||a.nativeParams.icon&&(!0!==a.nativeParams.icon.sendId||!0===a.nativeParams.icon.sendTargetingKeys)||a.nativeParams.clickUrl&&(!0!==a.nativeParams.clickUrl.sendId||!0===a.nativeParams.clickUrl.sendTargetingKeys)||a.nativeParams.displayUrl&&(!0!==a.nativeParams.displayUrl.sendId||!0===a.nativeParams.displayUrl.sendTargetingKeys)||a.nativeParams.privacyLink&&(!0!==a.nativeParams.privacyLink.sendId||!0===a.nativeParams.privacyLink.sendTargetingKeys)||
a.nativeParams.privacyIcon&&(!0!==a.nativeParams.privacyIcon.sendId||!0===a.nativeParams.privacyIcon.sendTargetingKeys)))},T.prototype.buildCdbUrl=function(){return this.url},T.prototype.buildCdbRequest=function(){if(this.requestBuilder.isValid())return this.adBlockFlagManager.setAdBlockFlagTimer(Math.min((this.timeout||5E3)+1E3,5E3)),this.timer.sendRequest(this.url),this.requestBuilder.getRequest()},T.GetAllAdapters=function(){return(window.Criteo_prebid_135||window.Criteo).prebid_adapters},T.GetAdapter=
function(a){a="string"==typeof a?a:a.bidRequests[0].auctionId;var b=T.GetAllAdapters();if(b&&a in b)return b[a]},T.isPrebid3OrAbove=function(a){if(null==a)return!1;a=parseInt(a,10);return!isNaN(a)&&3<=a},T.createCriteoNativeAdWithCallback=function(a,b,e){a=I(a);return window.criteo_prebid_native_slots=window.criteo_prebid_native_slots||{},window.criteo_prebid_native_slots[a]={callback:e,payload:b},'<script type="text/javascript">\n            var win = window;\n            for (var i = 0; i < 10; ++i) {\n                win = win.parent;\n                if (win.criteo_prebid_native_slots) {\n                    var responseSlot = win.criteo_prebid_native_slots["'+
a+'"];\n                    responseSlot.callback(responseSlot.payload);\n                    break;\n                }\n            }\n        \x3c/script>'},T.createPrebidNativeAd=function(a){return{sendTargetingKeys:!1,title:a.products[0].title,body:a.products[0].description,sponsoredBy:a.advertiser.description,icon:a.advertiser.logo,image:a.products[0].image,clickUrl:a.products[0].click_url,privacyLink:a.privacy.optout_click_url,privacyIcon:a.privacy.optout_image_url,cta:a.products[0].call_to_action,
price:a.products[0].price,impressionTrackers:a.impression_pixels.map(function(b){return b.url})}},T.prototype.getBidRequestForSlot=function(a){for(var b=0,e=this.bidRequests;b<e.length;b++){var u=e[b];if(u.adUnitCode===a.impid&&(!u.params.zoneId||parseInt(u.params.zoneId,10)===a.zoneid))return u}},T.prototype.getSlotForAdUnitCode=function(a){for(var b=0,e=this.slots;b<e.length;b++){var u=e[b];if(u&&u.impId===a)return u}},T.getVideoInfoFromBidRequest=function(a){var b,e,u,Q,S;if(T.hasVideoMediaType(a))return new sc(a.mediaTypes.video.playerSize,
a.mediaTypes.video.mimes,a.mediaTypes.video.protocols,a.mediaTypes.video.maxduration,a.mediaTypes.video.api,a.mediaTypes.video.skip||(null===(b=a.params.video)||void 0===b?void 0:b.skip)||0,a.mediaTypes.video.placement||(null===(e=a.params.video)||void 0===e?void 0:e.placement),a.mediaTypes.video.playbackmethod||(null===(u=a.params.video)||void 0===u?void 0:u.playbackmethod),a.mediaTypes.video.minduration||(null===(Q=a.params.video)||void 0===Q?void 0:Q.minduration),a.mediaTypes.video.startdelay||
(null===(S=a.params.video)||void 0===S?void 0:S.startdelay)||0)},T.hasVideoMediaType=function(a){var b,e,u;return 0<(null===(u=null===(e=null===(b=null==a?void 0:a.mediaTypes)||void 0===b?void 0:b.video)||void 0===e?void 0:e.playerSize)||void 0===u?void 0:u.length)},T.prototype.interpretResponse=function(a,b){var e,u,Q,S,va,Fa,Ha;b=window.criteo_pubtag_prebid_135||window.criteo_pubtag;this.timer.requestReceived();this.adBlockFlagManager.disableAdBlockFlagTimer();var Oa=w(a),Sa={};if(void 0!==Oa.slots){var Ya=
0;for(Oa=Oa.slots;Ya<Oa.length;Ya++)Sa[(za=Oa[Ya]).imp_id]=za}Ya=[];if(a.slots&&Array.isArray(a.slots)){Oa=0;for(var gb=a.slots;Oa<gb.length;Oa++){var za=gb[Oa],hb=this.getBidRequestForSlot(za);if(hb)if(!0===b.context.isAdBlocked){a:{var $a=za.slotid,nb=za.impid,pb=za.cpm,rb=za.width,Wa=za.height,Db=za.zoneid,Xb=hb.params.nativeCallback,Yb=za.native,Pb=za.displayurl,wb=za.creative,Eb=za.deal;if(null===(e=Sa[za.slotid])||void 0===e?0:e.enable_safeframe)za=new sb($a,nb,pb,rb,Wa,Db,void 0,Eb,Pb,wb,void 0);
else if(void 0!==Xb&&void 0!==Yb)za=new eb($a,nb,pb,rb,Wa,Db,Xb,Yb,Eb);else if(void 0!==wb&&0!==wb.indexOf("<script"))za=new qb($a,nb,pb,rb,Wa,Db,wb,Eb,void 0);else{if(void 0!==wb&&0===wb.indexOf("<script")&&(za=wb.match(RegExp("(?:src='|\")(.*)(?='|\")")),null!==za&&0<za.length)){za=new bb($a,nb,pb,rb,Wa,Db,za[1],Eb,void 0);break a}za=void 0!==Pb?new bb($a,nb,pb,rb,Wa,Db,Pb,Eb,void 0):void 0}}void 0!==($a=za)&&kb.tryInsertPlaceholder(hb.adUnitCode,!0,b.context.cloneByImpressionId)&&(za=kb.insertAdIFrame(hb.adUnitCode,
b.context.cloneByImpressionId),null!=za&&(za=new Pa(za.contentDocument),$a.GenerateEvent(za).eval(window.criteo_pubtag_prebid_135)))}else nb=hb.bidId,$a={requestId:nb,cpm:za.cpm,currency:za.currency,netRevenue:!0,ttl:za.ttl||Sa[za.slotid]&&Sa[za.slotid].ttl||60,creativeId:za.creativecode||nb,width:za.width,height:za.height,dealId:za.deal},(null===(Q=null===(u=a.ext)||void 0===u?void 0:u.paf)||void 0===Q?0:Q.transmission)&&(null===(va=null===(S=za.ext)||void 0===S?void 0:S.paf)||void 0===va?0:va.content_id)&&
(pb={content_id:za.ext.paf.content_id,transmission:a.ext.paf.transmission},$a.meta=Ca(Ca({},$a.meta),{paf:pb})),za.adomain&&($a.meta=Ca(Ca({},$a.meta),{advertiserDomains:za.adomain})),za.native?hb.params.nativeCallback?$a.ad=T.createCriteoNativeAdWithCallback(nb,za.native,hb.params.nativeCallback):($a.native=T.createPrebidNativeAd(za.native),$a.mediaType=vb.Native):za.video?($a.vastUrl=za.displayurl,$a.mediaType=vb.Video,"outstream"===(null===(Ha=null===(Fa=hb.mediaTypes)||void 0===Fa?void 0:Fa.video)||
void 0===Ha?void 0:Ha.context)&&($a.renderer=this.createOutstreamVideoRenderer(za))):$a.ad=za.creative,Ya.push($a)}}return this.timer.finish(),this.metricsManager.sendEvents(this.metricBuilder,this.clientRequestId,!0),!0===a.user_sync&&Wb.execUserSync(b.context.remoteLogging,this.gdprConsent,this.ccpaIabConsent,a),Ya},T.prototype.handleBidWon=function(){},T.prototype.handleBidTimeout=function(){this.timer.requestReceived(!0);this.timer.finish();this.metricsManager.sendEvents(this.metricBuilder,this.clientRequestId,
!0)},T.prototype.handleSetTargeting=function(){},T.prototype.getBannerSizes=function(a,b){var e,u;return(null===(u=null===(e=a.mediaTypes)||void 0===e?void 0:e.banner)||void 0===u?void 0:u.sizes)||(b?a.sizes:[])||[]},T.prototype.getNativeSizes=function(a){var b,e,u;return(null===(u=null===(e=null===(b=a.mediaTypes)||void 0===b?void 0:b.native)||void 0===e?void 0:e.image)||void 0===u?void 0:u.sizes)||[]},T.prototype.getSizes=function(a,b){b=this.getBannerSizes(a,!b).map(function(e){return new Cb(e[0],
e[1])});a=this.getNativeSizes(a).map(function(e){return new Cb(e[0],e[1])});return b.concat(a).filter(function(e,u,Q){return Q.indexOf(e)===u})},T.prototype.createOutstreamVideoRenderer=function(a){if(void 0!==a.video_callback)return{url:"#",render:function(b,e){k(a.video_callback,[{slotid:a.impid,vastUrl:a.displayurl,vastXml:a.creative,documentContext:e}])},config:{documentResolver:function(b,e,u){return null!=u?u:e}}}},T.prototype.parseSizes=function(a){try{if(a)return 2===a.length&&"number"==typeof a[0]&&
"number"==typeof a[1]?[new Cb(a[0],a[1])]:(a||[]).map(function(b){return new Cb(b[0],b[1])})}catch(b){}return[]},T.prototype.pickAvailableGetFloorFunc=function(a){if(a.getFloor)return a.getFloor;if(a.params.bidFloor&&a.params.bidFloorCur)try{var b=parseFloat(a.params.bidFloor);return function(e){return{currency:a.params.bidFloorCur,floor:b}}}catch(e){}},T.prototype.enrichSlotWithFloors=function(a,b){var e,u,Q,S,va,Fa,Ha;try{var Oa={},Sa=this.pickAvailableGetFloorFunc(b);void 0!==Sa&&((null===(e=b.mediaTypes)||
void 0===e?void 0:e.banner)&&(Oa.banner={},this.parseSizes(null===(Q=null===(u=b.mediaTypes)||void 0===u?void 0:u.banner)||void 0===Q?void 0:Q.sizes).forEach(function(Ya){void 0!==Sa&&(Oa.banner[Ya.toString()]=Sa.call(b,{size:[Ya.width,Ya.height],mediaType:vb.Banner}))})),(null===(S=b.mediaTypes)||void 0===S?void 0:S.video)&&(Oa.video={},this.parseSizes(null===(Fa=null===(va=b.mediaTypes)||void 0===va?void 0:va.video)||void 0===Fa?void 0:Fa.playerSize).forEach(function(Ya){void 0!==Sa&&(Oa.video[Ya.toString()]=
Sa.call(b,{size:[Ya.width,Ya.height],mediaType:vb.Video}))})),(null===(Ha=b.mediaTypes)||void 0===Ha?void 0:Ha.native)&&(Oa.native={},Oa.native["*"]=Sa.call(b,{size:"*",mediaType:vb.Native})),Object.keys(Oa).length&&(a=Ca(Ca({},a),{floors:Oa})))}catch(Ya){}return a},T),Hb=(O.prototype.getCMPFrame=function(){for(var a,b=this.currentWindow,e=0;10>e;++e){try{b.frames.__uspapiLocator&&(a=b)}catch(u){}if(b===this.currentWindow.top)break;b=b.parent}return a},O.prototype.hasCallerFunctionInWindow=function(){return"function"==
typeof this.currentWindow.__uspapi},O.prototype.readyToRetrieve=function(){return this.hasCallerFunctionInWindow()||void 0!==this.getCMPFrame()},O.prototype.retrieveConsent=function(a){var b=this,e=!1,u=window.setTimeout(function(){e=!0;b.logger("Timeout: Unable to resolve CCPA consent after "+b.timeout+"ms");a(void 0)},this.timeout);this.executeCommand("getUSPData",1,function(Q,S){e||(clearTimeout(u),S?(b.logger("CCPA consent retrieved"),b.processResponseData(Q,a)):(b.logger("Error retrieving CCPA consent data from CMP"),
a(void 0)))})},O.prototype.processResponseData=function(a,b){a?b(a):(this.logger("Unable to read CCPA consent data from CMP"),b(void 0))},O.prototype.executeCommand=function(a,b,e){var u=this;if(!this.hasCallerFunctionInWindow()){this.logger("No CCPA CMP defined on current frame");var Q=this.getCMPFrame();this.currentWindow.__uspapi=function(S,va,Fa){if(!Q)return u.logger("CCPA CMP not found in any frame"),void Fa({msg:"CCPA CMP not found in any frame"},!1);var Ha=Math.random().toString(10);S={__uspapiCall:{command:S,
parameter:va,callId:Ha}};u.uspapiCallbacks[Ha]=Fa;Q.postMessage(S,"*")};this.currentWindow.addEventListener("message",function(S){(S="string"==typeof S.data?N(S.data):S.data)&&S.__uspapiReturn&&S.__uspapiReturn.callId&&S.__uspapiReturn.returnValue&&(S=S.__uspapiReturn,u.uspapiCallbacks&&u.uspapiCallbacks[S.callId]&&(u.uspapiCallbacks[S.callId](S.returnValue,S.success),delete u.uspapiCallbacks[S.callId]))},!1)}this.currentWindow.__uspapi(a,b,e)},O.prototype.hasUserOptOut=function(a){return!(!a||!a.uspString||
"1YNY"===a.uspString.toUpperCase()||"1YNN"===a.uspString.toUpperCase()||"1YN-"===a.uspString.toUpperCase()||"1-N-"===a.uspString.toUpperCase()||"1---"===a.uspString)},O),Ib=(oa.prototype.getReadyToRetrieveProvider=function(){return this.tcfv2ConsentProvider.hasCallerFunctionInFrame()?this.tcfv2ConsentProvider:this.tcfv1ConsentProvider.hasCallerFunctionInFrame()?this.tcfv1ConsentProvider:void 0!==this.tcfv2ConsentProvider.getCMPFrame()?this.tcfv2ConsentProvider:void 0!==this.tcfv1ConsentProvider.getCMPFrame()?
this.tcfv1ConsentProvider:void 0},oa.prototype.retrieveConsentForPassback=function(a){var b=this.getReadyToRetrieveProvider();void 0===b&&(this.logger("No compatible GDPR privacy provider found"),a(void 0));b===this.tcfv1ConsentProvider?this.tcfv1ConsentProvider.retrieveConsentForPassback(a):b===this.tcfv2ConsentProvider&&this.tcfv2ConsentProvider.retrieveConsent(a)},oa.prototype.retrieveConsent=function(a){var b=this.getReadyToRetrieveProvider();void 0===b&&(this.logger("No compatible GDPR privacy provider found"),
a(void 0));null==b||b.retrieveConsent(a)},oa.prototype.readyToRetrieve=function(){return this.tcfv2ConsentProvider.readyToRetrieve()||this.tcfv1ConsentProvider.readyToRetrieve()},oa),dc=(ta.prototype.getCMPFrame=function(){for(var a,b=this.currentWindow,e=0;10>e;++e){try{b.frames.__cmpLocator&&(a=b)}catch(u){}if(b===this.currentWindow.top)break;b=b.parent}return a},ta.prototype.hasCallerFunctionInFrame=function(){return"function"==typeof this.currentWindow.__cmp},ta.prototype.readyToRetrieve=function(){return this.hasCallerFunctionInFrame()||
void 0!==this.getCMPFrame()},ta.prototype.pingWithTimeout=function(a,b,e,u){var Q=this;return window.setTimeout(function(){var S=window.setTimeout(function(){Q.logger("Timeout: Unable to get ping return after "+b+"ms");clearTimeout(a);u()},b);Q.executeCommand("ping",null,function(va,Fa){clearTimeout(S);Fa?(Q.logger("GDPR CMP ping returned"),!0!==va.cmpLoaded&&(Q.logger("GDPR ping returned cmpLoaded which is not true"),clearTimeout(a),u()),Q.logger("GDPR ping returned cmpLoaded which is true")):(Q.logger("Error sending ping to GDPR CMP"),
clearTimeout(a),u())})},e)},ta.prototype.retrieveConsent=function(a){this.executeRetrieveConsent("getConsentData",null,a)},ta.prototype.retrieveConsentForPassback=function(a){this.executeRetrieveConsent("getVendorConsents",[91],a)},ta.prototype.executeRetrieveConsent=function(a,b,e){var u=this,Q=!1,S=window.setTimeout(function(){Q=!0;u.logger("Timeout: Unable to resolve GDPR consent after "+u.timeout+"ms");e(void 0)},this.timeout),va=!1!==this.cmpAutoDetect?this.pingWithTimeout(S,this.pingTimeout,
this.pingDelay,function(){Q=!0;u.logger("Timeout: Unable to ping GDPR API after "+u.pingTimeout+"ms");e(void 0)}):void 0;this.executeCommand(a,b,function(Fa,Ha){clearTimeout(va);Q||(clearTimeout(S),Ha?(u.logger("GDPR consent retrieved"),u.processConsentData(Fa,e)):(u.logger("Error retrieving GDPR consent data from CMP"),e(void 0)))})},ta.prototype.processConsentData=function(a,b){if(a){var e={};void 0!==a.consentData&&(e.consentData=a.consentData);void 0!==a.gdprApplies&&(e.gdprApplies=!!a.gdprApplies);
b(e)}else this.logger("Unable to read GDPR consent data from CMP"),b(void 0)},ta.prototype.executeCommand=function(a,b,e){var u=this;if(!this.hasCallerFunctionInFrame()){this.logger("No GDPR CMP defined on current frame");var Q=this.getCMPFrame();this.currentWindow.__cmp=function(S,va,Fa){if(!Q)return u.logger("GDPR CMP not found in any frame"),void Fa({msg:"GDPR CMP not found in any frame"},!1);var Ha=Math.random().toString(10);S={__cmpCall:{command:S,parameter:va,callId:Ha}};u.cmpCallbacks[Ha]=
Fa;Q.postMessage(S,"*")};this.currentWindow.addEventListener("message",function(S){(S="string"==typeof S.data?N(S.data):S.data)&&S.__cmpReturn&&S.__cmpReturn.callId&&S.__cmpReturn.returnValue&&(S=S.__cmpReturn,u.cmpCallbacks&&u.cmpCallbacks[S.callId]&&(u.cmpCallbacks[S.callId](S.returnValue,S.success),delete u.cmpCallbacks[S.callId]))},!1)}this.currentWindow.__cmp(a,b,e)},ta),ec=(Da.prototype.getCMPFrame=function(){for(var a,b=this.currentWindow,e=0;10>e;++e){try{b.frames.__tcfapiLocator&&(a=b)}catch(u){}if(b===
this.currentWindow.top)break;b=b.parent}return a},Da.prototype.hasCallerFunctionInFrame=function(){return"function"==typeof this.currentWindow.__tcfapi},Da.prototype.readyToRetrieve=function(){return this.hasCallerFunctionInFrame()||void 0!==this.getCMPFrame()},Da.prototype.pingWithTimeout=function(a,b,e,u){var Q=this;return window.setTimeout(function(){var S=window.setTimeout(function(){Q.logger("Timeout: Unable to get TCFv2 ping return after "+b+"ms");clearTimeout(a);u()},b);Q.executeCommand("ping",
2,function(va){clearTimeout(S);Q.logger("TCFv2 CMP ping returned in ms");"error"===va.cmpStatus?(Q.logger("Error status on ping to TCFv2 CMP"),clearTimeout(a),u()):!0!==va.cmpLoaded?(Q.logger("TCFv2 ping returned cmpLoaded = false"),clearTimeout(a),u()):Q.logger("TCFv2 ping returned cmpLoaded = true")})},e)},Da.prototype.retrieveConsent=function(a){var b=this,e=!1,u=window.setTimeout(function(){e=!0;b.logger("Timeout: Unable to resolve TCFv2 consent after "+b.timeout+"ms");a(void 0)},this.timeout),
Q=!1!==this.cmpAutoDetect?this.pingWithTimeout(u,this.pingTimeout,this.pingDelay,function(){e=!0;b.logger("Timeout: Unable to ping TCFv2 API after "+b.pingTimeout+"ms");a(void 0)}):void 0;this.executeCommand("getTCData",2,function(S,va){clearTimeout(Q);e||(clearTimeout(u),va?(b.logger("TCFv2 consent retrieved in ms"),b.processResponseData(S,a)):(b.logger("Error retrieving TCFv2 consent data from CMP"),a(void 0)))},[91])},Da.prototype.processResponseData=function(a,b){var e,u;if(a){var Q={};void 0!==
a.tcString&&(Q.consentData=a.tcString);void 0!==a.gdprApplies&&(Q.gdprApplies=!!a.gdprApplies);Q.version=a.tcfPolicyVersion?a.tcfPolicyVersion:2;Q.purposes=null===(e=null==a?void 0:a.purpose)||void 0===e?void 0:e.consents;Q.vendorConsents=null===(u=null==a?void 0:a.vendor)||void 0===u?void 0:u.consents;b(Q)}else this.logger("Unable to read GDPR consent data from CMP"),b(void 0)},Da.prototype.executeCommand=function(a,b,e,u){var Q=this;if(!this.hasCallerFunctionInFrame()){this.logger("No TCFv2 CMP defined on current frame");
var S=this.getCMPFrame();this.currentWindow.__tcfapi=function(va,Fa,Ha,Oa){if(!S)return Q.logger("TCFv2 CMP not found in any frame"),void Ha({msg:"TCFv2 CMP not found in any frame"},!1);var Sa=Math.random().toString(10);va={__tcfapiCall:{command:va,version:Fa,parameter:Oa,callId:Sa}};Q.cmpCallbacks[Sa]=Ha;S.postMessage(va,"*")};this.currentWindow.addEventListener("message",function(va){(va="string"==typeof va.data?N(va.data):va.data)&&va.__tcfapiReturn&&va.__tcfapiReturn.callId&&va.__tcfapiReturn.returnValue&&
(va=va.__tcfapiReturn,Q.cmpCallbacks&&Q.cmpCallbacks[va.callId]&&"function"==typeof Q.cmpCallbacks[va.callId]&&(Q.cmpCallbacks[va.callId](va.returnValue,va.success),delete Q.cmpCallbacks[va.callId]))},!1)}this.currentWindow.__tcfapi(a,b,e,u)},Da),wc=(V.prototype.checkTcfPurposeOne=function(a){return!a||!a.purposes||!0===a.purposes[1]},V.prototype.setCookie=function(a,b,e,u,Q){void 0===Q&&(Q=!1);var S=u||document,va=S.location.hostname,Fa=new Date;Fa.setTime(Fa.getTime()+36E5*e);e="expires="+Fa.toUTCString();
if(!Q)return this.setCookieString(a,b,e,void 0,S),va;Q=va.split(".");for(Fa=1;Fa<Q.length;++Fa){var Ha=Q.slice(Q.length-Fa-1,Q.length).join(".");if(!(-1<this.publicTopTlds.indexOf(Ha)))try{this.setCookieString(a,b,e,Ha,S);var Oa=this.getCookie(a,u);if(Oa&&Oa===b)return Ha}catch(Sa){}}return va},V.prototype.deleteCookie=function(a,b,e){void 0===e&&(e=!1);this.setCookie(a,"",0,b,e)},V.prototype.getCookie=function(a,b){if(this.cookiesEnabled){var e=0;for(b=(b||document).cookie.split(";");e<b.length;e++){var u=
b[e],Q=u.substr(0,u.indexOf("=")).replace(/^\s+|\s+$/g,"");u=u.substr(u.indexOf("=")+1);if(Q===a)return decodeURIComponent(u)}}},V.prototype.setCookieString=function(a,b,e,u,Q){this.cookiesEnabled&&(a=a+"="+encodeURIComponent(b)+";"+e+";",u&&""!==u&&(a+="domain=."+u+";"),Q.cookie=a+"path=/")},V),cc=(pa.isChrome=function(){return-1!=navigator.userAgent.indexOf("Chrome")},pa.addOneTrialTokenInDocument=function(a){var b=document.createElement("meta");b.httpEquiv="origin-trial";b.content=a;document.head.appendChild(b)},
pa.addTrialTokens=function(){this.isChrome()&&(this.addOneTrialTokenInDocument(pa.CRITEO_NET_TOKEN),this.addOneTrialTokenInDocument(pa.CRITEO_COM_TOKEN))},pa.CRITEO_NET_TOKEN="A/vXSuiuvzsL+Db89QNS/YzqK5Wmzx9oASGHZVMjcaWfVdbB6eUJrJGNr7uhrsmiGhryVjVALd72agYzELDTMAgAAACAeyJvcmlnaW4iOiJodHRwczovL2NyaXRlby5uZXQ6NDQzIiwiZmVhdHVyZSI6IlByaXZhY3lTYW5kYm94QWRzQVBJcyIsImV4cGlyeSI6MTY2OTc2NjM5OSwiaXNTdWJkb21haW4iOnRydWUsImlzVGhpcmRQYXJ0eSI6dHJ1ZX0=",pa.CRITEO_COM_TOKEN="A0KGawWMfAygakxUO+Z3rulPwK2j0AqkLneiEt4pAI951GYaafeHNV9Ya+PAn7s0y12QSrfTjc9LdOUU+QfkdQwAAACAeyJvcmlnaW4iOiJodHRwczovL2NyaXRlby5jb206NDQzIiwiZmVhdHVyZSI6IlByaXZhY3lTYW5kYm94QWRzQVBJcyIsImV4cGlyeSI6MTY2OTc2NjM5OSwiaXNTdWJkb21haW4iOnRydWUsImlzVGhpcmRQYXJ0eSI6dHJ1ZX0=",
pa),Ub=(X.prototype.initializeServices=function(){var a=this;this.initializing=!0;this.retrievePrivacyConsent(function(b,e){var u={localStorageHelper:new Qb(a.topFrame,e),gdprConsent:e,ccpaConsentProvider:a.ccpaConsentProvider,ccpaConsent:b,cookieHelper:new wc(e)};a.services=u;a.initialized=!0;a.initializing=!1;a.postInitiliazeServicesCallbacks.forEach(function(Q){Q(u)})})},X.prototype.getServicesAsync=function(a){this.initialized?a(this.services):(this.postInitiliazeServicesCallbacks.push(a),this.initializing||
this.initializeServices())},X.prototype.retrievePrivacyConsent=function(a){var b=this.tcfCompatibleConsentProvider.readyToRetrieve(),e=this.ccpaConsentProvider.readyToRetrieve();b||e||a(void 0,void 0);var u,Q,S=[];b&&S.push(Ib);e&&S.push(Hb);b&&this.tcfCompatibleConsentProvider.retrieveConsent(function(va){S.splice(S.indexOf(Ib),1);0===S.length?a(Q,va):u=va});e&&this.ccpaConsentProvider.retrieveConsent(function(va){S.splice(S.indexOf(Hb),1);0===S.length?a(va,u):Q=va})},X),fc=(Jb=Ta,sa(aa,Jb),aa.prototype.getMetricBuilder=
function(){return this.metricBuilder},aa.prototype.eval=function(a){this.evalWithTimeout(a,void 0)},aa.prototype.evalWithTimeout=function(a,b){var e=this;(this.serviceProvider||new Ub).getServicesAsync(function(u){e.metricsManager||(e.metricsManager=new La(u.localStorageHelper));e.metricBuilder||(e.metricBuilder=new lb(e.metricsManager));e.innerEval(a,e.metricBuilder,u.gdprConsent,u.ccpaConsent,b)})},aa.prototype.innerEval=function(a,b,e,u,Q){var S=this,va=H(),Fa=aa.getCriteoAdapterBidRequest(),Ha=
aa.getRequestAuctionStart(Fa);Q=Q||A(Fa&&Fa.timeout);var Oa=new Rb(b,Ha,Q);Ha=new xb(this.slots,a.context,this.urlBuilder,this.profileId,this.integrationMode,this.networkId,this.adapterVersion,{ccpaIabConsent:u,gdprConsent:e},void 0,this.viewportComputer,Q,va,a.context.userIds,Math.round(new Date/1E3));Ha.isValid()&&"undefined"!=typeof JSON&&(void this.callbackError(void 0,void 0),Q=Ha.getRequest(),Q=JSON.stringify(Q),Ha=Ha.getUrl(),Q=new Vb(Ha,Q,"application/x-www-form-urlencoded"),Oa.sendRequest(Ha),
Q.send(function(Sa){try{Oa.requestReceived();var Ya=E(Sa)||{},gb=w(Ya);void 0!==S.callbackSuccess&&S.callbackSuccess(JSON.stringify(Ya),gb);Oa.finish();!0===Ya.user_sync&&Wb.execUserSync(a.context.remoteLogging,e,u,Ya);b.getMetricsManager().sendEvents(b,va,!0)}catch(za){S.reportAsyncRequestException(a,"onSuccess",za)}a.context.remoteLogging.sendErrorReport(S.urlBuilder,va);S.metricBuilder=void 0},function(Sa,Ya){try{Oa.requestReceived(),void 0!==S.callbackError&&S.callbackError(Sa,Ya),Oa.finish(),
b.getMetricsManager().sendEvents(b,va,!0)}catch(gb){S.reportAsyncRequestException(a,"onError",gb)}a.context.remoteLogging.sendErrorReport(S.urlBuilder,va);S.metricBuilder=void 0},function(){try{Oa.requestReceived(!0),void 0!==S.callbackTimeout&&S.callbackTimeout(),Oa.finish(),b.getMetricsManager().sendEvents(b,va,!0)}catch(Sa){S.reportAsyncRequestException(a,"onTimeout",Sa)}a.context.remoteLogging.sendErrorReport(S.urlBuilder,va);S.metricBuilder=void 0},this.timeout))},aa.prototype.reportAsyncRequestException=
function(a,b,e){a.context.remoteLogging.log("Exception","Exception caught in AsyncRequest "+b+" callback:\n"+(e.stack?e.stack:e.toString()))},aa.getCriteoAdapterBidRequest=function(){try{return window.pbjs._bidsRequested.find(function(a){return"criteo"===a.bidderCode})}catch(a){}},aa.getRequestAuctionStart=function(a){return a&&a.auctionStart},aa.NAME="directbidding",aa),Jb,qc=(Kb=Ta,sa(da,Kb),da.prototype.eval=function(a){var b=this;setTimeout(function(){return b.onTimeout()},this.timeout);this.directBiddingEvent.evalWithTimeout(a,
this.timeout)},da.prototype.onSuccess=function(a,b){this.hasResponded=!0;this.hasTimeouted||this.callbackSuccess(a,b)},da.prototype.onError=function(a,b){this.hasResponded=!0;this.hasTimeouted||this.callbackError(a,b)},da.prototype.onHttpTimeout=function(){this.hasResponded=!0;this.hasTimeouted||this.callbackTimeout()},da.prototype.onTimeout=function(){this.hasResponded||(this.hasTimeouted=!0,this.callbackTimeout())},da.prototype.getMetricBuilder=function(){return this.directBiddingEvent.getMetricBuilder()},
da.NAME="directbidding",da),Kb,rc={prebid:"criteo_fast_bid",index:"criteo_fast_bid_index"},xc=function(a,b){this.errorType=a;this.messages=b},yc=function(a,b,e){this.environment=a;this.errors=b;this.requestId=e},Tb=(R.prototype.withMessage=function(a,b){return a in this.messages||(this.messages[a]=[]),this.messages[a].push(b),this},R.prototype.withRequestId=function(a){return this.requestId=a,this},R.prototype.build=function(){var a=[],b;for(b in this.messages)null!=b&&a.push(new xc(b,this.messages[b]));
return new yc(this.environment,a,this.requestId)},R),jc=(fa.prototype.reportPending=function(){return this.shouldSend},fa.prototype.sendErrorReport=function(a,b){this.shouldSend&&(void 0!==b&&this.builder.withRequestId(b),b=this.builder.build(),a=a.buildErrorUrl(),a+=this.debug?"?debug=1":"",b=JSON.stringify(b),navigator.sendBeacon&&navigator.sendBeacon(a,b),this.shouldSend=!1,this.builder=new Tb(fa.environment))},fa.prototype.log=function(a,b){this.shouldSend=!0;this.builder.withMessage(a,b)},fa.environment=
"PublisherTag Version 135",fa),Fb;var zb=Fb=Fb||{};zb[zb.InFriendlyIframe=1]="InFriendlyIframe";zb[zb.InUnfriendlyIframe=2]="InUnfriendlyIframe";zb[zb.DirectIntegration=3]="DirectIntegration";var lc=(K.prototype.getUserContextualData=function(){var a,b,e,u,Q,S,va,Fa,Ha,Oa,Sa,Ya;return{data:{contentLanguage:"en-US",navigatorLanguage:null===(b=null===(a=this.window)||void 0===a?void 0:a.navigator)||void 0===b?void 0:b.language,orientation:this.getOrientation(),windowInnerWidth:g$.cached.windowInnerWidth,
windowInnerHeight:g$.cached.windowInnerHeight,pageWidth:null===(Q=null===(u=null===(e=this.window)||void 0===e?void 0:e.document)||void 0===u?void 0:u.documentElement)||void 0===Q?void 0:Q.scrollWidth,pageHeight:null===(Fa=null===(va=null===(S=this.window)||void 0===S?void 0:S.document)||void 0===va?void 0:va.documentElement)||void 0===Fa?void 0:Fa.scrollHeight,sessionDuration:Gb.TimeSincePageLoad()},device:{w:null===(Oa=null===(Ha=this.window)||void 0===Ha?void 0:Ha.screen)||void 0===Oa?void 0:Oa.width,
h:null===(Ya=null===(Sa=this.window)||void 0===Sa?void 0:Sa.screen)||void 0===Ya?void 0:Ya.height}}},K.prototype.getOrientation=function(){var a,b,e,u,Q,S;return((null===(b=null===(a=this.window)||void 0===a?void 0:a.screen)||void 0===b?void 0:b.orientation)||{}).type||(null===(u=null===(e=this.window)||void 0===e?void 0:e.screen)||void 0===u?void 0:u.mozOrientation)||(null===(S=null===(Q=this.window)||void 0===Q?void 0:Q.screen)||void 0===S?void 0:S.msOrientation)},K),ic=(Lb=wa,sa(ha,Lb),ha.prototype.sendEvents=
function(a){a={requestId:this.context.getClientSessionId(),events:[a]};this.context.isEligibleForCsmEvents()&&this.sendEventsToBeacon(a,this.urlBuilder.buildCsmEventsUrl())},ha),Lb,Ab,Zb;var tb=Ab=Ab||{};tb[tb.None=0]="None";tb[tb.Cookie=1]="Cookie";tb[tb.LocalStorage=2]="LocalStorage";tb[tb.Delegation=4]="Delegation";var Bb=Zb=Zb||{};Bb[Bb.Unknown=0]="Unknown";Bb[Bb.Deactivated=1]="Deactivated";Bb[Bb.Activated=2]="Activated";var zc=(la.prototype.getSid=function(){return this.userDataHandlers.sid().fromAllStorages()},
la.prototype.getIdCpy=function(){return this.userDataHandlers.idCpy().fromAllStorages()},la.prototype.getLocalWebId=function(){return this.userDataHandlers.localWebId().fromAllStorages()},la.prototype.getOptOut=function(){return this.userDataHandlers.optOut().fromAllStorages()},la.prototype.getBundle=function(){return this.userDataHandlers.bundle().fromAllStorages()},la),Ac=(Mb=(xa.fromUserIdentificationData=function(a){return new xa(a.value,a.origin)},xa.fromValue=function(a){return new xa(a,Ab.None)},
xa.prototype.hasValue=function(){return""!==String(this.value)&&null!==this.value&&void 0!==this.value},xa),sa(Y,Mb),Y.prototype.hasValue=function(){return""!==String(this.value)&&null!==this.value&&void 0!==this.value},Y.prototype.saveOnAllStorages=function(){this.hasValue()&&this.storageAdapter.writeToAllStorages(this.storageKey,"boolean"==typeof this.value?this.value?"1":"0":String(this.value),this.expirationTimeHours)},Y.prototype.toJSON=function(){return{value:this.value,origin:this.origin}},
Y),Mb,gc=(ea.prototype.sid=function(){return this.createGuid(ea.SID_COOKIE_NAME)},ea.prototype.idCpy=function(){return this.createGuid(ea.IDCPY_COOKIE_NAME)},ea.prototype.localWebId=function(){return this.createGuid(ea.LWID_COOKIE_NAME)},ea.prototype.optOut=function(){return new $b(Boolean,ea.OPTOUT_COOKIE_NAME,ea.OPTOUT_RETENTION_TIME_HOUR,this.storageAdapter)},ea.prototype.bundle=function(){return this.createGuid(ea.BUNDLE_COOKIE_NAME)},ea.prototype.createGuid=function(a){return new $b(String,a,
ea.GUID_RETENTION_TIME_HOUR,this.storageAdapter)},ea.SID_COOKIE_NAME="cto_sid",ea.IDCPY_COOKIE_NAME="cto_idcpy",ea.LWID_COOKIE_NAME="cto_lwid",ea.OPTOUT_COOKIE_NAME="cto_optout",ea.BUNDLE_COOKIE_NAME="cto_bundle",ea.GUID_RETENTION_TIME_HOUR=9360,ea.OPTOUT_RETENTION_TIME_HOUR=43200,ea),$b=(ya.prototype.fromAllStorages=function(){var a=this.storageAdapter.readFromAllStorages(this.storageKey),b="boolean"==typeof(new this.type).valueOf()?"1"===a.value:a.value;return this.create(b,a.origin)},ya.prototype.fromValue=
function(a){return this.create(a,Ab.None)},ya.prototype.removeFromAllStorages=function(){this.storageAdapter.removeFromAllStorages(this.storageKey)},ya.prototype.create=function(a,b){return new Ac(this.storageKey,this.expirationTimeHours,a,b,this.storageAdapter)},ya),hc=(Nb=(Aa.prototype.getSyncframeListener=function(a,b){var e=this;return function(u){if(!e.discardMessageFromOtherFrames(u)||e.window.criteo_syncframe_state.ForceSyncframeMessageHandling){var Q=u.data;(null==Q?void 0:Q.requestId)===
a&&(u.stopImmediatePropagation(),e.handleSyncframeResponse(Q,b),e.window.criteo_syncframe_state.firstSyncframeCompleted=!0,e.window.criteo_syncframe_state.syncframeRequested=!1,e.tryUnqueueAppendSyncframeRequests())}}},Aa.prototype.userBundleHasAlreadyBeenRetrieved=function(){return this.userDataHandlers.bundle().fromAllStorages().hasValue()},Aa.prototype.canDropSyncframe=function(){return!this.window.criteo_syncframe_state.syncframeRequested},Aa.prototype.discardMessageFromOtherFrames=function(a){return!a.data||
a.origin!=this.syncframeOrigin},Aa.prototype.appendGumIframeIfDoesNotExist=function(a,b,e){var u,Q=this;!0===(null===(u=this.window.criteo_syncframe_state)||void 0===u?void 0:u.firstSyncframeCompleted)||this.userBundleHasAlreadyBeenRetrieved()||this.canDropSyncframe()?this.appendGumIframe(a,b,e):this.queueAppendSyncframeRequest(function(){return Q.appendGumIframeIfDoesNotExist(a,b,e)})},Aa.prototype.doOnCompletedDom=function(a){var b=this;if(this.window.addEventListener)if("complete"===this.document.readyState)a();
else{var e=function(){b.window.removeEventListener("load",e);b.document.removeEventListener("DOMContentLoaded",e);a()};this.window.addEventListener("load",e,!1);this.document.addEventListener("DOMContentLoaded",e,!1)}},Aa.prototype.appendGumIframe=function(a,b,e){b();a=a();this.consentAllowsSyncframeToBeDropped(a.consent)?(this.window.addEventListener("message",this.getSyncframeListener(a.requestId,e),!0),e=this.createIFrame(a),this.document.body.appendChild(e),this.window.criteo_syncframe_state.syncframeRequested=
!0):this.handleSyncframeResponse({},e)},Aa.prototype.consentAllowsSyncframeToBeDropped=function(a){var b;return 2!==(null==a?void 0:a.gdprVersion)||!0!==(null==a?void 0:a.gdprApplies)||!0===(null===(b=null==a?void 0:a.vendorConsents)||void 0===b?void 0:b[this.criteoGlobalVendorListId])},Aa.prototype.queueAppendSyncframeRequest=function(a){void 0!==this.window.criteo_syncframe_state.appendSyncframeRequestQueue&&this.window.criteo_syncframe_state.appendSyncframeRequestQueue.push(a)},Aa.prototype.tryUnqueueAppendSyncframeRequests=
function(){for(var a,b,e=null===(a=this.window.criteo_syncframe_state.appendSyncframeRequestQueue)||void 0===a?void 0:a.shift();void 0!==e;)e(),e=null===(b=this.window.criteo_syncframe_state.appendSyncframeRequestQueue)||void 0===b?void 0:b.shift()},Aa.prototype.createIFrame=function(a){var b,e=this.document.createElement("iframe"),u={uid:a.uid,lwid:a.localWebId,bundle:a.bundle,optout:a.optoutCookie,sid:a.secureIdCookie,tld:a.topLevelDomain,topUrl:a.topUrl,version:"string"==typeof a.version?null===
(b=a.version)||void 0===b?void 0:b.replace(/\./g,"_"):a.version,cw:a.canWriteCookie,lsw:a.canWriteLocalStorage,origin:a.origin,pm:a.privateMode,rtusCallerId:a.rtusCallerId,requestId:a.requestId};b=[];return b.push("origin="+a.origin),b.push("topUrl="+a.topUrl),a.consent&&(void 0!==a.consent.gdprApplies&&b.push("gdpr="+(a.consent.gdprApplies?1:0)),void 0!==a.consent.consentData&&b.push("gdpr_consent="+a.consent.consentData),void 0!==a.consent.uspString&&b.push("us_privacy="+a.consent.uspString)),a.isDebug&&
b.push("debug=1"),e.src=this.syncframeEndpoint+"?"+b.join("&")+"#"+JSON.stringify(u),e.width="0",e.height="0",e.frameBorder="0",e.style.borderWidth="0px",e.style.margin="0px",e.style.display="none",e.title="Criteo GUM iframe",e},Aa),sa(Ga,Nb),Ga.prototype.handleSyncframeResponse=function(a,b){var e;if(a.optout)this.userDataHandlers.idCpy().removeFromAllStorages(),this.userDataHandlers.sid().removeFromAllStorages(),this.userDataHandlers.bundle().removeFromAllStorages(),this.userDataHandlers.optOut().fromValue(!0).saveOnAllStorages(),
null===(e=null==b?void 0:b.resolve)||void 0===e||e.call(b,"");else{if(a.uid&&this.userDataHandlers.idCpy().fromValue(a.uid).saveOnAllStorages(),a.callbacks){e=0;for(var u="string"==typeof a.callbacks?[a.callbacks]:a.callbacks;e<u.length;e++){var Q=u[e],S=this.document.createElement("img");S.style.display="none";S.width=1;S.height=1;S.setAttribute("data-owner","criteo-tag");S.src=Q}}else a.bundle&&this.userDataHandlers.bundle().fromValue(a.bundle).saveOnAllStorages();a.removeSid?this.userDataHandlers.sid().removeFromAllStorages():
a.sid&&this.userDataHandlers.sid().fromValue(a.sid).saveOnAllStorages();(null==b?0:b.resolve)&&b.resolve(a.bundle?a.bundle:"")}},Ga.prototype.appendGumIFrameOnCompletedDomIfItDoesNotExist=function(a,b){function e(){return u.appendGumIframeIfDoesNotExist(function(){return u.createSyncframeRequest(a(),Q)},function(){},{resolve:b})}var u=this,Q=Math.random().toString();this.adapter.isPubTagIds?e():this.doOnCompletedDom(e)},Ga.prototype.createSyncframeRequest=function(a,b){return{uid:this.userDataHandlers.idCpy().fromAllStorages().toJSON(),
localWebId:this.userDataHandlers.localWebId().fromAllStorages().toJSON(),bundle:this.userDataHandlers.bundle().fromAllStorages().toJSON(),optoutCookie:this.userDataHandlers.optOut().fromAllStorages().toJSON(),secureIdCookie:this.userDataHandlers.sid().fromAllStorages().toJSON(),topLevelDomain:a.topLevelDomain,topUrl:a.topUrl,version:a.version,canWriteCookie:a.canWriteCookie,canWriteLocalStorage:a.canWriteLocalStorage,origin:this.adapter.isPubTagIds?"publishertagids":"publishertag",privateMode:void 0,
consent:a.consent,rtusCallerId:void 0,isDebug:this.adapter.isDebug,requestId:b}},Ga.prototype.fetchUserData=function(){return new zc(this.userDataHandlers)},Ga),Nb,Bc=(Ma.prototype.synchronizeCriteoUid=function(a,b){var e=this;this.syncframe.appendGumIFrameOnCompletedDomIfItDoesNotExist(function(){var u=e.getTld(),Q=encodeURIComponent;var S=e.topUrl;var va=document.createElement("a");S=(va.href=S,{protocol:va.protocol,host:va.host,hostname:va.hostname,pathname:"/"===va.pathname[0]?va.pathname.slice(1):
va.pathname,search:va.search,href:va.href});return{topLevelDomain:u,topUrl:Q(S.hostname),version:135,canWriteCookie:e.canWriteCookies,canWriteLocalStorage:e.localStorageHelper.localStorageEnabled,consent:{gdprApplies:null==a?void 0:a.gdprApplies,consentData:null==a?void 0:a.consentData||"",gdprVersion:null==a?void 0:a.version,vendorConsents:null==a?void 0:a.vendorConsents,uspString:void 0,ccpaVersion:void 0}}},b)},Ma.prototype.checkCookiesAreWriteable=function(){this.cookieHelper.setCookie("cto_writeable",
"1",1,this.topDoc,!0);var a="1"===this.cookieHelper.getCookie("cto_writeable",this.topDoc);return this.cookieHelper.deleteCookie("cto_writeable",this.topDoc,!0),a},Ma.prototype.writeOnAllStorages=function(a,b,e){this.localStorageHelper.setItem(a,b);this.cookieHelper.setCookie(a,b,e,this.topDoc,!0)},Ma.prototype.getFromAllStorages=function(a){var b=this.cookieHelper.getCookie(a,this.topDoc);a=this.localStorageHelper.getItem(a)||void 0;return{value:b||a,origin:(b&&Ab.Cookie)|(a&&Ab.LocalStorage)}},
Ma.prototype.deleteFromAllStorage=function(a){this.cookieHelper.deleteCookie(a,this.topDoc,!0);this.localStorageHelper.removeItem(a)},Ma.prototype.getTld=function(){var a=this.cookieHelper.setCookie(Ma.TLD_TEST_COOKIE_NAME,"test",1,this.topDoc,!0);return this.cookieHelper.deleteCookie(Ma.TLD_TEST_COOKIE_NAME,this.topDoc,!0),a},Ma.prototype.fetchUserData=function(){return this.syncframe.fetchUserData()},Ma.TLD_TEST_COOKIE_NAME="cto_pub_test_tld",Ma),kc=(Qa.prototype.synchronizeCriteoUid=function(a,
b,e,u){var Q,S=(null===(Q=this.cookieSynchronizerFactory)||void 0===Q?void 0:Q.call(this))||new Bc(b,a,this.highestAccessibleWindowStruct.topFrame,this.debugMode,this.highestAccessibleUrl,!1);a=S.fetchUserData();e(a.getIdCpy().value,a.getOptOut().value,a.getSid().value,a.getBundle().value);S.synchronizeCriteoUid(u)},Qa.prototype.getServicesAndSyncCriteoUid=function(a){var b=this;void 0===a&&(a=function(e,u,Q,S){});this.serviceProvider.getServicesAsync(function(e){var u;(null===(u=e.ccpaConsentProvider)||
void 0===u?0:u.hasUserOptOut(e.ccpaConsent))||b.synchronizeCriteoUid(e.localStorageHelper,e.cookieHelper,a,e.gdprConsent)})},Qa),nc=(Va.prototype.getContextFlags=function(){var a="";return a+=this.debugMode?"&debug=1":"",a+(this.noLog?"&nolog=1":"")},Va.prototype.isEligibleForCsmEvents=function(){return 0==this.sessionRandomId%100},Va.prototype.getClientSessionId=function(){return this.clientSessionId},Va.prototype.getMetricsManager=function(){return this.contextMetricsManager},Va.prototype.getDisplayContext=
function(a){return yb.inIframe()?a.err?Fb.InUnfriendlyIframe:Fb.InFriendlyIframe:Fb.DirectIntegration},Va.prototype.synchronizeCriteoUid=function(){var a=this;this.identityHelper.getServicesAndSyncCriteoUid(function(b,e,u,Q){a.ctoIdOnPublisherDomain=b;a.isOptOut=e;a.secureId=u;a.bundle=Q})},Va.prototype.getIdfs=function(){return["",this.secureId].join(":")},Va.prototype.setIdfs=function(a){a=a.split(":");a[1]&&(this.secureId=a[1])},Va.prototype.setSite=function(a){this.site=a},Va.prototype.getSite=
function(){return this.site},Va.prototype.setUser=function(a){this.user=a},Va.prototype.getPublisherExt=function(){return{}},Va.prototype.getUserExtWithContextualData=function(){return{}},Va.prototype.getUser=function(){var a,b,e=this.user||{},u=this.userContextualDataManager.getUserContextualData();if(null==u?0:u.data){var Q=Ca(Ca({},null===(a=e.ext)||void 0===a?void 0:a.data),u.data);e.ext=Ca(Ca({},e.ext),{data:Q})}if(null==u?0:u.device)a=Ca(Ca({},null===(b=e.ext)||void 0===b?void 0:b.device),u.device),
e.ext=Ca(Ca({},e.ext),{device:a});return e},Va),mc=function(){this.bids={};this.lineItemRanges=[];this.impIds=[]},oc=(Ua.prototype.push=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];for(b=0;b<a.length;b++)this.events.push(a[b]);this.evalEvents()},Ua.prototype.evalEvents=function(){for(var a=0;a<this.events.length;){var b=this.events[a];if("conditionalEvent"!==b.name||b.canEval()){b=this.events.splice(a,1);try{b[0].eval(this)}catch(e){}}else a++}},Ua.VERSION=135,Ua);ra();ca.DeclarePrebid=
ra}({});
if(window.pbjs&&window.pbjs.libLoaded)try{window.pbjs.getConfig("debug")&&console.warn("Attempted to load a copy of Prebid.js that clashes with the existing 'pbjs' instance. Load aborted.")}catch(ca){}else(function(){(()=>{function ca(I){var z=F[I];if(void 0!==z)return z.exports;z=F[I]={exports:{}};sa[I](z,z.exports,ca);return z.exports}var sa={"./src/Renderer.js":(I,z,d)=>{function x(p){const {url:t,config:E,id:r,callback:n,loaded:q,adUnitCode:f,renderNow:D}=p;this.url=t;this.config=E;this.handlers={};
this.id=r;this.loaded=q;this.cmd=[];this.push=G=>{"function"===typeof G&&(this.loaded?G.call():this.cmd.push(G))};this.callback=n||(()=>{this.loaded=!0;this.process()});this.render=function(){const G=arguments,w=()=>{this._render&&this._render.apply(this,G)};v(f)?w():D?w():(this.cmd.unshift(w),(0,g.loadExternalScript)(t,"outstream",this.callback,this.documentContext))}.bind(this)}function y(p){return!(!p||!p.url)}function h(p,t,E){let r=null;p.config&&p.config.documentResolver&&(r=p.config.documentResolver(t,
document,E));r||(r=document);p.documentContext=r;p.render(t,p.documentContext)}function v(p){var t=(0,k.find)(pbjs.adUnits,q=>q.code===p);if(!t)return!1;const E=(0,B["default"])(t,"renderer"),r=!!(E&&E.url&&E.render);t=(0,B["default"])(t,"mediaTypes.video.renderer");const n=!!(t&&t.url&&t.render);return!!(r&&!0!==E.backupOnly||n&&!0!==t.backupOnly)}d.d(z,{Renderer:()=>x,executeRenderer:()=>h,isRendererRequired:()=>y});var g=d("./src/adloader.js");d("./src/utils.js");var B=d("./node_modules/dlv/index.js"),
k=d("./src/polyfill.js");x.install=function(p){let {url:t,config:E,id:r,callback:n,loaded:q,adUnitCode:f,renderNow:D}=p;return new x({url:t,config:E,id:r,callback:n,loaded:q,adUnitCode:f,renderNow:D})};x.prototype.getConfig=function(){return this.config};x.prototype.setRender=function(p){this._render=p};x.prototype.setEventHandlers=function(p){this.handlers=p};x.prototype.handleVideoEvent=function(p){({eventName:p}=p);if("function"===typeof this.handlers[p])this.handlers[p]()};x.prototype.process=
function(){for(;0<this.cmd.length;)try{this.cmd.shift().call()}catch(p){}}},"./src/adRendering.js":(I,z,d)=>{function x(B){let {reason:k,message:p,bid:t,id:E}=B;B={reason:k,message:p};t&&(B.bid=t);E&&(B.adId=E);h.emit(v,B)}function y(B){let {doc:k,bid:p,id:t}=B;B={doc:k};p&&(B.bid=p);t&&(B.adId=t);h.emit(g,B)}d.d(z,{emitAdRenderFail:()=>x,emitAdRenderSucceeded:()=>y});d("./src/utils.js");var h=d("./src/events.js");I=d("./src/constants.json");const {AD_RENDER_FAILED:v,AD_RENDER_SUCCEEDED:g}=I.EVENTS},
"./src/adUnits.js":(I,z,d)=>{function x(g,B,k){g=h[g]=h[g]||{bidders:{}};k=k?g.bidders[k]=g.bidders[k]||{}:g;k[B]=(k[B]||0)+1;return k[B]}d.d(z,{adunitCounter:()=>v});var y=d("./node_modules/dlv/index.js");let h={},v={incrementRequestsCounter:function(g){return x(g,"requestsCounter")},incrementBidderRequestsCounter:function(g,B){return x(g,"requestsCounter",B)},incrementBidderWinsCounter:function(g,B){return x(g,"winsCounter",B)},getRequestsCounter:function(g){return(0,y["default"])(h,`${g}.requestsCounter`)||
0},getBidderRequestsCounter:function(g,B){return(0,y["default"])(h,`${g}.bidders.${B}.requestsCounter`)||0},getBidderWinsCounter:function(g,B){return(0,y["default"])(h,`${g}.bidders.${B}.winsCounter`)||0}}},"./src/adapter.js":(I,z,d)=>{function x(y){var h=y;return{callBids:function(){},setBidderCode:function(v){h=v},getBidderCode:function(){return h}}}d.d(z,{"default":()=>x})},"./src/adapterManager.js":(I,z,d)=>{function x(V,pa){V=(0,p.deepClone)(V);V.forEach(X=>{X.bids=ba(X.bids,pa).map(aa=>{aa.bid_id=
(0,p.getUniqueIdentifierStr)();return aa})});return V=V.filter(X=>0!==X.bids.length)}function y(V){V=(0,p.deepClone)(V);V.forEach(pa=>{pa.bids=ba(pa.bids,null)});return V=V.filter(pa=>0!==pa.bids.length)}function h(V){(0,p.isArray)(V)||(V=[V]);const pa=new Set([null]);V.filter(X=>X&&X.enabled).flatMap(X=>X.bidders).forEach(X=>pa.add(X));return pa}function v(V){let pa=[];(0,D.includes)(A.videoAdapters,V)&&pa.push("video");(0,D.includes)(r.nativeAdapters,V)&&pa.push("native");return pa}function g(V,
pa){V=J[V];if((V=(null===V||void 0===V?void 0:V.getSpec)&&V.getSpec())&&V[pa]&&"function"===typeof V[pa])return[V,V[pa]]}function B(V,pa,X,aa){try{for(var da=arguments.length,ja=Array(4<da?da-4:0),L=4;L<da;L++)ja[L-4]=arguments[L];f.config.runWithBidder(V,aa.bind(X,...ja))}catch(P){}}function k(V,pa,X){const aa=g(V,pa);null!=aa&&B(V,pa,...aa,X)}d.d(z,{"default":()=>Da,gdprDataHandler:()=>T,getS2SBidderSet:()=>h,gppDataHandler:()=>O,uspDataHandler:()=>N});var p=d("./src/utils.js"),t=d("./node_modules/dlv/index.js"),
E=d("./src/sizeMapping.js"),r=d("./src/native.js"),n=d("./src/adapters/bidderFactory.js"),q=d("./src/ajax.js"),f=d("./src/config.js");I=d("./src/hook.js");var D=d("./src/polyfill.js"),G=d("./src/adUnits.js"),w=d("./src/refererDetection.js");z=d("./src/consentHandler.js");var H=d("./src/events.js"),c=d("./src/constants.json"),m=d("./src/utils/perfMetrics.js"),l=d("./src/auctionManager.js");let A={},J=A.bidderRegistry={},U=A.aliasRegistry={colossusssp:"colossus"},W=[];f.config.getConfig("s2sConfig",
V=>{V&&V.s2sConfig&&(W=(0,p.isArray)(V.s2sConfig)?V.s2sConfig:[V.s2sConfig])});var Z={};const ia=(0,I.hook)("sync",function(V){let {bidderCode:pa,auctionId:X,bidderRequestId:aa,adUnits:da,src:ja,metrics:L}=V;return da.reduce((P,R)=>{P.push(R.bids.filter(fa=>fa.bidder===pa).reduce((fa,na)=>{na=Object.assign({},na,(0,p.getDefinedParams)(R,["nativeParams","nativeOrtbRequest","ortb2Imp","mediaType","renderer"]));const Ea=null==na.mediaTypes?R.mediaTypes:na.mediaTypes;(0,p.isValidMediaTypes)(Ea)&&(na=
Object.assign({},na,{mediaTypes:Ea}));fa.push(Object.assign({},na,{adUnitCode:R.code,transactionId:R.transactionId,sizes:(0,t["default"])(Ea,"banner.sizes")||(0,t["default"])(Ea,"video.playerSize")||[],bidId:na.bid_id||(0,p.getUniqueIdentifierStr)(),bidderRequestId:aa,auctionId:X,src:ja,metrics:L,bidRequestsCount:G.adunitCounter.getRequestsCounter(R.code),bidderRequestsCount:G.adunitCounter.getBidderRequestsCounter(R.code,na.bidder),bidderWinsCount:G.adunitCounter.getBidderWinsCounter(R.code,na.bidder)}));
return fa},[]));return P},[]).reduce(p.flatten,[]).filter(P=>""!==P)},"getBids"),ba=(0,I.hook)("sync",function(V,pa){let {getS2SBidders:X=h}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(null==pa)return V;{const aa=X(pa);return V.filter(da=>aa.has(da.bidder))}},"filterBidsForAdUnit");let T=new z.GdprConsentHandler,N=new z.UspConsentHandler,O=new z.GppConsentHandler;const oa=(0,I.hook)("sync",(V,pa)=>(0,E.processAdUnitsForLabels)(V,pa),"setupAdUnitMediaTypes"),ta=(0,I.hook)("sync",function(V,
pa){let {getS2SBidders:X=h}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};const aa=X(pa);return(0,p.getBidderCodes)(V).reduce((da,ja)=>{const L=aa.has(ja)?"server":"client";da[L].push(ja);return da},{client:[],server:[]})},"partitionBidders");A.makeBidRequests=(0,I.hook)("sync",function(V,pa,X,aa,da){function ja(xa){const Y=Object.freeze((0,p.mergeDeep)({},K,ha[xa.bidderCode]));xa.ortb2=Y;xa.bids.forEach(ea=>ea.ortb2=Y);return xa}let L=5<arguments.length&&void 0!==arguments[5]?arguments[5]:
{},P=6<arguments.length?arguments[6]:void 0;P=(0,m.useMetrics)(P);H.emit(c.EVENTS.BEFORE_REQUEST_BIDS,V);(0,r.decorateAdUnitsWithNativeParams)(V);V=oa(V,da);let {client:R,server:fa}=ta(V,W);f.config.getConfig("bidderSequence")===f.RANDOM&&(R=(0,p.shuffle)(R));const na=(0,w.getRefererInfo)();let Ea=[];const K=L.global||{},ha=L.bidder||{};W.forEach(xa=>{if(xa&&xa.enabled){let Y=x(V,xa),ea=(0,p.generateUUID)();fa.forEach(ya=>{const Aa=(0,p.getUniqueIdentifierStr)(),Ga=P.fork();ya=ja({bidderCode:ya,auctionId:X,
bidderRequestId:Aa,uniquePbsTid:ea,bids:ia({bidderCode:ya,auctionId:X,bidderRequestId:Aa,adUnits:(0,p.deepClone)(Y),src:c.S2S.SRC,metrics:Ga}),auctionStart:pa,timeout:xa.timeout,src:c.S2S.SRC,refererInfo:na,metrics:Ga});0!==ya.bids.length&&Ea.push(ya)});Y.forEach(ya=>{let Aa=ya.bids.filter(Ga=>(0,D.find)(Ea,Ma=>(0,D.find)(Ma.bids,Qa=>Qa.bidId===Ga.bid_id)));ya.bids=Aa});Ea.forEach(ya=>{void 0===ya.adUnitsS2SCopy&&(ya.adUnitsS2SCopy=Y.filter(Aa=>0<Aa.bids.length))})}});let la=y(V);R.forEach(xa=>{var Y=
(0,p.getUniqueIdentifierStr)();const ea=P.fork();Y=ja({bidderCode:xa,auctionId:X,bidderRequestId:Y,bids:ia({bidderCode:xa,auctionId:X,bidderRequestId:Y,adUnits:(0,p.deepClone)(la),labels:da,src:"client",metrics:ea}),auctionStart:pa,timeout:aa,refererInfo:na,metrics:ea});J[xa]&&Y.bids&&0!==Y.bids.length&&Ea.push(Y)});Ea.forEach(xa=>{T.getConsentData()&&(xa.gdprConsent=T.getConsentData());N.getConsentData()&&(xa.uspConsent=N.getConsentData());O.getConsentData()&&(xa.gppConsent=O.getConsentData())});
Ea.forEach(xa=>{f.config.runWithBidder(xa.bidderCode,()=>{const Y=f.config.getConfig("fledgeEnabled");xa.fledgeEnabled=navigator.runAdAuction&&Y})});return Ea},"makeBidRequests");A.callBids=function(V,pa,X,aa,da,ja,L){let P=7<arguments.length&&void 0!==arguments[7]?arguments[7]:{};if(pa.length){var [R,fa]=pa.reduce((K,ha)=>{K[Number("undefined"!==typeof ha.src&&ha.src===c.S2S.SRC)].push(ha);return K},[[],[]]),na=[];fa.forEach(K=>{for(var ha=-1,la=0;la<na.length;++la)if(K.uniquePbsTid===na[la].uniquePbsTid){ha=
la;break}-1>=ha&&na.push(K)});var Ea=0;W.forEach(K=>{if(K&&na[Ea]&&h(K).has(na[Ea].bidderCode)){const ha=(0,q.ajaxBuilder)(ja,da?{request:da.request.bind(null,"s2s"),done:da.done}:void 0);let la=K.bidders;const xa=J[K.adapter];let Y=na[Ea].uniquePbsTid,ea=na[Ea].adUnitsS2SCopy,ya=fa.filter(Aa=>Aa.uniquePbsTid===Y);if(xa&&(K={ad_units:ea,s2sConfig:K,ortb2Fragments:P},K.ad_units.length)){let Aa=ya.map(Ga=>{Ga.start=(0,p.timestamp)();return aa.bind(Ga)});(0,p.getBidderCodes)(K.ad_units).filter(Ga=>la.includes(Ga));
ya.forEach(Ga=>{H.emit(c.EVENTS.BID_REQUESTED,{...Ga,tid:Ga.auctionId})});xa.callBids(K,fa,X,()=>Aa.forEach(Ga=>Ga()),ha)}Ea++}});R.forEach(K=>{K.start=(0,p.timestamp)();const ha=J[K.bidderCode];f.config.runWithBidder(K.bidderCode,()=>{H.emit(c.EVENTS.BID_REQUESTED,K)});let la=(0,q.ajaxBuilder)(ja,da?{request:da.request.bind(null,K.bidderCode),done:da.done}:void 0);const xa=aa.bind(K);try{f.config.runWithBidder(K.bidderCode,p.bind.call(ha.callBids,ha,K,X,xa,la,L,f.config.callbackWithBidder(K.bidderCode)))}catch(Y){xa()}})}};
A.videoAdapters=[];A.registerBidAdapter=function(V,pa){let {supportedMediaTypes:X=[]}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};V&&pa&&"function"===typeof V.callBids&&(J[pa]=V,(0,D.includes)(X,"video")&&A.videoAdapters.push(pa),(0,D.includes)(X,"native")&&r.nativeAdapters.push(pa))};A.aliasBidAdapter=function(V,pa,X){if("undefined"===typeof J[pa]){let aa=J[V];if("undefined"===typeof aa){const da=[];W.forEach(ja=>{if(ja.bidders&&ja.bidders.length){const L=ja&&ja.bidders;ja&&(0,D.includes)(L,
pa)?U[pa]=V:da.push(V)}});da.forEach(ja=>{})}else try{let da,ja=v(V);if(aa.constructor.prototype!=Object.prototype)da=new aa.constructor,da.setBidderCode(pa);else{let L=aa.getSpec();da=(0,n.newBidder)(Object.assign({},L,{code:pa,gvlid:X&&X.gvlid,skipPbsAliasing:X&&X.skipPbsAliasing}));U[pa]=V}A.registerBidAdapter(da,pa,{supportedMediaTypes:ja})}catch(da){}}};A.registerAnalyticsAdapter=function(V){let {adapter:pa,code:X,gvlid:aa}=V;pa&&X&&"function"===typeof pa.enableAnalytics&&(pa.code=X,Z[X]={adapter:pa,
gvlid:aa})};A.enableAnalytics=function(V){(0,p.isArray)(V)||(V=[V]);(0,p._each)(V,pa=>{const X=Z[pa.provider];X&&X.adapter&&X.adapter.enableAnalytics(pa)})};A.getBidAdapter=function(V){return J[V]};A.getAnalyticsAdapter=function(V){return Z[V]};A.callTimedOutBidders=function(V,pa,X){pa=pa.map(aa=>{aa.params=(0,p.getUserConfiguredParams)(V,aa.adUnitCode,aa.bidder);aa.timeout=X;return aa});pa=(0,p.groupBy)(pa,"bidder");Object.keys(pa).forEach(aa=>{k(aa,"onTimeout",pa[aa])})};A.callBidWonBidder=function(V,
pa,X){pa.params=(0,p.getUserConfiguredParams)(X,pa.adUnitCode,pa.bidder);G.adunitCounter.incrementBidderWinsCounter(pa.adUnitCode,pa.bidder);k(V,"onBidWon",pa)};A.callSetTargetingBidder=function(V,pa){k(V,"onSetTargeting",pa)};A.callBidViewableBidder=function(V,pa){k(V,"onBidViewable",pa)};A.callBidderError=function(V,pa,X){k(V,"onBidderError",{error:pa,bidderRequest:X})};A.callDataDeletionRequest=(0,I.hook)("sync",function(){for(var V=arguments.length,pa=Array(V),X=0;X<V;X++)pa[X]=arguments[X];Object.keys(J).filter(aa=>
!U.hasOwnProperty(aa)).forEach(aa=>{const da=g(aa,"onDataDeletionRequest");if(null!=da){const ja=l.auctionManager.getBidsRequested().filter(L=>{{L=L.bidderCode;const P=new Set;for(;U.hasOwnProperty(L)&&!P.has(L);)P.add(L),L=U[L]}return L===aa});B(aa,"onDataDeletionRequest",...da,ja,...pa)}});Object.entries(Z).forEach(aa=>{var da;[,aa]=aa;const ja=null===aa||void 0===aa?void 0:null===(da=aa.adapter)||void 0===da?void 0:da.onDataDeletionRequest;if("function"===typeof ja)try{ja.apply(aa.adapter,pa)}catch(L){}})});
const Da=A},"./src/adapters/bidderFactory.js":(I,z,d)=>{function x(ba){function T(O){const oa=y(O);k["default"].registerBidAdapter(oa,O.code,N)}const N=Array.isArray(ba.supportedMediaTypes)?{supportedMediaTypes:ba.supportedMediaTypes}:void 0;T(ba);Array.isArray(ba.aliases)&&ba.aliases.forEach(O=>{let oa=O,ta,Da;(0,w.isPlainObject)(O)&&(oa=O.code,ta=O.gvlid,Da=O.skipPbsAliasing);k["default"].aliasRegistry[oa]=ba.code;T(Object.assign({},ba,{code:oa,gvlid:ta,skipPbsAliasing:Da}))})}function y(ba){function T(oa,
ta){let Da=l.bidderSettings.get(ta,"allowAlternateBidderCodes")||!1,V=l.bidderSettings.get(ta,"allowedAlternateBidderCodes");return oa&&ta&&ta!==oa&&(V=(0,w.isArray)(V)?V.map(pa=>pa.trim().toLowerCase()).filter(pa=>!!pa).filter(w.uniques):V,!Da||(0,w.isArray)(V)&&"*"!==V[0]&&!V.includes(oa))?!0:!1}function N(oa,ta,Da,V){Z(ba,oa,ta,Da,V)}function O(oa){return ba.isBidRequestValid(oa)?!0:!1}return Object.assign(new B["default"](ba.code),{getSpec:function(){return Object.freeze(ba)},registerSyncs:N,
callBids:function(oa,ta,Da,V,pa,X){function aa(R,fa){const na=(0,A.useMetrics)(fa.metrics);na.checkpoint("addBidResponse");na.measureTime("addBidResponse.validate",()=>v(R,fa))?ta(R,fa):ta.reject(R,fa,q.REJECTION_REASON.INVALID)}function da(){Da();p.config.runWithBidder(ba.code,()=>{f.emit(q.EVENTS.BIDDER_DONE,oa);N(ja,oa.gdprConsent,oa.uspConsent,oa.gppConsent)})}if(Array.isArray(oa.bids)){var ja=[],L=g(oa).measureTime("validate",()=>oa.bids.filter(O));if(0===L.length)da();else{var P={};L.forEach(R=>
{P[R.bidId]=R;R.adUnitCode||(R.adUnitCode=R.placementCode)});W(ba,L,oa,V,X,{onRequest:R=>f.emit(q.EVENTS.BEFORE_BIDDER_HTTP,oa,R),onResponse:R=>{pa(ba.code);ja.push(R)},onFledgeAuctionConfigs:R=>{R.forEach(fa=>{const na=P[fa.bidId];na&&ia(na,fa)})},onError:(R,fa)=>{pa(ba.code);k["default"].callBidderError(ba.code,fa,oa);f.emit(q.EVENTS.BIDDER_ERROR,{error:fa,bidderRequest:oa})},onBid:R=>{const fa=P[R.requestId];fa?(R.adapterCode=fa.bidder,T(R.bidderCode,fa.bidder)?ta.reject(fa.adUnitCode,R,q.REJECTION_REASON.BIDDER_DISALLOWED):
(R.originalCpm=R.cpm,R.originalCurrency=R.currency,R.meta=R.meta||Object.assign({},R[fa.bidder]),R=Object.assign((0,t.createBid)(q.STATUS.GOOD,fa),R),aa(fa.adUnitCode,R))):ta.reject(null,R,q.REJECTION_REASON.INVALID_REQUEST_ID)},onCompletion:da})}}}})}function h(ba,T){var {index:N=m.auctionManager.index}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if((T.width||0===parseInt(T.width,10))&&(T.height||0===parseInt(T.height,10)))return T.width=parseInt(T.width,10),T.height=parseInt(T.height,
10),!0;var O=N.getBidRequest(T);N=N.getMediaTypes(T);O=(0,w.parseSizesInput)(O&&O.sizes||N&&N.banner&&N.banner.sizes);if(1===O.length){const [oa,ta]=O[0].split("x");T.width=parseInt(oa,10);T.height=parseInt(ta,10);return!0}return!1}function v(ba,T){let {index:N=m.auctionManager.index}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return!ba||!T||!function(){let O=Object.keys(T);return U.every(oa=>(0,D.includes)(O,oa)&&!(0,D.includes)([void 0,null],T[oa]))}()||"native"===T.mediaType&&!(0,r.nativeBidIsValid)(T,
{index:N})||"video"===T.mediaType&&!(0,n.isValidVideoBid)(T,{index:N})||"banner"===T.mediaType&&!h(ba,T,{index:N})?!1:!0}function g(ba){return(0,A.useMetrics)(ba.metrics).renameWith(T=>[`adapter.client.${T}`,`adapters.client.${ba.bidderCode}.${T}`])}d.d(z,{isValid:()=>v,newBidder:()=>y,registerBidder:()=>x});var B=d("./src/adapter.js"),k=d("./src/adapterManager.js"),p=d("./src/config.js"),t=d("./src/bidfactory.js"),E=d("./src/userSync.js"),r=d("./src/native.js"),n=d("./src/video.js"),q=d("./src/constants.json"),
f=d("./src/events.js"),D=d("./src/polyfill.js"),G=d("./src/ajax.js"),w=d("./src/utils.js"),H=d("./node_modules/dlv/index.js"),c=d("./src/mediaTypes.js");I=d("./src/hook.js");z=d("./src/storageManager.js");var m=d("./src/auctionManager.js"),l=d("./src/bidderSettings.js"),A=d("./src/utils/perfMetrics.js");const J=(0,z.getCoreStorageManager)("bidderFactory"),U=["cpm","ttl","creativeId","netRevenue","currency"],W=(0,I.hook)("sync",function(ba,T,N,O,oa,ta){let {onRequest:Da,onResponse:V,onFledgeAuctionConfigs:pa,
onError:X,onBid:aa,onCompletion:da}=ta;const ja=g(N);da=ja.startTiming("total").stopBefore(da);if((ta=ja.measureTime("buildRequests",()=>ba.buildRequests(T,N)))&&0!==ta.length){Array.isArray(ta)||(ta=[ta]);var L=(0,w.delayExecution)(da,ta.length);ta.forEach(P=>{function R(la){null!=la&&(la.metrics=na.fork().renameWith());aa(la)}function fa(la){return la?`?${"object"===typeof la?(0,w.parseQueryStringParameters)(la):la}`:""}const na=ja.fork(),Ea=oa(function(la,xa){ha();try{la=JSON.parse(la)}catch(Y){}la=
{body:la,headers:xa.headers};V(la);try{la=na.measureTime("interpretResponse",()=>ba.interpretResponse(la,P))}catch(Y){L();return}la&&(0,w.isArray)(la.fledgeAuctionConfigs)?(pa(la.fledgeAuctionConfigs),xa=la.bids):xa=la;xa&&((0,w.isArray)(xa)?xa.forEach(R):R(xa));L()}),K=oa(function(la,xa){ha();X(la,xa);L()});Da(P);const ha=na.startTiming("net");switch(P.method){case "GET":O(`${P.url}${fa(P.data)}`,{success:Ea,error:K},void 0,Object.assign({method:"GET",withCredentials:!0},P.options));break;case "POST":O(P.url,
{success:Ea,error:K},"string"===typeof P.data?P.data:JSON.stringify(P.data),Object.assign({method:"POST",contentType:"text/plain",withCredentials:!0},P.options));break;default:L()}})}else da()},"processBidderRequests"),Z=(0,I.hook)("async",function(ba,T,N,O,oa){var ta=p.config.getConfig("userSync.aliasSyncEnabled");ba.getUserSyncs&&(ta||!k["default"].aliasRegistry[ba.code])&&(ta=p.config.getConfig("userSync.filterSettings"),T=ba.getUserSyncs({iframeEnabled:!(!ta||!ta.iframe&&!ta.all),pixelEnabled:!(!ta||
!ta.image&&!ta.all)},T,N,O,oa))&&(Array.isArray(T)||(T=[T]),T.forEach(Da=>{E.userSync.registerSync(Da.type,ba.code,Da.url)}))},"registerSyncs"),ia=(0,I.hook)("sync",(ba,T)=>{},"addComponentAuction");(0,I.getHook)("checkAdUnitSetup").before(function(ba,T){if(!p.config.getConfig("adpod.brandCategoryExclusion"))return ba.call(this,T);T.filter(N=>(0,H["default"])(N,"mediaTypes.video.context")===c.ADPOD).map(N=>N.bids.map(O=>O.bidder)).reduce(w.flatten,[]).filter(w.uniques).forEach(N=>{var O=k["default"].getBidAdapter(N);
if(O.getSpec().getMappingFileInfo){N=O.getSpec().getMappingFileInfo();let oa=N.refreshInDays?N.refreshInDays:1,ta=N.localStorageKey?N.localStorageKey:O.getSpec().code;O=J.getDataFromLocalStorage(ta);try{O=O?JSON.parse(O):void 0,(!O||(0,w.timestamp)()>O.lastUpdated+864E5*oa)&&(0,G.ajax)(N.url,{success:Da=>{try{Da=JSON.parse(Da);let V={lastUpdated:(0,w.timestamp)(),mapping:Da.mapping};J.setDataInLocalStorage(ta,JSON.stringify(V))}catch(V){}},error:()=>{}})}catch(Da){}}});ba.call(this,T)})},"./src/adloader.js":(I,
z,d)=>{function x(B,k,p,t,E){function r(q,f){return(q=v.get(q))&&q[f]?q[f]:null}if(k&&B&&(0,y.includes)(g,k)){t||(t=document);if(k=r(t,B))return p&&"function"===typeof p&&(k.loaded?p():k.callbacks.push(p)),k.tag;k=v.get(t)||{};var n={loaded:!1,tag:null,callbacks:[]};k[B]=n;v.set(t,k);p&&"function"===typeof p&&n.callbacks.push(p);return function(q,f,D,G){D||(D=document);var w=D.createElement("script");w.type="text/javascript";w.crossOrigin=!0;w.async=!0;const H=r(D,B);H&&(H.tag=w);w.readyState?w.onreadystatechange=
function(){if("loaded"===w.readyState||"complete"===w.readyState)w.onreadystatechange=null,f()}:w.onload=function(){f()};w.src=q;G&&(0,h.setScriptAttributes)(w,G);(0,h.insertElement)(w,D);return w}(B,function(){n.loaded=!0;try{for(let q=0;q<n.callbacks.length;q++)n.callbacks[q]()}catch(q){}},t,E)}}d.d(z,{loadExternalScript:()=>x});var y=d("./src/polyfill.js"),h=d("./src/utils.js");const v=new WeakMap,g="debugging adloox criteo outstream adagio spotx browsi brandmetrics justtag tncId akamaidap ftrackId inskin hadron medianet improvedigital aaxBlockmeter confiant arcspan".split(" ")},
"./src/ajax.js":(I,z,d)=>{function x(){let {request:v,done:g}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return function(B,k,p){let t=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};try{const E=(0,y.parseUrl)(B,t),r={method:t.method||(p?"POST":"GET"),mode:t.mode,cache:"no-store",headers:{"Content-Type":t.contentType||"text/plain"}},n="object"===typeof k&&k||{success:"function"===typeof k?k:function(){},error:function(f){}};"function"===typeof v&&v(E.origin);p&&("GET"===r.method?
(Object.assign(E.search,p),B=(0,y.buildUrl)(E)):r.body=p);t.withCredentials&&(r.credentials="include");t.preflight&&(r.headers["X-Requested-With"]="XMLHttpRequest");(0,y._each)(t.customHeaders,(f,D)=>{r.headers[D]=f});fetch(B,r).then(q,q);function q(f){"function"===typeof g&&g(E.origin);f.ok?f.text().then(function(D){n.success(D,f)}):n.error(f.statusText||f.message,f)}}catch(E){"object"===typeof k&&null!==k&&k.error(E)}}}d.d(z,{ajax:()=>h,ajaxBuilder:()=>x});var y=d("./src/utils.js");const h=x()},
"./src/auction.js":(I,z,d)=>{function x(Y){function ea(){return{auctionId:Ra,timestamp:db,auctionEnd:ob,auctionStatus:eb,adUnits:Ia,adUnitCodes:Pa,labels:Na,bidderRequests:bb,noBids:qb,bidsReceived:fb,bidsRejected:Za,winningBids:ib,timeout:Ta,metrics:Ca}}function ya(){const Xa=Aa.bind(null,!0);mb=setTimeout(Xa,Ta)}function Aa(Xa,sb){sb&&clearTimeout(mb);if(void 0===ob){let jb=[];Xa&&(jb=D(bb,Ja),jb.length&&ba.emit(N.EVENTS.BID_TIMEOUT,jb));eb="completed";ob=Date.now();Ca.checkpoint("auctionEnd");
Ca.timeBetween("requestBids","auctionEnd","requestBids.total");Ca.timeBetween("callBids","auctionEnd","requestBids.callBids");ba.emit(N.EVENTS.AUCTION_END,ea());L(Ia,function(){try{if(null!=ab){var lb=fb.filter(G.bind.call(G.adUnitsFilter,this,Pa)).reduce(f,{});ab.apply(pbjs,[lb,Xa,Ra]);ab=null}}catch(ub){}finally{jb.length&&T["default"].callTimedOutBidders(Va,jb,Ta),lb=A.config.getConfig("userSync")||{},lb.enableOverride||V(lb.syncDelay)}})}}function Ga(){A.config.resetBidder();eb="completed";Aa(!1,
!0)}function Ma(Xa){Ja.add(Xa)}function Qa(Xa){function sb(C){let M=!0,ka=A.config.getConfig("maxRequestsPerOrigin")||4;C.bidRequests.some(wa=>{let La=1,cb="undefined"!==typeof wa.src&&wa.src===N.S2S.SRC?"s2s":wa.bidderCode;X[cb]&&(!1===X[cb].SRA&&(La=Math.min(wa.bids.length,ka)),pa[X[cb].origin]+La>ka&&(M=!1));return!M});M&&C.run();return M}function jb(C,M){"undefined"===typeof C[M]?C[M]=1:C[M]++}Xa.forEach(C=>{bb=bb.concat(C)});let lb={},ub={bidRequests:Xa,run:()=>{ya();eb="inProgress";ba.emit(N.EVENTS.AUCTION_INIT,
ea());let C=y(Ga,this);T["default"].callBids(Ia,Xa,C.addBidResponse,C.adapterDone,{request(M,ka){jb(pa,ka);jb(lb,M);X[M]||(X[M]={SRA:!0,origin:ka});1<lb[M]&&(X[M].SRA=!1)},done(M){pa[M]--;aa[0]&&sb(aa[0])&&aa.shift()}},Ta,Ma,Ba)}};sb(ub)||aa.push(ub)}let {adUnits:Va,adUnitCodes:Ua,callback:Ka,cbTimeout:ma,labels:ua,auctionId:ra,ortb2Fragments:Ba,metrics:Ca}=Y;Ca=(0,oa.useMetrics)(Ca);const Ia=Va,Na=ua,Pa=Ua,Ra=ra||(0,G.generateUUID)(),Ta=ma,Ja=new Set;let Za=[],ab=Ka,bb=[],fb=[],qb=[],ib=[],db,ob,
mb,eb;return{addBidReceived:function(Xa){fb=fb.concat(Xa)},addBidRejected:function(Xa){Za=Za.concat(Xa)},addNoBid:function(Xa){qb=qb.concat(Xa)},executeCallback:Aa,callBids:function(){eb="started";db=Date.now();let Xa=Ca.measureTime("requestBids.makeRequests",()=>T["default"].makeBidRequests(Ia,db,Ra,Ta,Na,Ba,Ca));Ca.checkpoint("callBids");1>Xa.length?Ga():ja.call({dispatch:Qa,context:this},Xa)},addWinningBid:function(Xa){ib=ib.concat(Xa);T["default"].callBidWonBidder(Xa.adapterCode||Xa.bidder,Xa,
Va)},setBidTargeting:function(Xa){T["default"].callSetTargetingBidder(Xa.adapterCode||Xa.bidder,Xa)},getWinningBids:()=>ib,getAuctionStart:()=>db,getTimeout:()=>Ta,getAuctionId:()=>Ra,getAuctionStatus:()=>eb,getAdUnits:()=>Ia,getAdUnitCodes:()=>Pa,getBidRequests:()=>bb,getBidsReceived:()=>fb,getNoBids:()=>qb,getFPD:()=>Ba,getMetrics:()=>Ca}}function y(Y,ea){function ya(Ia,Na){null==Ca[Ia]&&(Ca[Ia]=O.GreedyPromise.resolve());Ca[Ia]=Ca[Ia].then(()=>O.GreedyPromise.resolve(Na).catch(()=>{}))}function Aa(Ia,
Na){var Pa=Ia.timeout;if(null==Pa||Pa>ea.getTimeout())Pa=ea.getTimeout();Pa=ea.getAuctionStart()+Pa-Date.now();const Ra=Ca[Ia.bidderRequestId];Ia=Ca[""];(null!=Ra||null!=Ia)&&0<Pa?O.GreedyPromise.race([O.GreedyPromise.timeout(Pa),O.GreedyPromise.resolve(Ia).then(()=>Ra)]).then(Na):Na()}function Ga(){ma--;ua&&0===ma&&Y()}function Ma(Ia,Na,Pa){Ba[Na.requestId]=!0;B(Na,Ia);ma++;return Pa(Ga)}function Qa(Ia,Na){Ma(Ia,Na,Pa=>{let Ra=k(Na);if(Ra.mediaType===W.VIDEO)g(ea,Ra,Pa);else{if(null!=Ra.native&&
"object"===typeof Ra.native){{var Ta,Ja;const Za=null===(Ta=Z.auctionManager.index.getAdUnit(Ra))||void 0===Ta?void 0:Ta.nativeOrtbRequest;Ta=null===(Ja=Ra.native)||void 0===Ja?void 0:Ja.ortb;Za&&Ta&&(Ja=(0,c.toLegacyResponse)(Ta,Za),Object.assign(Ra.native,Ja))}}v(ea,Ra);Pa()}})}function Va(Ia,Na,Pa){return Ma(Ia,Na,Ra=>{var Ta;const Ja=(0,ta.createBid)(N.STATUS.NO_BID,null===(Ta=Na.getIdentifiers)||void 0===Ta?void 0:Ta.call(Na));Object.assign(Ja,Object.fromEntries(Object.entries(Na).filter(Za=>
{[Za]=Za;return!Ja.hasOwnProperty(Za)&&!["ad","adUrl","vastXml","vastUrl","native"].includes(Za)})));Ja.status=N.BID_STATUS.BID_REJECTED;Ja.cpm=0;Na.rejectionReason=Pa;ba.emit(N.EVENTS.BID_REJECTED,Na);ea.addBidRejected(Na);Ra();return Ja})}function Ua(){let Ia=ea.getBidRequests();const Na=A.config.getConfig("auctionOptions");ra.add(this);if(Na&&!(0,G.isEmpty)(Na)){const Pa=Na.secondaryBidders;Pa&&!Ia.every(Ra=>(0,J.includes)(Pa,Ra.bidderCode))&&(Ia=Ia.filter(Ra=>!(0,J.includes)(Pa,Ra.bidderCode)))}ua=
Ia.every(Pa=>ra.has(Pa));this.bids.forEach(Pa=>{Ba[Pa.bidId]||(ea.addNoBid(Pa),ba.emit(N.EVENTS.NO_BID,Pa))});ua&&0===ma&&Y()}let {index:Ka=Z.auctionManager.index}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},ma=0,ua=!1,ra=new Set,Ba={};const Ca={};return{addBidResponse:function(){function Ia(Na,Pa){const Ra=Ka.getBidderRequest(Pa);ya(Ra&&Ra.bidderRequestId||"",da.call({dispatch:Qa},Na,Pa,(()=>{let Ta;return Ja=>{null==Ta&&(Ta=Va(Na,Pa,Ja));return Ta}})()))}Ia.reject=Va;return Ia}(),
adapterDone:function(){Aa(this,Ua.bind(this))}}}function h(Y,ea){ea.timeToRespond>Y.getTimeout()+A.config.getConfig("timeoutBuffer")&&Y.executeCallback(!0)}function v(Y,ea){{let ya;const Aa=!0===ia.bidderSettings.get(ea.bidderCode,"allowZeroCpmBids")?0<=ea.cpm:0<ea.cpm;ea.bidderCode&&(Aa||ea.dealId)&&(ya=n(ea.bidderCode,ea));ea.adserverTargeting=Object.assign(ea.adserverTargeting||{},ya)}(0,oa.useMetrics)(ea.metrics).timeSince("addBidResponse","addBidResponse.total");ba.emit(N.EVENTS.BID_RESPONSE,
ea);Y.addBidReceived(ea);h(Y,ea)}function g(Y,ea,ya){var {index:Aa=Z.auctionManager.index}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};let Ga=!0;const Ma=(Aa=(0,w["default"])(Aa.getMediaTypes({requestId:ea.originalRequestId||ea.requestId,transactionId:ea.transactionId}),"video"))&&(0,w["default"])(Aa,"context"),Qa=Aa&&(0,w["default"])(Aa,"useCacheKey");A.config.getConfig("cache.url")&&(Qa||Ma!==U.OUTSTREAM)&&(!ea.videoCacheKey||A.config.getConfig("cache.ignoreBidderCacheKey")?(Ga=!1,
Ea(Y,ea,ya,Aa)):ea.vastUrl||(Ga=!1));Ga&&(v(Y,ea),ya())}function B(Y,ea){var {index:ya=Z.auctionManager.index}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},Aa=ya.getBidderRequest(Y);ya=ya.getAdUnit(Y);Aa=Aa&&Aa.start||Y.requestTimestamp;Object.assign(Y,{responseTimestamp:Y.responseTimestamp||(0,G.timestamp)(),requestTimestamp:Y.requestTimestamp||Aa,cpm:parseFloat(Y.cpm)||0,bidder:Y.bidder||Y.bidderCode,adUnitCode:ea});null!=(null===ya||void 0===ya?void 0:ya.ttlBuffer)&&(Y.ttlBuffer=ya.ttlBuffer);
Y.timeToRespond=Y.responseTimestamp-Y.requestTimestamp}function k(Y){var ea,{index:ya=Z.auctionManager.index}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};ba.emit(N.EVENTS.BID_ADJUSTMENT,Y);var Aa=(null===(ea=ya.getBidRequest(Y))||void 0===ea?void 0:ea.renderer)||ya.getAdUnit(Y).renderer;ea=Y.mediaType;ea=(ea=(ya=ya.getMediaTypes(Y))&&ya[ea])&&ea.renderer;var Ga=null;ea&&ea.url&&ea.render&&(!0!==ea.backupOnly||!Y.renderer)?Ga=ea:Aa&&Aa.url&&Aa.render&&(!0!==Aa.backupOnly||!Y.renderer)&&
(Ga=Aa);Ga&&(Y.renderer=l.Renderer.install({url:Ga.url,config:Ga.options}),Y.renderer.setRender(Ga.render));Aa=p(Y.mediaType,ya,A.config.getConfig("mediaTypePriceGranularity"));Aa=(0,H.getPriceBucketString)(Y.cpm,"object"===typeof Aa?Aa:A.config.getConfig("customPriceBucket"),A.config.getConfig("currency.granularityMultiplier"));Y.pbLg=Aa.low;Y.pbMg=Aa.med;Y.pbHg=Aa.high;Y.pbAg=Aa.auto;Y.pbDg=Aa.dense;Y.pbCg=Aa.custom;return Y}function p(Y,ea,ya){if(Y&&ya)return Y===W.VIDEO&&(ea=(0,w["default"])(ea,
`${W.VIDEO}.context`,"instream"),ya[`${W.VIDEO}-${ea}`])?ya[`${W.VIDEO}-${ea}`]:ya[Y]}function t(Y,ea){return{key:Y,val:"function"===typeof ea?function(ya,Aa){return ea(ya,Aa)}:function(ya){return ya[ea]}}}function E(){const Y=N.TARGETING_KEYS;return[t(Y.BIDDER,"bidderCode"),t(Y.AD_ID,"adId"),t(Y.PRICE_BUCKET,ha()),t(Y.SIZE,"size"),t(Y.DEAL,"dealId"),t(Y.SOURCE,"source"),t(Y.FORMAT,"mediaType"),t(Y.ADOMAIN,la()),t(Y.ACAT,xa())]}function r(Y,ea){const ya=N.TARGETING_KEYS,Aa=Object.assign({},ia.bidderSettings.settingsFor(null));
Aa[N.JSON_MAPPING.ADSERVER_TARGETING]||(Aa[N.JSON_MAPPING.ADSERVER_TARGETING]=E());if("video"===Y){const Ga=Aa[N.JSON_MAPPING.ADSERVER_TARGETING].slice();Aa[N.JSON_MAPPING.ADSERVER_TARGETING]=Ga;[ya.UUID,ya.CACHE_ID].forEach(Ma=>{"undefined"===typeof(0,J.find)(Ga,Qa=>Qa.key===Ma)&&Ga.push(t(Ma,"videoCacheKey"))});if(A.config.getConfig("cache.url")&&(!ea||!1!==ia.bidderSettings.get(ea,"sendStandardTargeting"))){const Ma=(0,G.parseUrl)(A.config.getConfig("cache.url"));"undefined"===typeof(0,J.find)(Ga,
Qa=>Qa.key===ya.CACHE_HOST)&&Ga.push(t(ya.CACHE_HOST,function(Qa){return(0,w["default"])(Qa,`adserverTargeting.${ya.CACHE_HOST}`)?Qa.adserverTargeting[ya.CACHE_HOST]:Ma.hostname}))}}return Aa}function n(Y,ea){var {index:ya=Z.auctionManager.index}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(!ea)return{};ya=ya.getBidRequest(ea);var Aa={};const Ga=r(ea.mediaType,Y);q(Aa,Ga,ea,ya);Y&&ia.bidderSettings.getOwn(Y,N.JSON_MAPPING.ADSERVER_TARGETING)&&(q(Aa,ia.bidderSettings.ownSettingsFor(Y),
ea,ya),ea.sendStandardTargeting=ia.bidderSettings.get(Y,"sendStandardTargeting"));ea["native"]&&(Aa=Object.assign({},Aa,(0,c.getNativeTargeting)(ea)));return Aa}function q(Y,ea,ya,Aa){var Ga=ea[N.JSON_MAPPING.ADSERVER_TARGETING];ya.size=ya.getSize();(0,G._each)(Ga,function(Ma){var Qa=Ma.key;Ma=Ma.val;if((0,G.isFn)(Ma))try{Ma=Ma(ya,Aa)}catch(Va){}if(("undefined"===typeof ea.suppressEmptyKeys||!0!==ea.suppressEmptyKeys)&&Qa!==N.TARGETING_KEYS.DEAL||""!==Ma&&null!==Ma&&void 0!==Ma)Y[Qa]=Ma});return Y}
function f(Y,ea){Y[ea.adUnitCode]||(Y[ea.adUnitCode]={bids:[]});Y[ea.adUnitCode].bids.push(ea);return Y}function D(Y,ea){return Y.map(ya=>(ya.bids||[]).filter(Aa=>!ea.has(Aa.bidder))).reduce(G.flatten,[])}d.d(z,{AUCTION_COMPLETED:()=>"completed",AUCTION_IN_PROGRESS:()=>"inProgress",addBidToAuction:()=>v,callPrebidCache:()=>Ea,doCallbacksIfTimedout:()=>h,getPriceByGranularity:()=>ha,getPriceGranularity:()=>K,getStandardBidderSettings:()=>r,newAuction:()=>x});var G=d("./src/utils.js"),w=d("./node_modules/dlv/index.js"),
H=d("./src/cpmBucketManager.js"),c=d("./src/native.js"),m=d("./src/videoCache.js"),l=d("./src/Renderer.js"),A=d("./src/config.js");I=d("./src/userSync.js");z=d("./src/hook.js");var J=d("./src/polyfill.js"),U=d("./src/video.js"),W=d("./src/mediaTypes.js"),Z=d("./src/auctionManager.js"),ia=d("./src/bidderSettings.js"),ba=d("./src/events.js"),T=d("./src/adapterManager.js"),N=d("./src/constants.json"),O=d("./src/utils/promise.js"),oa=d("./src/utils/perfMetrics.js"),ta=d("./src/bidfactory.js"),Da=d("./src/utils/cpm.js");
const {syncUsers:V}=I.userSync;ba.on(N.EVENTS.BID_ADJUSTMENT,function(Y){{let ea=(0,Da.adjustCpm)(Y.cpm,Y);0<=ea&&(Y.cpm=ea)}});const pa={},X={},aa=[],da=(0,z.hook)("sync",function(Y,ea,ya){this.dispatch.call(null,Y,ea)},"addBidResponse"),ja=(0,z.hook)("sync",function(Y){this.dispatch.call(this.context,Y)},"addBidderRequests"),L=(0,z.hook)("async",function(Y,ea){ea&&ea()},"bidsBackCallback"),P=Y=>{(0,m.store)(Y.map(ea=>ea.bidResponse),function(ea,ya){ya.forEach((Aa,Ga)=>{const {auctionInstance:Ma,
bidResponse:Qa,afterBidAdded:Va}=Y[Ga];ea?h(Ma,Qa):""===Aa.uuid?h(Ma,Qa):(Qa.videoCacheKey=Aa.uuid,Qa.vastUrl||(Qa.vastUrl=(0,m.getCacheUrl)(Qa.videoCacheKey)),v(Ma,Qa),Va())})})};let R,fa;A.config.getConfig("cache",Y=>{R="number"===typeof Y.cache.batchSize&&0<Y.cache.batchSize?Y.cache.batchSize:1;fa="number"===typeof Y.cache.batchTimeout&&0<Y.cache.batchTimeout?Y.cache.batchTimeout:0});const na=function(){let Y=0<arguments.length&&void 0!==arguments[0]?arguments[0]:setTimeout,ea=1<arguments.length&&
void 0!==arguments[1]?arguments[1]:P,ya=[[]],Aa=!1;const Ga=Ma=>Ma();return function(Ma,Qa,Va){const Ua=0<fa?Y:Ga;ya[ya.length-1].length>=R&&ya.push([]);ya[ya.length-1].push({auctionInstance:Ma,bidResponse:Qa,afterBidAdded:Va});Aa||(Aa=!0,Ua(()=>{ya.forEach(ea);ya=[[]];Aa=!1},fa))}}(),Ea=(0,z.hook)("async",function(Y,ea,ya,Aa){na(Y,ea,ya)},"callPrebidCache"),K=function(Y){var {index:ea=Z.auctionManager.index}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};ea=p(Y.mediaType,ea.getMediaTypes(Y),
A.config.getConfig("mediaTypePriceGranularity"));return"string"===typeof Y.mediaType&&ea?"string"===typeof ea?ea:"custom":A.config.getConfig("priceGranularity")},ha=Y=>ea=>{const ya=Y||K(ea);if(ya===N.GRANULARITY_OPTIONS.AUTO)return ea.pbAg;if(ya===N.GRANULARITY_OPTIONS.DENSE)return ea.pbDg;if(ya===N.GRANULARITY_OPTIONS.LOW)return ea.pbLg;if(ya===N.GRANULARITY_OPTIONS.MEDIUM)return ea.pbMg;if(ya===N.GRANULARITY_OPTIONS.HIGH)return ea.pbHg;if(ya===N.GRANULARITY_OPTIONS.CUSTOM)return ea.pbCg},la=()=>
Y=>Y.meta&&Y.meta.advertiserDomains&&0<Y.meta.advertiserDomains.length?Y.meta.advertiserDomains[0]:"",xa=()=>Y=>Y.meta&&Y.meta.primaryCatId?Y.meta.primaryCatId:""},"./src/auctionIndex.js":(I,z,d)=>{function x(y){Object.assign(this,{getAuction(h){let {auctionId:v}=h;if(null!=v)return y().find(g=>g.getAuctionId()===v)},getAdUnit(h){let {transactionId:v}=h;if(null!=v)return y().flatMap(g=>g.getAdUnits()).find(g=>g.transactionId===v)},getMediaTypes(h){let {transactionId:v,requestId:g}=h;if(null!=g){if(h=
this.getBidRequest({requestId:g}),null!=h&&(null==v||h.transactionId===v))return h.mediaTypes}else if(null!=v&&(h=this.getAdUnit({transactionId:v}),null!=h))return h.mediaTypes},getBidderRequest(h){let {requestId:v,bidderRequestId:g}=h;if(null!=v||null!=g)return h=y().flatMap(B=>B.getBidRequests()),null!=g&&(h=h.filter(B=>B.bidderRequestId===g)),null==v?h[0]:h.find(B=>B.bids&&null!=B.bids.find(k=>k.bidId===v))},getBidRequest(h){let {requestId:v}=h;if(null!=v)return y().flatMap(g=>g.getBidRequests()).flatMap(g=>
g.bids).find(g=>g&&g.bidId===v)}})}d.d(z,{AuctionIndex:()=>x})},"./src/auctionManager.js":(I,z,d)=>{d.d(z,{auctionManager:()=>k});var x=d("./src/utils.js"),y=d("./src/auction.js"),h=d("./src/polyfill.js"),v=d("./src/auctionIndex.js"),g=d("./src/constants.json"),B=d("./src/utils/perfMetrics.js");const k=function(){const p=[],t={addWinningBid:function(E){var r=(0,B.useMetrics)(E.metrics);r.checkpoint("bidWon");r.timeBetween("auctionEnd","bidWon","render.pending");r.timeBetween("requestBids","bidWon",
"render.e2e");if(r=(0,h.find)(p,n=>n.getAuctionId()===E.auctionId))E.status=g.BID_STATUS.RENDERED,r.addWinningBid(E)},getAllWinningBids:function(){return p.map(E=>E.getWinningBids()).reduce(x.flatten,[])},getBidsRequested:function(){return p.map(E=>E.getBidRequests()).reduce(x.flatten,[])},getNoBids:function(){return p.map(E=>E.getNoBids()).reduce(x.flatten,[])},getBidsReceived:function(){return p.map(E=>{if(E.getAuctionStatus()===y.AUCTION_COMPLETED)return E.getBidsReceived()}).reduce(x.flatten,
[]).filter(E=>E)},getAllBidsForAdUnitCode:function(E){return p.map(r=>r.getBidsReceived()).reduce(x.flatten,[]).filter(r=>r&&r.adUnitCode===E)},getAdUnits:function(){return p.map(E=>E.getAdUnits()).reduce(x.flatten,[])},getAdUnitCodes:function(){return p.map(E=>E.getAdUnitCodes()).reduce(x.flatten,[]).filter(x.uniques)},createAuction:function(E){E=(0,y.newAuction)(E);p.push(E);return E},findBidByAdId:function(E){return(0,h.find)(p.map(r=>r.getBidsReceived()).reduce(x.flatten,[]),r=>r.adId===E)},getStandardBidderAdServerTargeting:function(){return(0,y.getStandardBidderSettings)()[g.JSON_MAPPING.ADSERVER_TARGETING]},
setStatusForBids:function(E,r){let n=t.findBidByAdId(E);n&&(n.status=r);n&&r===g.BID_STATUS.BID_TARGETING_SET&&(E=(0,h.find)(p,q=>q.getAuctionId()===n.auctionId))&&E.setBidTargeting(n)},getLastAuctionId:function(){return p.length&&p[p.length-1].getAuctionId()},clearAllAuctions:function(){p.length=0}};t.index=new v.AuctionIndex(()=>p);return t}()},"./src/bidderSettings.js":(I,z,d)=>{function x(t,E,r){if(!E.has(t))throw new TypeError("attempted to get private field on non-instance");return r}function y(t){return null==
t?this.defaultScope:t}d.d(z,{bidderSettings:()=>p});var h=d("./node_modules/dlv/index.js"),v=d("./src/utils.js"),g=d("./src/prebidGlobal.js");I=d("./src/constants.json");var B=new WeakSet;class k{constructor(t,E){if(B.has(this))throw new TypeError("Cannot initialize the same private elements twice on an object");B.add(this);this.getSettings=t;this.defaultScope=E}get(t,E){t=this.getOwn(t,E);"undefined"===typeof t&&(t=this.getOwn(null,E));return t}getOwn(t,E){t=x(this,B,y).call(this,t);return(0,h["default"])(this.getSettings(),
`${t}.${E}`)}getScopes(){return Object.keys(this.getSettings()).filter(t=>t!==this.defaultScope)}settingsFor(t){return(0,v.mergeDeep)({},this.ownSettingsFor(null),this.ownSettingsFor(t))}ownSettingsFor(t){t=x(this,B,y).call(this,t);return this.getSettings()[t]||{}}}const p=new k(()=>(0,g.getGlobal)().bidderSettings||{},I.JSON_MAPPING.BD_SETTING_STANDARD)},"./src/bidfactory.js":(I,z,d)=>{function x(v){let {src:g="client",bidder:B="",bidId:k,transactionId:p,auctionId:t}=1<arguments.length&&void 0!==
arguments[1]?arguments[1]:{};var E=v||0;this.bidderCode=B;this.height=this.width=0;this.statusMessage=function(){switch(E){case 0:return"Pending";case 1:return"Bid available";case 2:return"Bid returned empty or error response";case 3:return"Bid timed out"}}();this.adId=(0,h.getUniqueIdentifierStr)();this.requestId=k;this.transactionId=p;this.auctionId=t;this.mediaType="banner";this.source=g;this.getStatusCode=function(){return E};this.getSize=function(){return this.width+"x"+this.height};this.getIdentifiers=
function(){return{src:this.source,bidder:this.bidderCode,bidId:this.requestId,transactionId:this.transactionId,auctionId:this.auctionId}}}function y(v,g){return new x(v,g)}d.d(z,{createBid:()=>y});var h=d("./src/utils.js")},"./src/config.js":(I,z,d)=>{d.d(z,{RANDOM:()=>"random",config:()=>p});var x=d("./src/cpmBucketManager.js"),y=d("./src/polyfill.js"),h=d("./src/utils.js"),v=d("./node_modules/dlv/index.js");I=d("./src/constants.json");const g="TRUE"===(0,h.getParameterByName)(I.DEBUG_MODE).toUpperCase(),
B={random:!0,fixed:!0},k={LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"},p=function(){function t(){function W(T){return(0,y.find)(Object.keys(k),N=>T===k[N])}function Z(T){if(!T)return!1;if("string"===typeof T)W(T);else if((0,h.isPlainObject)(T)&&!(0,x.isValidPriceConfig)(T))return!1;return!0}function ia(T){if(!(0,h.isPlainObject)(T))return!1;for(let N of Object.keys(T)){if("secondaryBidders"!==N&&"suppressStaleRender"!==N)return!1;if("secondaryBidders"===N){if(!(0,h.isArray)(T[N])||
!T[N].every(h.isStr))return!1}else if("suppressStaleRender"===N&&!(0,h.isBoolean)(T[N]))return!1}return!0}w={};let ba={_debug:g,get debug(){return this._debug},set debug(T){this._debug=T},_bidderTimeout:3E3,get bidderTimeout(){return this._bidderTimeout},set bidderTimeout(T){this._bidderTimeout=T},_publisherDomain:null,get publisherDomain(){return this._publisherDomain},set publisherDomain(T){this._publisherDomain=T},_priceGranularity:k.MEDIUM,set priceGranularity(T){Z(T)&&("string"===typeof T?this._priceGranularity=
W(T)?T:k.MEDIUM:(0,h.isPlainObject)(T)&&(this._customPriceBucket=T,this._priceGranularity=k.CUSTOM))},get priceGranularity(){return this._priceGranularity},_customPriceBucket:{},get customPriceBucket(){return this._customPriceBucket},_mediaTypePriceGranularity:{},get mediaTypePriceGranularity(){return this._mediaTypePriceGranularity},set mediaTypePriceGranularity(T){this._mediaTypePriceGranularity=Object.keys(T).reduce((N,O)=>{Z(T[O])&&("string"===typeof T?N[O]=W(T[O])?T[O]:this._priceGranularity:
(0,h.isPlainObject)(T)&&(N[O]=T[O]));return N},{})},_sendAllBids:!0,get enableSendAllBids(){return this._sendAllBids},set enableSendAllBids(T){this._sendAllBids=T},_useBidCache:!1,get useBidCache(){return this._useBidCache},set useBidCache(T){this._useBidCache=T},_deviceAccess:!0,get deviceAccess(){return this._deviceAccess},set deviceAccess(T){this._deviceAccess=T},_bidderSequence:"random",get bidderSequence(){return this._bidderSequence},set bidderSequence(T){B[T]&&(this._bidderSequence=T)},_timeoutBuffer:400,
get timeoutBuffer(){return this._timeoutBuffer},set timeoutBuffer(T){this._timeoutBuffer=T},_maxNestedIframes:10,get maxNestedIframes(){return this._maxNestedIframes},set maxNestedIframes(T){this._maxNestedIframes=T},_auctionOptions:{},get auctionOptions(){return this._auctionOptions},set auctionOptions(T){ia(T)&&(this._auctionOptions=T)}};H&&q(Object.keys(H).reduce((T,N)=>{H[N]!==ba[N]&&(T[N]=ba[N]||{});return T},{}));H=ba;c={}}function E(){if(m&&c&&(0,h.isPlainObject)(c[m])){let W=c[m];const Z=
new Set(Object.keys(H).concat(Object.keys(W)));return(0,y.arrayFrom)(Z).reduce((ia,ba)=>{"undefined"===typeof W[ba]?ia[ba]=H[ba]:"undefined"===typeof H[ba]?ia[ba]=W[ba]:(0,h.isPlainObject)(W[ba])?ia[ba]=(0,h.mergeDeep)({},H[ba],W[ba]):ia[ba]=W[ba];return ia},{})}return Object.assign({},H)}function r(W){if((0,h.isPlainObject)(W)){var Z={};Object.keys(W).forEach(ia=>{let ba=W[ia];(0,h.isPlainObject)(w[ia])&&(0,h.isPlainObject)(ba)&&(ba=Object.assign({},w[ia],ba));try{Z[ia]=H[ia]=ba}catch(T){}});q(Z)}}
function n(W,Z){let ia=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},ba=Z;"string"!==typeof W&&(ba=W,W="*",ia=Z||{});if("function"===typeof ba){var T={topic:W,callback:ba};G.push(T);ia.init&&("*"===W?ba(A()):ba({[W]:A(W)}));return function(){G.splice(G.indexOf(T),1)}}}function q(W){const Z=Object.keys(W);G.filter(ia=>(0,y.includes)(Z,ia.topic)).forEach(ia=>{ia.callback({[ia.topic]:W[ia.topic]})});G.filter(ia=>"*"===ia.topic).forEach(ia=>ia.callback(W))}function f(W){function Z(ba){if(!(0,h.isPlainObject)(ba))throw"setBidderConfig bidder options must be an object";
if(!Array.isArray(ba.bidders)||!ba.bidders.length)throw"setBidderConfig bidder options must contain a bidders list with at least 1 bidder";if(!(0,h.isPlainObject)(ba.config))throw"setBidderConfig bidder options must contain a config object";}let ia=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;try{Z(W),W.bidders.forEach(ba=>{c[ba]||(c[ba]={});Object.keys(W.config).forEach(T=>{let N=W.config[T];(0,h.isPlainObject)(N)?c[ba][T]=(ia?h.mergeDeep:Object.assign)({},c[ba][T]||{},N):c[ba][T]=N})})}catch(ba){}}
function D(W,Z){m=W;try{return Z()}finally{m=null}}let G=[],w,H,c,m=null;const [l,A]=[E,function(){const W=E();Object.defineProperty(W,"ortb2",{get:function(){throw Error("invalid access to 'orbt2' config - use request parameters instead");}});return W}].map(W=>function(){if(1>=arguments.length&&"function"!==typeof(0>=arguments.length?void 0:arguments[0])){const Z=0>=arguments.length?void 0:arguments[0];return Z?(0,v["default"])(W(),Z):E()}return n(...arguments)}),[J,U]=[A,l].map(W=>function(){let Z=
W(...arguments);Z&&"object"===typeof Z&&(Z=(0,h.deepClone)(Z));return Z});t();return{getCurrentBidder:function(){return m},resetBidder:function(){m=null},getConfig:A,getAnyConfig:l,readConfig:J,readAnyConfig:U,setConfig:r,mergeConfig:function(W){if((0,h.isPlainObject)(W))return W=(0,h.mergeDeep)(E(),W),r({...W}),W},setDefaults:function(W){(0,h.isPlainObject)(w)&&(Object.assign(w,W),Object.assign(H,W))},resetConfig:t,runWithBidder:D,callbackWithBidder:function(W){return function(Z){return function(){if("function"===
typeof Z){for(var ia=arguments.length,ba=Array(ia),T=0;T<ia;T++)ba[T]=arguments[T];return D(W,h.bind.call(Z,this,...ba))}}}},setBidderConfig:f,getBidderConfig:function(){return c},mergeBidderConfig:function(W){return f(W,!0)}}}()},"./src/consentHandler.js":(I,z,d)=>{function x(c,m){if(m.has(c))throw new TypeError("Cannot initialize the same private elements twice on an object");}function y(c,m,l){if(!m.has(c))throw new TypeError("attempted to get private field on non-instance");return l}function h(c){(0,B["default"])(this,
q,!0);(0,B["default"])(this,r,c);(0,g["default"])(this,n).resolve(c)}d.d(z,{GdprConsentHandler:()=>w,GppConsentHandler:()=>H,UspConsentHandler:()=>G,VENDORLESS_GVLID:()=>t});var v=d("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),g=d("./node_modules/@babel/runtime/helpers/esm/classPrivateFieldGet.js"),B=d("./node_modules/@babel/runtime/helpers/esm/classPrivateFieldSet.js"),k=d("./src/utils.js"),p=d("./src/utils/promise.js");const t=Object.freeze({});var E=new WeakMap,r=new WeakMap,
n=new WeakMap,q=new WeakMap,f=new WeakSet;class D{constructor(){x(this,f);f.add(this);x(this,E);E.set(this,{writable:!0,value:void 0});var c=r;x(this,c);c.set(this,{writable:!0,value:void 0});c=n;x(this,c);c.set(this,{writable:!0,value:void 0});c=q;x(this,c);c.set(this,{writable:!0,value:void 0});(0,v["default"])(this,"generatedTime",void 0);this.reset()}reset(){(0,B["default"])(this,n,(0,p.defer)());(0,B["default"])(this,E,!1);(0,B["default"])(this,r,null);(0,B["default"])(this,q,!1);this.generatedTime=
null}enable(){(0,B["default"])(this,E,!0)}get enabled(){return(0,g["default"])(this,E)}get ready(){return(0,g["default"])(this,q)}get promise(){if((0,g["default"])(this,q))return p.GreedyPromise.resolve((0,g["default"])(this,r));(0,g["default"])(this,E)||y(this,f,h).call(this,null);return(0,g["default"])(this,n).promise}setConsentData(c){this.generatedTime=1<arguments.length&&void 0!==arguments[1]?arguments[1]:(0,k.timestamp)();y(this,f,h).call(this,c)}getConsentData(){return(0,g["default"])(this,
r)}}class G extends D{getConsentMeta(){const c=this.getConsentData();if(c&&this.generatedTime)return{usp:c,generatedAt:this.generatedTime}}}class w extends D{getConsentMeta(){const c=this.getConsentData();if(c&&c.vendorData&&this.generatedTime)return{gdprApplies:c.gdprApplies,consentStringSize:(0,k.isStr)(c.vendorData.tcString)?c.vendorData.tcString.length:0,generatedAt:this.generatedTime,apiVersion:c.apiVersion}}}class H extends D{getConsentMeta(){if(this.getConsentData()&&this.generatedTime)return{generatedAt:this.generatedTime}}}
},"./src/cpmBucketManager.js":(I,z,d)=>{function x(q,f){let D=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,G=parseFloat(q);isNaN(G)&&(G="");return{low:""===G?"":y(q,p,D),med:""===G?"":y(q,t,D),high:""===G?"":y(q,E,D),auto:""===G?"":y(q,n,D),dense:""===G?"":y(q,r,D),custom:""===G?"":y(q,f,D)}}function y(q,f,D){let G="";if(!h(f))return G;const w=f.buckets.reduce((c,m)=>c.max>m.max?c:m,{max:0});let H=0;(f=(0,g.find)(f.buckets,c=>{if(q>w.max*D){let m=c.precision;"undefined"===typeof m&&(m=
2);G=(c.max*D).toFixed(m)}else{if(q<=c.max*D&&q>=H*D)return c.min=H,c;H=c.max}}))&&(G=v(q,f,D));return G}function h(q){if((0,B.isEmpty)(q)||!q.buckets||!Array.isArray(q.buckets))return!1;let f=!0;q.buckets.forEach(D=>{D.max&&D.increment||(f=!1)});return f}function v(q,f,D){const G="undefined"!==typeof f.precision?f.precision:2,w=f.increment*D;f=f.min*D;D=Math.floor;var H=k.config.getConfig("cpmRoundingFunction");"function"===typeof H&&(D=H);H=Math.pow(10,G+2);q=(q*H-f*H)/(w*H);let c,m;try{c=D(q)*
w+f}catch(l){m=!0}if(m||"number"!==typeof c)c=Math.floor(q)*w+f;c=Number(c.toFixed(10));return c.toFixed(G)}d.d(z,{getPriceBucketString:()=>x,isValidPriceConfig:()=>h});var g=d("./src/polyfill.js"),B=d("./src/utils.js"),k=d("./src/config.js");const p={buckets:[{max:5,increment:.5}]},t={buckets:[{max:20,increment:.1}]},E={buckets:[{max:20,increment:.01}]},r={buckets:[{max:3,increment:.01},{max:8,increment:.05},{max:20,increment:.5}]},n={buckets:[{max:5,increment:.05},{max:10,increment:.1},{max:20,
increment:.5}]}},"./src/debugging.js":(I,z,d)=>{function x(){return(0,k.getGlobal)().installedModules.includes("debugging")}function y(q){return new r.GreedyPromise(f=>{(0,E.loadExternalScript)(q,"debugging",f)})}function h(){let {alreadyInstalled:q=x,script:f=y}=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},D=null;return function(){null==D&&(D=new r.GreedyPromise((G,w)=>{setTimeout(()=>{q()?G():((0,k.getGlobal)()._installDebugging=!0,f("/build/dev/debugging-standalone.js").then(()=>{(0,k.getGlobal)()._installDebugging({DEBUG_KEY:"__pbjs_debugging__",
hook:B.hook,config:g.config,createBid:t.createBid,logger:(0,p.prefixLog)("DEBUG:")})}).then(G,w))})}));return D}}function v(){let q=null;try{q=window.sessionStorage}catch(f){}if(null!==q){let f=n,D=null;try{D=q.getItem("__pbjs_debugging__")}catch(G){}null!==D&&f.enable()}}d.d(z,{loadSession:()=>v});var g=d("./src/config.js"),B=d("./src/hook.js"),k=d("./src/prebidGlobal.js"),p=d("./src/utils.js"),t=d("./src/bidfactory.js"),E=d("./src/adloader.js"),r=d("./src/utils/promise.js");const n=function(){function q(c){for(var m=
arguments.length,l=Array(1<m?m-1:0),A=1;A<m;A++)l[A-1]=arguments[A];return(w||r.GreedyPromise.resolve()).then(()=>c.apply(this,l))}function f(){G.getHooks({hook:q}).remove();H=!1}let {load:D=h(),hook:G=(0,B.getHook)("requestBids")}=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},w=null,H=!1;return{enable:function(){H||(w=D(),G.before(q,99),H=!0)},disable:f,reset:function(){w=null;f()}}}();g.config.getConfig("debugging",function(q){({debugging:q}=q);null!==q&&void 0!==q&&q.enabled?n.enable():
n.disable()})},"./src/events.js":(I,z,d)=>{function x(){k.length=0}d.r(z);d.d(z,{addEvents:()=>q,clearEvents:()=>x,emit:()=>n,get:()=>E,getEvents:()=>r,off:()=>t,on:()=>p});var y=d("./src/utils.js");I=d("./src/constants.json");var h=Array.prototype.slice,v=Array.prototype.push,g=y._map(I.EVENTS,function(f){return f}),B=I.EVENT_ID_PATHS,k=[];I=function(){function f(G,w){var H=w[0]||{},c=H[B[G]],m=D[G]||{que:[]},l=y._map(m,function(J,U){return U}),A=[];k.push({eventType:G,args:H,id:c,elapsedTime:y.getPerformanceNow()});
c&&y.contains(l,c)&&v.apply(A,m[c].que);v.apply(A,m.que);y._each(A,function(J){if(J)try{J.apply(null,w)}catch(U){}})}var D={};return{on:function(G,w,H){if(y.contains(g,G)){var c=D[G]||{que:[]};H?(c[H]=c[H]||{que:[]},c[H].que.push(w)):c.que.push(w);D[G]=c}},emit:function(G){var w=h.call(arguments,1);f(G,w)},off:function(G,w,H){var c=D[G];y.isEmpty(c)||y.isEmpty(c.que)&&y.isEmpty(c[H])||H&&(y.isEmpty(c[H])||y.isEmpty(c[H].que))||(H?y._each(c[H].que,function(m){var l=c[H].que;m===w&&l.splice(l.indexOf(m),
1)}):y._each(c.que,function(m){var l=c.que;m===w&&l.splice(l.indexOf(m),1)}),D[G]=c)},get:function(){return D},addEvents:function(G){g=g.concat(G)},getEvents:function(){var G=[];y._each(k,function(w){w=Object.assign({},w);G.push(w)});return G}}}();const {on:p,off:t,get:E,getEvents:r,emit:n,addEvents:q}=I},"./src/hook.js":(I,z,d)=>{function x(E,r){let n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:15;0===E.getHooks({hook:r}).length&&E.before(r,n)}function y(E,r){let {postInstallAllowed:n=
!1}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};g("async",function(q){q.forEach(f=>r(...f));n&&(t[E]=r)},E)([])}function h(E){for(var r=arguments.length,n=Array(1<r?r-1:0),q=1;q<r;q++)n[q-1]=arguments[q];if(r=t[E])return r(...n);p(E).before((f,D)=>{D.push(n);f(D)})}function v(E,r){Object.defineProperties(r,Object.fromEntries(["before","after","getHooks","removeAll"].map(n=>[n,{get:()=>E[n]}])));return r}d.d(z,{getHook:()=>p,hook:()=>g,module:()=>y,ready:()=>k,setupBeforeHookFnOnce:()=>
x,submodule:()=>h,wrapHook:()=>v});I=d("./node_modules/fun-hooks/no-eval/index.js");I=d.n(I);d=d("./src/utils/promise.js");let g=I()({ready:I().SYNC|I().ASYNC|I().QUEUE});const B=(0,d.defer)();g.ready=(()=>{const E=g.ready;return function(){try{return E.apply(g,arguments)}finally{B.resolve()}}})();const k=B.promise,p=g.get,t={}},"./src/mediaTypes.js":(I,z,d)=>{d.d(z,{ADPOD:()=>"adpod",BANNER:()=>"banner",NATIVE:()=>"native",VIDEO:()=>"video"})},"./src/native.js":(I,z,d)=>{function x(L){var P;if(P=
L&&L.type)P=(P=L.type)&&(0,W.includes)(Object.keys(O),P)?!0:!1;P&&(L=O[L.type]);if(!L||!L.ortb||h(L.ortb))return L}function y(L){L.forEach(P=>{const R=P.nativeParams||(0,J["default"])(P,"mediaTypes.native");R&&(P.nativeParams=x(R));P.nativeParams&&(P.nativeOrtbRequest=P.nativeParams.ortb||G(P.nativeParams))})}function h(L){const P=L.assets;if(!Array.isArray(P)||0===P.length)return!1;const R=P.map(fa=>fa.id);return P.length!==(new Set(R)).size||R.some(fa=>fa!==parseInt(fa,10))||L.hasOwnProperty("eventtrackers")&&
!Array.isArray(L.eventtrackers)?!1:P.every(fa=>v(fa))}function v(L){if(!(0,U.isPlainObject)(L))return!1;if(L.img){if(!(0,U.isNumber)(L.img.w)&&!(0,U.isNumber)(L.img.wmin)||!(0,U.isNumber)(L.img.h)&&!(0,U.isNumber)(L.img.hmin))return!1}else if(L.title){if(!(0,U.isNumber)(L.title.len))return!1}else if(L.data){if(!(0,U.isNumber)(L.data.type))return!1}else if(L.video&&!(Array.isArray(L.video.mimes)&&Array.isArray(L.video.protocols)&&(0,U.isNumber)(L.video.minduration)&&(0,U.isNumber)(L.video.maxduration)))return!1;
return!0}function g(L){var P,{index:R=Z.auctionManager.index}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};R=R.getAdUnit(L);if(!R)return!1;R=R.nativeOrtbRequest;let fa=(null===(P=L.native)||void 0===P?void 0:P.ortb)||m(L.native,R);return B(fa,R)}function B(L,P){if(!(0,J["default"])(L,"link.url"))return!1;P=P.assets.filter(fa=>1===fa.required).map(fa=>fa.id);let R=L.assets.map(fa=>fa.id);return P.every(fa=>(0,W.includes)(R,fa))}function k(L,P){P=P.native.ortb||c(P.native);"click"===L.action?
t(P,null===L||void 0===L?void 0:L.assetId):p(P);return L.action}function p(L){let {runMarkup:P=K=>(0,U.insertHtmlIntoIframe)(K),fetchURL:R=U.triggerPixel}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};const fa=(L.eventtrackers||[]).filter(K=>K.event===ja.impression);let {img:na,js:Ea}=fa.reduce((K,ha)=>{da.hasOwnProperty(ha.method)&&K[da[ha.method]].push(ha.url);return K},{img:[],js:[]});L.imptrackers&&(na=na.concat(L.imptrackers));na.forEach(K=>R(K));Ea=Ea.map(K=>`<script async src="${K}"></script>`);
L.jstracker&&(Ea=Ea.concat([L.jstracker]));Ea.length&&P(Ea.join("\n"))}function t(L){var P=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;let {fetchURL:R=U.triggerPixel}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(P){var fa;const Ea=(L.assets||[]).filter(K=>K.link).reduce((K,ha)=>{K[ha.id]=ha.link;return K},{});var na=(null===(fa=L.link)||void 0===fa?void 0:fa.clicktrackers)||[];P=Ea[P];fa=na;P&&(fa=P.clicktrackers||[]);fa.forEach(K=>R(K))}else((null===(na=L.link)||void 0===
na?void 0:na.clicktrackers)||[]).forEach(Ea=>R(Ea))}function E(L){var {index:P=Z.auctionManager.index}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};let R={};const fa=P.getAdUnit(L);(0,J["default"])(fa,"nativeParams.rendererUrl")?L["native"].rendererUrl=f(fa.nativeParams.rendererUrl):(0,J["default"])(fa,"nativeParams.adTemplate")&&(L["native"].adTemplate=f(fa.nativeParams.adTemplate));const na=!1!==(0,J["default"])(fa,"nativeParams.sendTargetingKeys"),Ea=D(fa);P={...L.native,...L.native.ext};
delete P.ext;Object.keys(P).forEach(K=>{const ha=Ea[K];let la=f(L.native[K])||f((0,J["default"])(L,`native.ext.${K}`));if("adTemplate"!==K&&ha&&la){var xa=(0,J["default"])(fa,`nativeParams.${K}.sendId`);"boolean"!==typeof xa&&(xa=(0,J["default"])(fa,`nativeParams.ext.${K}.sendId`));xa&&(la=`${ha}:${L.adId}`);xa=(0,J["default"])(fa,`nativeParams.${K}.sendTargetingKeys`);"boolean"!==typeof xa&&(xa=(0,J["default"])(fa,`nativeParams.ext.${K}.sendTargetingKeys`));if("boolean"===typeof xa?xa:na)R[ha]=la}});
return R}function r(L,P,R){const fa={message:"assetResponse",adId:L.adId};let na=P.native;P.native.ortb&&(fa.ortb=P.native.ortb);fa.assets=[];(null==R?Object.keys(na):R).forEach(function(Ea){if("adTemplate"===Ea&&na[Ea])fa.adTemplate=f(na[Ea]);else if("rendererUrl"===Ea&&na[Ea])fa.rendererUrl=f(na[Ea]);else if("ext"===Ea)Object.keys(na[Ea]).forEach(K=>{if(na[Ea][K]){const ha=f(na[Ea][K]);fa.assets.push({key:K,value:ha})}});else if(na[Ea]&&ia.NATIVE_KEYS.hasOwnProperty(Ea)){const K=f(na[Ea]);fa.assets.push({key:Ea,
value:K})}});return fa}function n(L,P){const R=L.assets.map(fa=>(0,U.getKeyByValue)(ia.NATIVE_KEYS,fa));return r(L,P,R)}function q(L,P){return r(L,P,null)}function f(L){return(null===L||void 0===L?void 0:L.url)||L}function D(L){const P={};(0,J["default"])(L,"nativeParams.ext")&&Object.keys(L.nativeParams.ext).forEach(R=>{P[R]=`hb_native_${R}`});return{...ia.NATIVE_KEYS,...P}}function G(L){if(L||(0,U.isPlainObject)(L)){var P={ver:"1.2",assets:[]};for(let fa in L){if(V.includes(fa))continue;if(!pa.hasOwnProperty(fa))continue;
const na=L[fa];var R=0;na.required&&(0,U.isBoolean)(na.required)&&(R=Number(na.required));R={id:P.assets.length,required:R};if(fa in Da)R.data={type:oa[Da[fa]]},na.len&&(R.data.len=na.len);else if("icon"===fa||"image"===fa){R.img={type:"icon"===fa?ta.ICON:ta.MAIN};if(na.aspect_ratios&&(0,U.isArray)(na.aspect_ratios)&&na.aspect_ratios.length){const {min_width:Ea,min_height:K}=na.aspect_ratios[0];Number.isInteger(Ea)&&Number.isInteger(K)&&(R.img.wmin=Ea,R.img.hmin=K);const ha=na.aspect_ratios.filter(la=>
la.ratio_width&&la.ratio_height).map(la=>`${la.ratio_width}:${la.ratio_height}`);0<ha.length&&(R.img.ext={aspectratios:ha})}na.sizes&&2===na.sizes.length&&Number.isInteger(na.sizes[0])&&Number.isInteger(na.sizes[1])&&(R.img.w=na.sizes[0],R.img.h=na.sizes[1],delete R.img.hmin,delete R.img.wmin)}else"title"===fa?R.title={len:na.len||140}:"ext"===fa&&(R.ext=na,delete R.required);P.assets.push(R)}return P}}function w(L){if(h(L)){var P={};for(const R of L.assets)if(R.title)P.title={required:R.required?
!!R.required:!1,len:R.title.len};else if(R.img)L={required:R.required?!!R.required:!1},R.img.w&&R.img.h?L.sizes=[R.img.w,R.img.h]:R.img.wmin&&R.img.hmin&&(L.aspect_ratios={min_width:R.img.wmin,min_height:R.img.hmin,ratio_width:R.img.wmin,ratio_height:R.img.hmin}),R.img.type===ta.MAIN?P.image=L:P.icon=L;else if(R.data){let fa=Object.keys(oa).find(na=>oa[na]===R.data.type);L=Object.keys(Da).find(na=>Da[na]===fa);P[L]={required:R.required?!!R.required:!1};R.data.len&&(P[L].len=R.data.len)}return P}}
function H(L){if(!L||!(0,U.isArray)(L)||!L.some(P=>{var R;return null===(R=((null===P||void 0===P?void 0:P.mediaTypes)||{})[ba.NATIVE])||void 0===R?void 0:R.ortb}))return L;L=(0,U.deepClone)(L);for(const P of L)P.mediaTypes&&P.mediaTypes[ba.NATIVE]&&P.mediaTypes[ba.NATIVE].ortb&&(P.mediaTypes[ba.NATIVE]=Object.assign((0,U.pick)(P.mediaTypes[ba.NATIVE],V),w(P.mediaTypes[ba.NATIVE].ortb)),P.nativeParams=x(P.mediaTypes[ba.NATIVE]));return L}function c(L){const P={link:{},eventtrackers:[]};Object.entries(L).forEach(R=>
{let [fa,na]=R;switch(fa){case "clickUrl":P.link.url=na;break;case "clickTrackers":P.link.clicktrackers=Array.isArray(na)?na:[na];break;case "impressionTrackers":(Array.isArray(na)?na:[na]).forEach(Ea=>{P.eventtrackers.push({event:ja.impression,method:da.img,url:Ea})});break;case "javascriptTrackers":P.jstracker=Array.isArray(na)?na.join(""):na}});return P}function m(L,P){function R(na,Ea){na=P.assets.find(na);null!=na&&(na=(0,U.deepClone)(na),Ea(na),fa.assets.push(na))}const fa={...c(L),assets:[]};
Object.keys(L).filter(na=>!!L[na]).forEach(na=>{const Ea=L[na];switch(na){case "title":R(ha=>null!=ha.title,ha=>{ha.title={text:Ea}});break;case "image":case "icon":const K="image"===na?ta.MAIN:ta.ICON;R(ha=>null!=ha.img&&ha.img.type===K,ha=>{ha.img={url:Ea}});break;default:na in Da&&R(ha=>null!=ha.data&&ha.data.type===oa[Da[na]],ha=>{ha.data={value:Ea}})}});return fa}function l(L,P){const R={};var fa=(null===P||void 0===P?void 0:P.assets)||[];R.clickUrl=L.link.url;R.privacyLink=L.privacy;for(const na of(null===
L||void 0===L?void 0:L.assets)||[]){const Ea=fa.find(K=>na.id===K.id);na.title?R.title=na.title.text:na.img?R[Ea.img.type===ta.MAIN?"image":"icon"]=na.img.url:na.data&&(R[X[aa[Ea.data.type]]]=na.data.value)}R.impressionTrackers=[];fa=[];null!==P&&void 0!==P&&P.imptrackers&&R.impressionTrackers.push(...P.imptrackers);for(const na of(null===L||void 0===L?void 0:L.eventtrackers)||[])na.event===ja.impression&&na.method===da.img&&R.impressionTrackers.push(na.url),na.event===ja.impression&&na.method===
da.js&&fa.push(na.url);fa=fa.map(na=>`<script async src="${na}"></script>`);null!==L&&void 0!==L&&L.jstracker&&fa.push(L.jstracker);fa.length&&(R.javascriptTrackers=fa.join("\n"));return R}function A(L){var P={},R;for(R in L)P[L[R]]=R;return P}d.d(z,{NATIVE_TARGETING_KEYS:()=>N,convertOrtbRequestToProprietaryNative:()=>H,decorateAdUnitsWithNativeParams:()=>y,fireNativeTrackers:()=>k,getAllAssetsMessage:()=>q,getAssetMessage:()=>n,getNativeTargeting:()=>E,nativeAdapters:()=>T,nativeBidIsValid:()=>
g,toLegacyResponse:()=>l});var J=d("./node_modules/dlv/index.js"),U=d("./src/utils.js"),W=d("./src/polyfill.js"),Z=d("./src/auctionManager.js"),ia=d("./src/constants.json"),ba=d("./src/mediaTypes.js");const T=[],N=Object.keys(ia.NATIVE_KEYS).map(L=>ia.NATIVE_KEYS[L]),O={image:{ortb:{ver:"1.2",assets:[{required:1,id:1,img:{type:3,wmin:100,hmin:100}},{required:1,id:2,title:{len:140}},{required:1,id:3,data:{type:1}},{required:0,id:4,data:{type:2}},{required:0,id:5,img:{type:1,wmin:20,hmin:20}}]},image:{required:!0},
title:{required:!0},sponsoredBy:{required:!0},clickUrl:{required:!0},body:{required:!1},icon:{required:!1}}},{NATIVE_ASSET_TYPES:oa,NATIVE_IMAGE_TYPES:ta,PREBID_NATIVE_DATA_KEYS_TO_ORTB:Da,NATIVE_KEYS_THAT_ARE_NOT_ASSETS:V,NATIVE_KEYS:pa}=ia,X=A(Da),aa=A(oa),da={img:1,js:2,1:"img",2:"js"},ja={impression:1,"viewable-mrc50":2,"viewable-mrc100":3,"viewable-video50":4}},"./src/polyfill.js":(I,z,d)=>{function x(v,g,B){return v&&v.includes(g,B)||!1}function y(){return Array.from.apply(Array,arguments)}
function h(v,g,B){return v&&v.find(g,B)}d.d(z,{arrayFrom:()=>y,find:()=>h,includes:()=>x})},"./src/prebid.js":(I,z,d)=>{function x(K,ha,la){K.defaultView&&K.defaultView.frameElement&&(K.defaultView.frameElement.width=ha,K.defaultView.frameElement.height=la)}function y(K,ha){let la=[];(0,r.isArray)(K)&&(ha?K.length===ha:0<K.length)&&(K.every(xa=>(0,r.isArrayOfNums)(xa,2))?la=K:(0,r.isArrayOfNums)(K,2)&&la.push(K));return la}function h(K){K=(0,r.deepClone)(K);const ha=K.mediaTypes.banner,la=y(ha.sizes);
0<la.length?(ha.sizes=la,K.sizes=la):delete K.mediaTypes.banner;return K}function v(K){K=(0,r.deepClone)(K);const ha=K.mediaTypes.video;if(ha.playerSize){const la=y(ha.playerSize,"number"===typeof ha.playerSize[0]?2:1);0<la.length?(ha.playerSize=la,K.sizes=la):delete K.mediaTypes.video.playerSize}return K}function g(K){const ha=(0,r.deepClone)(K);K=ha.mediaTypes.native;if(K.ortb){const la=Object.keys(ia.NATIVE_KEYS).filter(Y=>ia.NATIVE_KEYS[Y].includes("hb_native_")),xa=Object.keys(K).filter(Y=>la.includes(Y));
0<xa.length&&xa.forEach(Y=>delete ha.mediaTypes.native[Y])}K.image&&K.image.sizes&&!Array.isArray(K.image.sizes)&&delete ha.mediaTypes.native.image.sizes;K.image&&K.image.aspect_ratios&&!Array.isArray(K.image.aspect_ratios)&&delete ha.mediaTypes.native.image.aspect_ratios;K.icon&&K.icon.sizes&&!Array.isArray(K.icon.sizes)&&delete ha.mediaTypes.native.icon.sizes;return ha}function B(K,ha){let la=(0,n["default"])(K,`mediaTypes.${ha}.pos`);(0,r.isNumber)(la)&&!isNaN(la)&&isFinite(la)||(ba.emit(ia.EVENTS.AUCTION_DEBUG,
{type:"WARNING",arguments:`Value of property 'pos' on ad unit ${K.code} should be of type: Number`}),delete K.mediaTypes[ha].pos);return K}function k(K){const ha=K.mediaTypes,la=K.bids;if(null!=la&&!(0,r.isArray)(la)||null==la&&null==K.ortb2Imp||!ha||0===Object.keys(ha).length)return null;null==K.ortb2Imp||null!=la&&0!==la.length||(K.bids=[{bidder:null}]);return K}function p(K){const ha=w.auctionManager[K]().filter(r.bind.call(r.adUnitsFilter,this,w.auctionManager.getAdUnitCodes())),la=w.auctionManager.getLastAuctionId();
return ha.map(xa=>xa.adUnitCode).filter(r.uniques).map(xa=>ha.filter(Y=>Y.auctionId===la&&Y.adUnitCode===xa)).filter(xa=>xa&&xa[0]&&xa[0].adUnitCode).map(xa=>({[xa[0].adUnitCode]:{bids:xa}})).reduce((xa,Y)=>Object.assign(xa,Y),{})}function t(K,ha,la){const xa=ha.querySelector(la);K.parentNode&&K.parentNode===xa||(0,r.insertElement)(K,ha,la)}function E(K){K.forEach(function(ha){if("undefined"===typeof ha.called)try{ha.call(),ha.called=!0}catch(la){}})}d.d(z,{checkAdUnitSetup:()=>R});z=d("./src/prebidGlobal.js");
var r=d("./src/utils.js"),n=d("./node_modules/dlv/index.js"),q=d("./node_modules/dset/dist/index.mjs"),f=d("./src/secureCreatives.js"),D=d("./src/userSync.js"),G=d("./src/config.js"),w=d("./src/auctionManager.js"),H=d("./src/targeting.js"),c=d("./src/hook.js");I=d("./src/debugging.js");var m=d("./src/polyfill.js"),l=d("./src/adUnits.js"),A=d("./src/Renderer.js"),J=d("./src/bidfactory.js"),U=d("./src/storageManager.js"),W=d("./src/adRendering.js"),Z=d("./src/adapterManager.js"),ia=d("./src/constants.json"),
ba=d("./src/events.js"),T=d("./src/utils/perfMetrics.js"),N=d("./src/utils/promise.js");const O=(0,z.getGlobal)();({triggerUserSyncs:d}=D.userSync);const {ADD_AD_UNITS:oa,BID_WON:ta,REQUEST_BIDS:Da,SET_TARGETING:V,STALE_RENDER:pa}=ia.EVENTS,{PREVENT_WRITING_ON_MAIN_DOCUMENT:X,NO_AD:aa,EXCEPTION:da,CANNOT_FIND_AD:ja,MISSING_DOC_OR_ADID:L}=ia.AD_RENDER_FAILED_REASON,P={bidWon:function(K){var ha=w.auctionManager.getBidsRequested().map(la=>la.bids.map(xa=>xa.adUnitCode)).reduce(r.flatten).filter(r.uniques);
if((0,r.contains)(ha,K))return!0}};(0,I.loadSession)();O.bidderSettings=O.bidderSettings||{};O.libLoaded=!0;O.version="v7.36.0";O.installedModules=O.installedModules||[];O.adUnits=O.adUnits||[];O.triggerUserSyncs=d;Object.assign({validateAdUnit:k,validateBannerMediaType:h,validateVideoMediaType:v,validateSizes:y},{validateNativeMediaType:g});const R=(0,c.hook)("sync",function(K){const ha=[];K.forEach(la=>{la=k(la);if(null!=la){var xa=la.mediaTypes,Y;if(xa.banner){var ea=h(la);xa.banner.hasOwnProperty("pos")&&
(ea=B(ea,"banner"))}if(xa.video){var ya=ea?v(ea):v(la);xa.video.hasOwnProperty("pos")&&(ya=B(ya,"video"))}xa.native&&(Y=ya?g(ya):ea?g(ea):g(la));la=Object.assign({},ea,ya,Y);ha.push(la)}});return ha},"checkAdUnitSetup");O.getAdserverTargetingForAdUnitCodeStr=function(K){if(K)return K=O.getAdserverTargetingForAdUnitCode(K),(0,r.transformAdServerTargetingObj)(K)};O.getHighestUnusedBidResponseForAdUnitCode=function(K){if(K)return K=w.auctionManager.getAllBidsForAdUnitCode(K).filter(H.isBidUsable),K.length?
K.reduce(r.getHighestCpm):{}};O.getAdserverTargetingForAdUnitCode=function(K){return O.getAdserverTargeting(K)[K]};O.getAdserverTargeting=function(K){return H.targeting.getAllTargeting(K)};O.getConsentMetadata=function(){return{gdpr:Z.gdprDataHandler.getConsentMeta(),usp:Z.uspDataHandler.getConsentMeta(),gpp:Z.gppDataHandler.getConsentMeta(),coppa:!!G.config.getConfig("coppa")}};O.getNoBids=function(){return p("getNoBids")};O.getNoBidsForAdUnitCode=function(K){return{bids:w.auctionManager.getNoBids().filter(ha=>
ha.adUnitCode===K)}};O.getBidResponses=function(){return p("getBidsReceived")};O.getBidResponsesForAdUnitCode=function(K){return{bids:w.auctionManager.getBidsReceived().filter(ha=>ha.adUnitCode===K)}};O.setTargetingForGPTAsync=function(K,ha){if((0,r.isGptPubadsDefined)()){var la=H.targeting.getAllTargeting(K);H.targeting.resetPresetTargeting(K,ha);H.targeting.setTargetingForGPT(la,ha);Object.keys(la).forEach(xa=>{Object.keys(la[xa]).forEach(Y=>{"hb_adid"===Y&&w.auctionManager.setStatusForBids(la[xa][Y],
ia.BID_STATUS.BID_TARGETING_SET)})});ba.emit(V,la)}};O.setTargetingForAst=function(K){H.targeting.isApntagDefined()&&(H.targeting.setTargetingForAst(K),ba.emit(V,H.targeting.getAllTargeting()))};O.renderAd=(0,c.hook)("async",function(K,ha,la){if(ha)try{const Ka=w.auctionManager.findBidByAdId(ha);if(Ka){if(Ka.status===ia.BID_STATUS.RENDERED&&(ba.emit(pa,Ka),(0,n["default"])(G.config.getConfig("auctionOptions"),"suppressStaleRender")))return;Ka.ad=(0,r.replaceAuctionPrice)(Ka.ad,Ka.originalCpm||Ka.cpm);
Ka.adUrl=(0,r.replaceAuctionPrice)(Ka.adUrl,Ka.originalCpm||Ka.cpm);la&&la.clickThrough&&({clickThrough:la}=la,Ka.ad=(0,r.replaceClickThrough)(Ka.ad,la),Ka.adUrl=(0,r.replaceClickThrough)(Ka.adUrl,la));w.auctionManager.addWinningBid(Ka);ba.emit(ta,Ka);var {height:xa,width:Y,ad:ea,mediaType:ya,adUrl:Aa,renderer:Ga}=Ka,Ma=Ka.adUnitCode,Qa=O.adUnits.filter(ma=>ma.code===Ma),Va=O.videoModule;if(Qa.video&&Va)Va.renderBid(Qa.video.divId,Ka);else if(K){var Ua=document.createComment(`Creative ${Ka.creativeId} served by ${Ka.bidder} Prebid.js Header Bidding`);
(0,r.insertElement)(Ua,K,"html");if((0,A.isRendererRequired)(Ga))(0,A.executeRenderer)(Ga,Ka,K),t(Ua,K,"html"),(0,W.emitAdRenderSucceeded)({doc:K,bid:Ka,id:ha});else if(K===document&&!(0,r.inIframe)()||"video"===ya)(0,W.emitAdRenderFail)({reason:X,message:`Error trying to write ad. Ad render call ad id ${ha} was prevented from writing to the main document.`,bid:Ka,id:ha});else if(ea)K.write(ea),K.close(),x(K,Y,xa),t(Ua,K,"html"),(0,r.callBurl)(Ka),(0,W.emitAdRenderSucceeded)({doc:K,bid:Ka,id:ha});
else if(Aa){const ma=(0,r.createInvisibleIframe)();ma.height=xa;ma.width=Y;ma.style.display="inline";ma.style.overflow="hidden";ma.src=Aa;(0,r.insertElement)(ma,K,"body");x(K,Y,xa);t(Ua,K,"html");(0,r.callBurl)(Ka);(0,W.emitAdRenderSucceeded)({doc:K,bid:Ka,id:ha})}else(0,W.emitAdRenderFail)({reason:aa,message:`Error trying to write ad. No ad for bid response id: ${ha}`,bid:Ka,id:ha})}else(0,W.emitAdRenderFail)({reason:L,message:`Error trying to write ad Id :${ha} to the page. Missing document`,id:ha})}else(0,W.emitAdRenderFail)({reason:ja,
message:`Error trying to write ad. Cannot find ad by given id : ${ha}`,id:ha})}catch(Ka){(0,W.emitAdRenderFail)({reason:da,message:`Error trying to write ad Id :${ha} to the page:${Ka.message}`,id:ha})}else(0,W.emitAdRenderFail)({reason:L,message:`Error trying to write ad Id :${ha} to the page. Missing adId`,id:ha})});O.removeAdUnit=function(K){K?((0,r.isArray)(K)?K:[K]).forEach(ha=>{for(let la=O.adUnits.length-1;0<=la;la--)O.adUnits[la].code===ha&&O.adUnits.splice(la,1)}):O.adUnits=[]};O.requestBids=
function(){const K=(0,c.hook)("async",function(){let {bidsBackHandler:ha,timeout:la,adUnits:xa,adUnitCodes:Y,labels:ea,auctionId:ya,ttlBuffer:Aa,ortb2:Ga,metrics:Ma,defer:Qa}=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};ba.emit(Da);const Va=la||G.config.getConfig("bidderTimeout");Y&&Y.length?xa=xa.filter(Ka=>(0,m.includes)(Y,Ka.code)):Y=xa&&xa.map(Ka=>Ka.code);const Ua={global:(0,r.mergeDeep)({},G.config.getAnyConfig("ortb2")||{},Ga||{}),bidder:Object.fromEntries(Object.entries(G.config.getBidderConfig()).map(Ka=>
{let [ma,ua]=Ka;return[ma,ua.ortb2]}).filter(Ka=>{[,Ka]=Ka;return null!=Ka}))};return fa({bidsBackHandler:ha,timeout:Va,adUnits:xa,adUnitCodes:Y,labels:ea,auctionId:ya,ttlBuffer:Aa,ortb2Fragments:Ua,metrics:Ma,defer:Qa})},"requestBids");return(0,c.wrapHook)(K,function(){let ha=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},la=ha.adUnits||O.adUnits;ha.adUnits=(0,r.isArray)(la)?la.slice():[la];ha.metrics=(0,T.newMetrics)();ha.metrics.checkpoint("requestBids");ha.defer=(0,N.defer)({promiseFactory:xa=>
new Promise(xa)});K.call(this,ha);return ha.defer.promise})}();const fa=(0,c.hook)("async",function(){function K(Ua,Ka,ma){if("function"===typeof ha)try{ha(Ua,Ka,ma)}catch(ua){}Qa.resolve({bids:Ua,timedOut:Ka,auctionId:ma})}let {bidsBackHandler:ha,timeout:la,adUnits:xa,ttlBuffer:Y,adUnitCodes:ea,labels:ya,auctionId:Aa,ortb2Fragments:Ga,metrics:Ma,defer:Qa}=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};const Va=(0,Z.getS2SBidderSet)(G.config.getConfig("s2sConfig")||[]);xa=(0,T.useMetrics)(Ma).measureTime("requestBids.validate",
()=>R(xa));xa.forEach(Ua=>{var Ka,ma;const ua=Object.keys(Ua.mediaTypes||{banner:"banner"});var ra=Ua.bids.map(Ia=>Ia.bidder);const Ba=Z["default"].bidderRegistry;ra=ra.filter(Ia=>!Va.has(Ia));const Ca=(null===(Ka=Ua.ortb2Imp)||void 0===Ka?void 0:null===(ma=Ka.ext)||void 0===ma?void 0:ma.tid)||(0,r.generateUUID)();Ua.transactionId=Ca;null==Y||Ua.hasOwnProperty("ttlBuffer")||(Ua.ttlBuffer=Y);(0,q.dset)(Ua,"ortb2Imp.ext.tid",Ca);ra.forEach(Ia=>{var Na=Ba[Ia];const Pa=(Na=Na&&Na.getSpec&&Na.getSpec())&&
Na.supportedMediaTypes||["banner"];ua.some(Ra=>(0,m.includes)(Pa,Ra))?l.adunitCounter.incrementBidderRequestsCounter(Ua.code,Ia):Ua.bids=Ua.bids.filter(Ra=>Ra.bidder!==Ia)});l.adunitCounter.incrementRequestsCounter(Ua.code)});if(xa&&0!==xa.length){const Ua=w.auctionManager.createAuction({adUnits:xa,adUnitCodes:ea,callback:K,cbTimeout:la,labels:ya,auctionId:Aa,ortb2Fragments:Ga,metrics:Ma});ea.forEach(Ka=>H.targeting.setLatestAuctionForAdUnit(Ka,Ua.getAuctionId()));Ua.callBids()}else K()},"startAuction");
O.requestBids.before(function(K,ha){for(var la=U.storageCallbacks,xa;xa=la.shift();)xa();for(la=na;xa=la.shift();)xa();K.call(this,ha)},49);O.addAdUnits=function(K){O.adUnits.push.apply(O.adUnits,(0,r.isArray)(K)?K:[K]);ba.emit(oa)};O.onEvent=function(K,ha,la){if((0,r.isFn)(ha)&&(!la||P[K].call(null,la)))ba.on(K,ha,la)};O.offEvent=function(K,ha,la){la&&!P[K].call(null,la)||ba.off(K,ha,la)};O.getEvents=function(){return ba.getEvents()};O.registerBidAdapter=function(K,ha){try{Z["default"].registerBidAdapter(K(),
ha)}catch(la){}};O.registerAnalyticsAdapter=function(K){try{Z["default"].registerAnalyticsAdapter(K)}catch(ha){}};O.createBid=function(K){return(0,J.createBid)(K)};const na=[],Ea=(0,c.hook)("async",function(K){K&&!(0,r.isEmpty)(K)&&Z["default"].enableAnalytics(K)},"enableAnalyticsCb");O.enableAnalytics=function(K){na.push(Ea.bind(this,K))};O.aliasBidder=function(K,ha,la){K&&ha&&Z["default"].aliasBidAdapter(K,ha,la)};O.aliasRegistry=Z["default"].aliasRegistry;G.config.getConfig("aliasRegistry",K=>
{"private"===K.aliasRegistry&&delete O.aliasRegistry});O.getAllWinningBids=function(){return w.auctionManager.getAllWinningBids()};O.getAllPrebidWinningBids=function(){return w.auctionManager.getBidsReceived().filter(K=>K.status===ia.BID_STATUS.BID_TARGETING_SET)};O.getHighestCpmBids=function(K){return H.targeting.getWinningBids(K)};O.markWinningBidAsUsed=function(K){let ha=[];K.adUnitCode&&K.adId?ha=w.auctionManager.getBidsReceived().filter(la=>la.adId===K.adId&&la.adUnitCode===K.adUnitCode):K.adUnitCode?
ha=H.targeting.getWinningBids(K.adUnitCode):K.adId&&(ha=w.auctionManager.getBidsReceived().filter(la=>la.adId===K.adId));0<ha.length&&(ha[0].status=ia.BID_STATUS.RENDERED)};O.getConfig=G.config.getAnyConfig;O.readConfig=G.config.readAnyConfig;O.mergeConfig=G.config.mergeConfig;O.mergeBidderConfig=G.config.mergeBidderConfig;O.setConfig=G.config.setConfig;O.setBidderConfig=G.config.setBidderConfig;O.que.push(()=>(0,f.listenMessagesFromCreative)());O.cmd.push=function(K){if("function"===typeof K)try{K.call()}catch(ha){}};
O.que.push=O.cmd.push;O.processQueue=function(){c.hook.ready();E(O.que);E(O.cmd)}},"./src/prebidGlobal.js":(I,z,d)=>{function x(){return window.pbjs}d.d(z,{getGlobal:()=>x});window.pbjs=window.pbjs||{};window.pbjs.cmd=window.pbjs.cmd||[];window.pbjs.que=window.pbjs.que||[];window._pbjsGlobals=window._pbjsGlobals||[];window._pbjsGlobals.push("pbjs")},"./src/refererDetection.js":(I,z,d)=>{d.d(z,{getRefererInfo:()=>x});const x=function(y){return function(){const h=gnt.data.canonicalURL||null,v=y.location.href;
return{reachedTop:!0,numIframes:0,stack:[v],topmostLocation:v,location:v,canonicalUrl:h,page:h||v,domain:(new URL(h||v)).host,ref:document.referrer,legacy:{reachedTop:!0,isAmp:!1,numIframes:0,stack:[v],referer:v,canonicalUrl:h}}}}(window)},"./src/secureCreatives.js":(I,z,d)=>{function x(){window.addEventListener("message",h,!1)}function y(c){return null==c.origin&&0===c.ports.length?function(){throw Error("Cannot post message to a frame with null origin. Please update creatives to use MessageChannel, see https://github.com/prebid/Prebid.js/issues/7870");
}:0<c.ports.length?function(m){c.ports[0].postMessage(JSON.stringify(m))}:function(m){c.source.postMessage(JSON.stringify(m),c.origin)}}function h(c){var m=c.message?"message":"data",l={};try{l=JSON.parse(c[m])}catch(A){return}if(l&&l.adId&&l.message&&(m=(0,r.find)(E.auctionManager.getBidsReceived(),function(A){return A.adId===l.adId}),H.hasOwnProperty(l.message)))H[l.message](y(c),l,m)}function v(c){function m(W){const Z=(0,r.find)(window.googletag.pubads().getSlots(),ia=>(0,r.find)(ia.getTargetingKeys(),
ba=>(0,r.includes)(ia.getTargeting(ba),W)));return Z?Z.getSlotElementId():null}let {adId:l,adUnitCode:A,width:J,height:U}=c;["div","iframe"].forEach(W=>{W+=':not([style*="display: none"])';var Z=(0,p.isGptPubadsDefined)()?m(l):(0,p.isApnGetTagDefined)()?(Z=window.apntag.getTag(A))&&Z.targetId:A;if(W=(Z=document.getElementById(Z))&&Z.querySelector(W))W=W.style,W.width=J?J+"px":"100%",W.height=U+"px"})}d.d(z,{listenMessagesFromCreative:()=>x});var g=d("./src/events.js"),B=d("./src/native.js"),k=d("./src/constants.json"),
p=d("./src/utils.js"),t=d("./node_modules/dlv/index.js"),E=d("./src/auctionManager.js"),r=d("./src/polyfill.js"),n=d("./src/Renderer.js"),q=d("./src/config.js"),f=d("./src/adRendering.js");const D=k.EVENTS.BID_WON,G=k.EVENTS.STALE_RENDER,w=new WeakSet,H={"Prebid Request":function(c,m,l){if(null==l)(0,f.emitAdRenderFail)({reason:k.AD_RENDER_FAILED_REASON.CANNOT_FIND_AD,message:`Cannot find ad '${m.adId}' for cross-origin render request`,id:m.adId});else{if(l.status===k.BID_STATUS.RENDERED&&(g.emit(G,
l),(0,t["default"])(q.config.getConfig("auctionOptions"),"suppressStaleRender")))return;try{{const {adId:A,ad:J,adUrl:U,width:W,height:Z,renderer:ia,cpm:ba,originalCpm:T}=l;(0,n.isRendererRequired)(ia)?(0,n.executeRenderer)(ia,l):A&&(v(l),c({message:"Prebid Response",ad:(0,p.replaceAuctionPrice)(J,T||ba),adUrl:(0,p.replaceAuctionPrice)(U,T||ba),adId:A,width:W,height:Z}))}}catch(A){(0,f.emitAdRenderFail)({reason:k.AD_RENDER_FAILED_REASON.EXCEPTION,message:A.message,id:m.adId,bid:l});return}E.auctionManager.addWinningBid(l);
g.emit(D,l)}},"Prebid Event":function(c,m,l){if(null!=l&&l.status===k.BID_STATUS.RENDERED)switch(m.event){case k.EVENTS.AD_RENDER_FAILED:(0,f.emitAdRenderFail)({bid:l,id:m.adId,reason:m.info.reason,message:m.info.message});break;case k.EVENTS.AD_RENDER_SUCCEEDED:(0,f.emitAdRenderSucceeded)({doc:null,bid:l,id:m.adId})}}};Object.assign(H,{"Prebid Native":function(c,m,l){if(null!=l)switch(w.has(l)||(w.add(l),E.auctionManager.addWinningBid(l),g.emit(D,l)),m.action){case "assetRequest":c((0,B.getAssetMessage)(m,
l));break;case "allAssetRequest":c((0,B.getAllAssetsMessage)(m,l));break;case "resizeNativeHeight":l.height=m.height;l.width=m.width;v(l);break;default:(0,B.fireNativeTrackers)(m,l)}}})},"./src/sizeMapping.js":(I,z,d)=>{function x(E,r){return E.labelAll?{labelAll:!0,labels:E.labelAll,activeLabels:r}:{labelAll:!1,labels:E.labelAny,activeLabels:r}}function y(){let {labels:E=[],labelAll:r=!1,activeLabels:n=[]}=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},q=1<arguments.length?arguments[1]:
void 0;var f=2<arguments.length?arguments[2]:void 0;let D=h(3<arguments.length&&void 0!==arguments[3]?arguments[3]:t);(0,g.isPlainObject)(q)||(q=f?{banner:{sizes:f}}:{});f=(0,B["default"])(q,"banner.sizes");D.shouldFilter&&f&&(q=(0,g.deepClone)(q),q.banner.sizes=f.filter(w=>D.sizesSupported[w]));let G={active:!q.hasOwnProperty(p.BANNER)||0<(0,B["default"])(q,"banner.sizes.length")&&(0===E.length||!r&&(E.some(w=>D.labels[w])||E.some(w=>(0,k.includes)(n,w)))||r&&E.reduce((w,H)=>w?D.labels[H]||(0,k.includes)(n,
H):w,!0)),mediaTypes:q};f&&f.length!==q.banner.sizes.length&&(G.filterResults={before:f,after:q.banner.sizes});return G}function h(E){return E.reduce((r,n)=>{if("object"===typeof n&&"string"===typeof n.mediaQuery&&0<n.mediaQuery.length){let q=!1;try{q=window.top.matchMedia(n.mediaQuery).matches}catch(f){q=matchMedia(n.mediaQuery).matches}q&&(Array.isArray(n.sizesSupported)&&(r.shouldFilter=!0),["labels","sizesSupported"].forEach(f=>(n[f]||[]).forEach(D=>r[f][D]=!0)))}return r},{labels:{},sizesSupported:{},
shouldFilter:!1})}function v(E,r){return E.reduce((n,q)=>{let {active:f,mediaTypes:D}=y(x(q,r),q.mediaTypes,q.sizes);f&&(q.mediaTypes=D,q.bids=q.bids.reduce((G,w)=>{let {active:H,mediaTypes:c,filterResults:m}=y(x(w,r),q.mediaTypes);H&&(m&&(w.mediaTypes=c),G.push(w));return G},[]),n.push(q));return n},[])}d.d(z,{processAdUnitsForLabels:()=>v});I=d("./src/config.js");var g=d("./src/utils.js"),B=d("./node_modules/dlv/index.js"),k=d("./src/polyfill.js"),p=d("./src/mediaTypes.js");let t=[];I.config.getConfig("sizeConfig",
E=>{t=E.sizeConfig})},"./src/storageManager.js":(I,z,d)=>{function x(){function E(){if(null==f)return!0;const H=G.get(f,"storageAllowed");return null==H?!1:H}function r(H){if(E()){let c;t(n,f||q,{hasEnforcementHook:!1},function(m){m&&m.hasEnforcementHook?c=H(m):(m={hasEnforcementHook:!1,valid:(0,v.hasDeviceAccess)()},c=H(m))});return c}return H({valid:!1})}let {gvlid:n,moduleName:q,bidderCode:f,moduleType:D}=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{bidderSettings:G=g.bidderSettings}=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};k.includes(D)&&(n=n||B.VENDORLESS_GVLID);const w=function(H){let c=function(m){return m&&m.valid?("status"in w?m=w.status:(window.navigator.cookieEnabled||document.cookie.length?m=!0:(document.cookie="prebid.cookieTest",m=document.cookie.indexOf("prebid.cookieTest"),document.cookie="prebid.cookieTest;max-age=0",m=-1!==m),m=w.status=m),m):!1};if(H&&"function"===typeof H)p.push(function(){let m=r(c);H(m)});else return r(c)};return{setCookie:function(H,
c,m,l,A){let J=function(U){U&&U.valid&&g$.run.push(()=>{g$.cs({name:H,value:c,ma:86400*m,domain:l})})};if(A&&"function"===typeof A)p.push(function(){let U=r(J);A(U)});else return r(J)},cookiesAreEnabled:w,setDataInLocalStorage:function(H,c,m){let l=function(A){A&&A.valid&&gnt.storage&&g$.ls.setItem(H,c)};if(m&&"function"===typeof m)p.push(function(){let A=r(l);m(A)});else return r(l)},getDataFromLocalStorage:function(H,c){let m=function(l){return l&&l.valid&&gnt.storage?g$.ls.getItem(H):null};if(c&&
"function"===typeof c)p.push(function(){let l=r(m);c(l)});else return r(m)},removeDataFromLocalStorage:function(H,c){let m=function(l){l&&l.valid&&gnt.storage&&g$.ls.removeItem(H)};if(c&&"function"===typeof c)p.push(function(){let l=r(m);c(l)});else return r(m)}}}function y(E){return x({moduleName:E,moduleType:"core"})}function h(){let {gvlid:E,moduleName:r,bidderCode:n}=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(1<arguments.length||0<arguments.length&&!(0,v.isPlainObject)(arguments[0]))throw Error("Invalid invocation for getStorageManager");
return x({gvlid:E,moduleName:r,bidderCode:n})}d.d(z,{getCoreStorageManager:()=>y,getStorageManager:()=>h,storageCallbacks:()=>p});I=d("./src/hook.js");var v=d("./src/utils.js"),g=d("./src/bidderSettings.js"),B=d("./src/consentHandler.js");const k=["core","prebid-module"];let p=[];const t=(0,I.hook)("async",function(E,r,n,q){q(n)},"validateStorageEnforcement")},"./src/targeting.js":(I,z,d)=>{function x(w){return!Object.values(f).some(H=>!H(w))}function y(){let w=0<arguments.length&&void 0!==arguments[0]?
arguments[0]:!1;return function(H,c){return void 0!==H.adserverTargeting.hb_deal&&void 0===c.adserverTargeting.hb_deal?-1:void 0===H.adserverTargeting.hb_deal&&void 0!==c.adserverTargeting.hb_deal?1:w?c.cpm-H.cpm:c.adserverTargeting.hb_pb-H.adserverTargeting.hb_pb}}d.d(z,{isBidUsable:()=>x,targeting:()=>G});var h=d("./src/utils.js"),v=d("./node_modules/dlv/index.js"),g=d("./src/config.js"),B=d("./src/native.js");I=d("./src/auctionManager.js");var k=d("./src/mediaTypes.js");z=d("./src/hook.js");var p=
d("./src/bidderSettings.js"),t=d("./src/polyfill.js"),E=d("./src/constants.json"),r=[];let n=1;g.config.getConfig("ttlBuffer",w=>{"number"===typeof w.ttlBuffer&&(n=w.ttlBuffer)});const q=Object.keys(E.TARGETING_KEYS).map(w=>E.TARGETING_KEYS[w]);let f={isActualBid(w){return w.getStatusCode()===E.STATUS.GOOD},isBidNotExpired:w=>w.responseTimestamp+1E3*(w.ttl-(w.hasOwnProperty("ttlBuffer")?w.ttlBuffer:n))>(0,h.timestamp)(),isUnusedBid:w=>w&&(w.status&&!(0,t.includes)([E.BID_STATUS.RENDERED],w.status)||
!w.status)};const D=(0,z.hook)("sync",function(w,H){let c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(!(3<arguments.length&&void 0!==arguments[3]&&arguments[3])){const m=[],l=g.config.getConfig("sendBidsControl.dealPrioritization");let A=(0,h.groupBy)(w,"adUnitCode");Object.keys(A).forEach(J=>{let U=[],W=(0,h.groupBy)(A[J],"bidderCode");Object.keys(W).forEach(Z=>U.push(W[Z].reduce(H)));0<c?(U=l?U.sort(y(!0)):U.sort((Z,ia)=>ia.cpm-Z.cpm),m.push(...U.slice(0,c))):m.push(...U)});return m}return w}),
G=function(w){function H(X,aa){return X.adserverTargeting&&aa&&((0,h.isArray)(aa)&&(0,t.includes)(aa,X.adUnitCode)||"string"===typeof aa&&X.adUnitCode===aa)}function c(X,aa){if(!0===g.config.getConfig("targetingControls.alwaysIncludeDeals")){const da=q.concat(B.NATIVE_TARGETING_KEYS);return D(aa,h.getHighestCpm).map(ja=>{if(ja.dealId&&H(ja,X))return{[ja.adUnitCode]:ta(ja,da.filter(L=>"undefined"!==typeof ja.adserverTargeting[L]))}}).filter(ja=>ja)}return[]}function m(X,aa){const da=Object.assign({},
E.TARGETING_KEYS,E.NATIVE_KEYS),ja=Object.keys(da),L={};X.map(P=>{const R=Object.keys(P)[0],fa=P[R].filter(na=>{const Ea=Object.keys(na)[0];na=0===ja.filter(K=>0===Ea.indexOf(da[K])).length||(0,t.find)(aa,K=>0===Ea.indexOf(da[K]));L[Ea]=!na;return na});P[R]=fa});Object.keys(L).filter(P=>L[P]);return X.filter(P=>{const R=Object.keys(P)[0];return 0<P[R].length})}function l(X){return Object.keys(X).reduce(function(aa,da){da=`${da}%3d${encodeURIComponent(X[da])}%26`;return aa+da},"")}function A(X,aa){let da=
(0,h.deepClone)(X);return Object.keys(da).map(ja=>({adUnitCode:ja,adserverTargeting:da[ja]})).sort(y()).reduce(function(ja,L,P,R){var fa=l(L.adserverTargeting);P+1===R.length&&(fa=fa.slice(0,-3));L=L.adUnitCode;fa=fa.length;fa<=aa&&(aa-=fa,ja[L]=da[L]);P+1===R.length&&Object.keys(ja);return ja},{})}function J(X){return X.map(aa=>({[Object.keys(aa)[0]]:aa[Object.keys(aa)[0]].map(da=>({[Object.keys(da)[0]]:da[Object.keys(da)[0]].join(",")})).reduce((da,ja)=>Object.assign(ja,da),{})})).reduce(function(aa,
da){var ja=Object.keys(da)[0];aa[ja]=Object.assign({},aa[ja],da[ja]);return aa},{})}function U(X){return"string"===typeof X?[X]:(0,h.isArray)(X)?X:w.getAdUnitCodes()||[]}function W(){let X=w.getBidsReceived();if(g.config.getConfig("useBidCache")){const aa=g.config.getConfig("bidCacheFilterFunction");"function"===typeof aa&&(X=X.filter(da=>pa[da.adUnitCode]===da.auctionId||!!aa(da)))}else X=X.filter(aa=>pa[aa.adUnitCode]===aa.auctionId);X=X.filter(aa=>(0,v["default"])(aa,"video.context")!==k.ADPOD).filter(x);
return D(X,h.getOldestHighestCpmBid)}function Z(X,aa){X=V.getWinningBids(X,aa);let da=ia();return X=X.map(ja=>({[ja.adUnitCode]:Object.keys(ja.adserverTargeting).filter(L=>"undefined"===typeof ja.sendStandardTargeting||ja.sendStandardTargeting||-1===da.indexOf(L)).reduce((L,P)=>{const R=[ja.adserverTargeting[P]],fa={[P.substring(0,20)]:R};return P===E.TARGETING_KEYS.DEAL?(P={[`${P}_${ja.bidderCode}`.substring(0,20)]:R},[...L,fa,P]):[...L,fa]},[])}))}function ia(){return w.getStandardBidderAdServerTargeting().map(X=>
X.key).concat(q).filter(h.uniques)}function ba(X,aa,da,ja){function L(R){return function(fa){(0,h.isArray)(fa.adserverTargeting[R])||(fa.adserverTargeting[R]=[fa.adserverTargeting[R]]);fa.adserverTargeting[R]=fa.adserverTargeting[R].concat(aa.adserverTargeting[R]).filter(h.uniques);delete aa.adserverTargeting[R]}}function P(R){return function(fa){return fa.adUnitCode===aa.adUnitCode&&fa.adserverTargeting[R]}}Object.keys(aa.adserverTargeting).filter(T()).forEach(R=>{X.length&&X.filter(P(R)).forEach(L(R))});
X.push(aa);return X}function T(){let X=ia();X=X.concat(B.NATIVE_TARGETING_KEYS);return function(aa){return-1===X.indexOf(aa)}}function N(X){return{[X.adUnitCode]:Object.keys(X.adserverTargeting).filter(T()).map(aa=>({[aa.substring(0,20)]:[X.adserverTargeting[aa]]}))}}function O(X,aa){return aa.filter(da=>(0,t.includes)(X,da.adUnitCode)).map(da=>Object.assign({},da)).reduce(ba,[]).map(N).filter(da=>da)}function oa(X,aa){const da=q.concat(B.NATIVE_TARGETING_KEYS);var ja=g.config.getConfig("sendBidsControl.bidLimit");
aa=D(aa,h.getHighestCpm,ja);const L=(ja=g.config.getConfig("targetingControls.allowSendAllBidsTargetingKeys"))?ja.map(P=>E.TARGETING_KEYS[P]):da;return aa.map(P=>{if(H(P,X))return{[P.adUnitCode]:ta(P,da.filter(R=>"undefined"!==typeof P.adserverTargeting[R]&&-1!==L.indexOf(R)))}}).filter(P=>P)}function ta(X,aa){return aa.map(da=>({[`${da}_${X.bidderCode}`.substring(0,20)]:[X.adserverTargeting[da]]}))}function Da(X){function aa(da){const ja=(0,v["default"])(da,E.JSON_MAPPING.ADSERVER_TARGETING);return Object.keys(ja).map(function(L){(0,h.isStr)(ja[L])&&
(ja[L]=ja[L].split(",").map(P=>P.trim()));(0,h.isArray)(ja[L])||(ja[L]=[ja[L]]);return{[L]:ja[L]}})}return w.getAdUnits().filter(da=>(0,t.includes)(X,da.code)&&(0,v["default"])(da,E.JSON_MAPPING.ADSERVER_TARGETING)).map(da=>({[da.code]:aa(da)}))}let V={},pa={};V.setLatestAuctionForAdUnit=function(X,aa){pa[X]=aa};V.resetPresetTargeting=function(X,aa){if((0,h.isGptPubadsDefined)()){const da=U(X),ja=w.getAdUnits().filter(P=>(0,t.includes)(da,P.code));let L=r.reduce((P,R)=>{P[R]=null;return P},{});window.googletag.pubads().getSlots().forEach(P=>
{let R=(0,h.isFn)(aa)&&aa(P);ja.forEach(fa=>{(fa.code===P.getAdUnitPath()||fa.code===P.getSlotElementId()||(0,h.isFn)(R)&&R(fa.code))&&P.updateTargetingFromMap(L)})})}};V.resetPresetTargetingAST=function(X){U(X).forEach(function(aa){const da=window.apntag.getTag(aa);if(da&&da.keywords){const ja={};Object.keys(da.keywords).forEach(L=>{(0,t.includes)(r,L.toLowerCase())||(ja[L]=da.keywords[L])});window.apntag.modifyTag(aa,{keywords:ja})}})};V.getAllTargeting=function(X){var aa=1<arguments.length&&void 0!==
arguments[1]?arguments[1]:W();const da=U(X);var ja=Z(da,aa).concat(O(da,aa)).concat(g.config.getConfig("enableSendAllBids")?oa(da,aa):c(da,aa)).concat(Da(da));ja.map(R=>{Object.keys(R).map(fa=>{R[fa].map(na=>{-1===r.indexOf(Object.keys(na)[0])&&(r=Object.keys(na).concat(r))})})});aa=Object.keys(Object.assign({},E.DEFAULT_TARGETING_KEYS,E.NATIVE_KEYS));let L=g.config.getConfig("targetingControls.allowTargetingKeys");const P=g.config.getConfig("targetingControls.addTargetingKeys");if(null!=P&&null!=
L)throw Error('Only one of "targetingControls.allowTargetingKeys" or "targetingControls.addTargetingKeys" can be set');L=null!=P?aa.concat(P):L||aa;Array.isArray(L)&&0<L.length&&(ja=m(ja,L));ja=J(ja);(aa=g.config.getConfig("targetingControls.auctionKeyMaxChars"))&&(ja=A(ja,aa));da.forEach(R=>{ja[R]||(ja[R]={})});return ja};g.config.getConfig("targetingControls",function(X){null!=(0,v["default"])(X,"targetingControls.allowTargetingKeys")&&(0,v["default"])(X,"targetingControls.addTargetingKeys")});
V.setTargetingForGPT=function(X,aa){window.googletag.pubads().getSlots().forEach(da=>{Object.keys(X).filter(aa?aa(da):(0,h.isAdUnitCodeMatchingSlot)(da)).forEach(ja=>{Object.keys(X[ja]).forEach(L=>{let P=X[ja][L];"string"===typeof P&&-1!==P.indexOf(",")&&(P=P.split(","));X[ja][L]=P});da.updateTargetingFromMap(X[ja])})})};V.getWinningBids=function(X){let aa=1<arguments.length&&void 0!==arguments[1]?arguments[1]:W();const da=U(X);return aa.filter(ja=>(0,t.includes)(da,ja.adUnitCode)).filter(ja=>!0===
p.bidderSettings.get(ja.bidderCode,"allowZeroCpmBids")?0<=ja.cpm:0<ja.cpm).map(ja=>ja.adUnitCode).filter(h.uniques).map(ja=>aa.filter(L=>L.adUnitCode===ja?L:null).reduce(h.getHighestCpm))};V.setTargetingForAst=function(X){let aa=V.getAllTargeting(X);try{V.resetPresetTargetingAST(X)}catch(da){}Object.keys(aa).forEach(da=>Object.keys(aa[da]).forEach(ja=>{if((0,h.isStr)(aa[da][ja])||(0,h.isArray)(aa[da][ja])){let L={};0>ja.search(/pt[0-9]/)?L[ja.toUpperCase()]=aa[da][ja]:L[ja]=aa[da][ja];window.apntag.setKeywords(da,
L,{overrideKeyValue:!0})}}))};V.isApntagDefined=function(){if(window.apntag&&(0,h.isFn)(window.apntag.setKeywords))return!0};return V}(I.auctionManager)},"./src/userSync.js":(I,z,d)=>{d.d(z,{userSync:()=>g});var x=d("./src/utils.js"),y=d("./src/config.js"),h=d("./src/polyfill.js");I=d("./src/storageManager.js");y.config.setDefaults({userSync:(0,x.deepClone)({syncEnabled:!0,filterSettings:{image:{bidders:"*",filter:"include"}},syncsPerBidder:5,syncDelay:3E3,auctionDelay:0})});const v=(0,I.getCoreStorageManager)("usersync"),
g=function(B){function k(){if(c.syncEnabled&&B.browserSupportsCookies){try{E(),t()}catch(m){return}D={image:[],iframe:[]}}}function p(m,l){(0,x.shuffle)(m).forEach(A=>{l(A);G.add(A[0])})}function t(){H.image&&p(D.image,m=>{[,m]=m;(0,x.triggerPixel)(m)})}function E(){H.iframe&&p(D.iframe,m=>{let [l,A]=m;(0,x.insertUserSyncIframe)(A);r(D,l)})}function r(m,l){m.image=m.image.filter(A=>A[0]!==l)}function n(m,l){let A=c.filterSettings;return q(A,m)?(H[m]=!0,m=A.all?A.all:A[m],{include:(J,U)=>!(0,h.includes)(J,
U),exclude:(J,U)=>(0,h.includes)(J,U)}[m.filter||"include"]("*"===m.bidders?[l]:m.bidders,l)):!H[m]}function q(m,l){if(m.all&&m[l])return!1;l=m.all?m.all:m[l];if(!l)return!1;m=l.filter;l=l.bidders;return m&&"include"!==m&&"exclude"!==m||"*"!==l&&!(Array.isArray(l)&&0<l.length&&l.every(A=>(0,x.isStr)(A)&&"*"!==A))?!1:!0}let f={},D={image:[],iframe:[]},G=new Set,w={},H={image:!0,iframe:!1},c=B.config;y.config.getConfig("userSync",m=>{if(m.userSync){let l=m.userSync.filterSettings;!(0,x.isPlainObject)(l)||
l.image||l.all||(m.userSync.filterSettings.image={bidders:"*",filter:"include"})}c=Object.assign(c,m.userSync)});f.registerSync=(m,l,A)=>{!G.has(l)&&c.syncEnabled&&(0,x.isArray)(D[m])&&l&&!(0!==c.syncsPerBidder&&Number(w[l])>=c.syncsPerBidder)&&f.canBidderRegisterSync(m,l)&&(D[m].push([l,A]),m=w,m[l]=m[l]?m[l]+1:1,w=m)};f.syncUsers=function(){let m=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;if(m)return setTimeout(k,Number(m));k()};f.triggerUserSyncs=()=>{c.enableOverride&&f.syncUsers()};
f.canBidderRegisterSync=(m,l)=>c.filterSettings&&n(m,l)?!1:!0;return f}(Object.defineProperties({config:y.config.getConfig("userSync")},{browserSupportsCookies:{get:function(){return!(0,x.isSafariBrowser)()&&v.cookiesAreEnabled()}}}))},"./src/utils.js":(I,z,d)=>{function x(){return Xa}function y(){return jb()+Math.random().toString(16).substr(2)}function h(C){if(C){var M=window&&window.crypto&&window.crypto.getRandomValues?crypto.getRandomValues(new Uint8Array(1))[0]%16:16*Math.random();C=(C^M>>C/
4).toString(16)}else C=window.crypto&&crypto.randomUUID?crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,h);return C}function v(C,M){return M&&M[C]?M[C]:""}function g(C){let M="";for(var ka in C)C.hasOwnProperty(ka)&&(M+=ka+"="+encodeURIComponent(C[ka])+"&");return M=M.replace(/&$/,"")}function B(C){return C&&0<Object.getOwnPropertyNames(C).length?Object.keys(C).map(M=>`${M}=${encodeURIComponent(C[M])}`).join("&"):""}function k(C){var M=[];if("string"===typeof C){C=C.split(",");
var ka=/^(\d)+x(\d)+$/i;if(C)for(var wa in C)C.hasOwnProperty(wa)&&C[wa].match(ka)&&M.push(C[wa])}else if("object"===typeof C&&(wa=C.length,0<wa))if(2===wa&&"number"===typeof C[0]&&"number"===typeof C[1])M.push(p(C));else for(ka=0;ka<wa;ka++)M.push(p(C[ka]));return M}function p(C){if(D(C)&&2===C.length&&!isNaN(C[0])&&!isNaN(C[1]))return C[0]+"x"+C[1]}function t(C){return{}}function E(){var C=document.createElement("iframe");C.id=y();C.height=0;C.width=0;C.border="0px";C.hspace="0";C.vspace="0";C.marginWidth=
"0";C.marginHeight="0";C.style.border="0";C.scrolling="no";C.frameBorder="0";C.src="about:blank";C.style.display="none";return C}function r(C){return ma(window.location.search)[C]||""}function n(C,M){return mb.call(C)==="[object "+M+"]"}function q(C){return n(C,qb)}function f(C){return n(C,fb)}function D(C){return n(C,bb)}function G(C){return n(C,ib)}function w(C){return n(C,db)}function H(C){return n(C,ob)}function c(C){if(!C)return!0;if(D(C)||f(C))return!(0<C.length);for(var M in C)if(hasOwnProperty.call(C,
M))return!1;return!0}function m(C,M){if(!c(C)){if(q(C.forEach))return C.forEach(M,this);var ka=0,wa=C.length;if(0<wa)for(;ka<wa;ka++)M(C[ka],ka,C);else for(ka in C)hasOwnProperty.call(C,ka)&&M.call(this,C[ka],ka)}}function l(C,M){if(c(C))return!1;if(q(C.indexOf))return-1!==C.indexOf(M);for(var ka=C.length;ka--;)if(C[ka]===M)return!0;return!1}function A(C,M){if(c(C))return[];if(q(C.map))return C.map(M);var ka=[];m(C,function(wa,La){ka.push(M(wa,La,C))});return ka}function J(C,M,ka,wa){M=M||document;
ka=ka?M.getElementsByTagName(ka):M.getElementsByTagName("head");try{if(ka=ka.length?ka:M.getElementsByTagName("body"),ka.length)return ka=ka[0],ka.insertBefore(C,wa?null:ka.firstChild)}catch(La){}}function U(C,M){let ka=null;return new ab.GreedyPromise(wa=>{const La=function(){C.removeEventListener("load",La);C.removeEventListener("error",La);null!=ka&&window.clearTimeout(ka);wa()};C.addEventListener("load",La);C.addEventListener("error",La);null!=M&&(ka=window.setTimeout(La,M))})}function W(C,M,
ka){const wa=new Image;M&&eb.isFn(M)&&U(wa,ka).then(M);wa.src=C}function Z(C){let {source:M,burl:ka}=C;M===Za.S2S.SRC&&ka&&eb.triggerPixel(ka)}function ia(C){if(C){var M=document.createElement("iframe");M.id=y();M.width=0;M.height=0;M.hspace="0";M.vspace="0";M.marginWidth="0";M.marginHeight="0";M.style.display="none";M.style.height="0px";M.style.width="0px";M.scrolling="no";M.frameBorder="0";M.allowtransparency="true";eb.insertElement(M,document,"body");M.contentWindow.document.open();M.contentWindow.document.write(C);
M.contentWindow.document.close()}}function ba(C,M,ka){C=eb.createTrackPixelIframeHtml(C,!1,"allow-scripts allow-same-origin");let wa=document.createElement("div");wa.innerHTML=C;C=wa.firstChild;M&&eb.isFn(M)&&U(C,ka).then(M);eb.insertElement(C,document,"html",!0)}function T(C){return C?'<div style="position:absolute;left:0px;top:0px;visibility:hidden;"><img src="'+(encodeURI(C)+'"></div>'):""}function N(C,M,ka){if(void 0===M||null===M)return ka;if(f(M))return M;if(G(M))return M.toString()}function O(C,
M,ka){return ka.indexOf(C)===M}function oa(C,M){return C.concat(M)}function ta(C,M){if(C){var ka;M.some(wa=>{(wa=(0,Ja.find)(wa.bids,La=>["bidId","adId","bid_id"].some(cb=>La[cb]===C)))&&(ka=wa);return wa});return ka}}function Da(C,M){for(let ka in C)if(C.hasOwnProperty(ka)&&C[ka]===M)return ka}function V(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:pbjs.adUnits).map(C=>C.bids.map(M=>M.bidder).reduce(oa,[])).reduce(oa,[]).filter(O)}function pa(){if(window.googletag&&q(window.googletag.pubads)&&
q(window.googletag.pubads().getSlots))return!0}function X(){if(window.apntag&&q(window.apntag.getTag))return!0}function aa(C,M){return(ka,wa)=>ka.cpm===wa.cpm?M(ka[C],wa[C])?wa:ka:ka.cpm<wa.cpm?wa:ka}function da(C){let M=C.length;for(;0<M;){let ka=Math.floor(Math.random()*M);M--;let wa=C[M];C[M]=C[ka];C[ka]=wa}return C}function ja(C,M){return(0,Ja.includes)(C,M&&M.adUnitCode)}function L(C){if("object"!==typeof C||null===C)return C;const M=Array.isArray(C)?[]:{};let ka;for(ka in C)M[ka]=L(C[ka]);return M}
function P(){try{return window.self!==window.top}catch(C){return!0}}function R(){return/^((?!chrome|android|crios|fxios).)*safari/i.test(navigator.userAgent)}function fa(C,M){if(C)return C.replace(/\$\{AUCTION_PRICE\}/g,M)}function na(C,M){if(C&&M&&"string"===typeof M)return C.replace(/\${CLICKTHROUGH}/g,M)}function Ea(){return Date.now()}function K(){return window.performance&&window.performance.now&&window.performance.now()||0}function ha(){return!1!==Ta.config.getConfig("deviceAccess")}function la(C,
M){if(1>M)throw Error(`numRequiredCalls must be a positive number. Got ${M}`);let ka=0;return function(){ka++;ka===M&&C.apply(this,arguments)}}function xa(C,M){return C.reduce(function(ka,wa){(ka[wa[M]]=ka[wa[M]]||[]).push(wa);return ka},{})}function Y(C,M){return M.filter(ka=>C[ka]).reduce((ka,wa)=>Object.assign(ka,{[wa]:C[wa]}),{})}function ea(C){const M=["banner","native","video"],ka=["instream","outstream","adpod"];return Object.keys(C).every(wa=>(0,Ja.includes)(M,wa))?C.video&&C.video.context?
(0,Ja.includes)(ka,C.video.context):!0:!1}function ya(C,M,ka){return C.filter(wa=>wa.code===M).map(wa=>wa.bids).reduce(oa,[]).filter(wa=>wa.bidder===ka).map(wa=>wa.params||{})}function Aa(C){return M=>C.getAdUnitPath()===M||C.getSlotElementId()===M}function Ga(C){return C.replace(/(?:^|\.?)([A-Z])/g,function(M,ka){return"_"+ka.toLowerCase()}).replace(/^_/,"")}function Ma(C,M){return"object"!==typeof C?{}:M.reduce((ka,wa,La)=>{if("function"===typeof wa)return ka;let cb=wa,kb=wa.match(/^(.+?)\sas\s(.+?)$/i);
kb&&(wa=kb[1],cb=kb[2]);wa=C[wa];"function"===typeof M[La+1]&&(wa=M[La+1](wa,ka));"undefined"!==typeof wa&&(ka[cb]=wa);return ka},{})}function Qa(C){let M=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"keywords",ka=[];m(C,(wa,La)=>{if(D(wa)){let cb=[];m(wa,kb=>{((kb=N(M+"."+La,kb))||""===kb)&&cb.push(kb)});wa=cb}else if(wa=N(M+"."+La,wa),f(wa))wa=[wa];else return;ka.push({key:La,value:wa})});return ka}function Va(C,M){Object.keys(C).forEach(ka=>{if(M[ka]){if(q(C[ka]))M[ka]=C[ka](M[ka]);else{var wa=
C[ka];var La=M[ka];wa="string"===wa?La&&La.toString():"number"===wa?Number(La):La;M[ka]=wa}isNaN(M[ka])&&delete M.key}});return M}function Ua(C,M){return D(C)&&(M?C.length===M:!0)&&C.every(ka=>Number.isInteger(ka))}function Ka(C){return function(M,ka){return M[C]<ka[C]?1:M[C]>ka[C]?-1:0}}function ma(C){return C?C.replace(/^\?/,"").split("&").reduce((M,ka)=>{let [wa,La]=ka.split("=");/\[\]$/.test(wa)?(wa=wa.replace("[]",""),M[wa]=M[wa]||[],M[wa].push(La)):M[wa]=La||"";return M},{}):{}}function ua(C){return Object.keys(C).map(M=>
Array.isArray(C[M])?C[M].map(ka=>`${M}[]=${ka}`).join("&"):`${M}=${C[M]}`).join("&")}function ra(C,M){C=null!==M&&void 0!==M&&M.ensureProtocol&&!/^\w+:\/\//.test(C)?C.replace(/^(\/\/)?/,window.location.protocol+"//"):C;C=new URL(null!==M&&void 0!==M&&M.noDecodeWholeURL?C:decodeURIComponent(C),window.location.origin);return{href:C.href,origin:C.origin,protocol:(C.protocol||"").replace(/:$/,""),hostname:C.hostname,port:+C.port,pathname:C.pathname.replace(/^(?!\/)/,"/"),search:null!==M&&void 0!==M&&
M.decodeSearchAsString?C.search:eb.parseQS(C.search||""),hash:(C.hash||"").replace(/^#/,""),host:null!==M&&void 0!==M&&M.noLeadingWww&&C.host.startsWith("www.")?C.host.substring(4):C.host}}function Ba(C){return(C.protocol||"http")+"://"+(C.host||C.hostname+(C.port?`:${C.port}`:""))+(C.pathname||"")+(C.search?`?${eb.formatQS(C.search||"")}`:"")+(C.hash?`#${C.hash}`:"")}function Ca(C,M){let {checkTypes:ka=!1}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(C===M)return!0;if("object"!==
typeof C||null===C||"object"!==typeof M||null===M||ka&&C.constructor!==M.constructor||Object.keys(C).length!==Object.keys(M).length)return!1;for(let wa in C)if(M.hasOwnProperty(wa)){if(!Ca(C[wa],M[wa],{checkTypes:ka}))return!1}else return!1;return!0}function Ia(C){for(var M=arguments.length,ka=Array(1<M?M-1:0),wa=1;wa<M;wa++)ka[wa-1]=arguments[wa];if(!ka.length)return C;M=ka.shift();if(w(C)&&w(M))for(const La in M)w(M[La])?(C[La]||Object.assign(C,{[La]:{}}),Ia(C[La],M[La])):D(M[La])?C[La]?D(C[La])&&
M[La].forEach(cb=>{let kb=1;for(let xb=0;xb<C[La].length;xb++)if(Ca(C[La][xb],cb)){kb=0;break}kb&&C[La].push(cb)}):Object.assign(C,{[La]:[...M[La]]}):Object.assign(C,{[La]:M[La]});return Ia(C,...ka)}function Na(C){var M=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;const ka=Math.imul;let wa=3735928559^M;M^=1103547991;for(let La=0,cb;La<C.length;La++)cb=C.charCodeAt(La),wa=ka(wa^cb,2654435761),M=ka(M^cb,1597334677);wa=ka(wa^wa>>>16,2246822507)^ka(M^M>>>13,3266489909);M=ka(M^M>>>16,2246822507)^
ka(wa^wa>>>13,3266489909);return(4294967296*(2097151&M)+(wa>>>0)).toString()}function Pa(C){let M=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(La){return La};const ka=new Map,wa=function(){const La=M.apply(this,arguments);ka.has(La)||ka.set(La,C.apply(this,arguments));return ka.get(La)};wa.clear=ka.clear.bind(ka);return wa}function Ra(C,M){for(let ka in M)M.hasOwnProperty(ka)&&C.setAttribute(ka,M[ka])}d.d(z,{_each:()=>m,_map:()=>A,adUnitsFilter:()=>ja,bind:()=>sb,buildUrl:()=>Ba,
callBurl:()=>Z,compareOn:()=>Ka,contains:()=>l,convertCamelToUnderscore:()=>Ga,convertTypes:()=>Va,createInvisibleIframe:()=>E,createTrackPixelHtml:()=>T,cyrb53Hash:()=>Na,deepClone:()=>L,delayExecution:()=>la,flatten:()=>oa,formatQS:()=>ua,generateUUID:()=>h,getBidIdParameter:()=>v,getBidRequest:()=>ta,getBidderCodes:()=>V,getDefinedParams:()=>Y,getHighestCpm:()=>lb,getKeyByValue:()=>Da,getOldestHighestCpmBid:()=>ub,getParameterByName:()=>r,getPerformanceNow:()=>K,getPrebidInternal:()=>x,getUniqueIdentifierStr:()=>
y,getUserConfiguredParams:()=>ya,groupBy:()=>xa,hasDeviceAccess:()=>ha,inIframe:()=>P,insertElement:()=>J,insertHtmlIntoIframe:()=>ia,insertUserSyncIframe:()=>ba,isAdUnitCodeMatchingSlot:()=>Aa,isApnGetTagDefined:()=>X,isArray:()=>D,isArrayOfNums:()=>Ua,isBoolean:()=>H,isEmpty:()=>c,isFn:()=>q,isGptPubadsDefined:()=>pa,isNumber:()=>G,isPlainObject:()=>w,isSafariBrowser:()=>R,isStr:()=>f,isValidMediaTypes:()=>ea,memoize:()=>Pa,mergeDeep:()=>Ia,parseQueryStringParameters:()=>g,parseSizesInput:()=>k,
parseUrl:()=>ra,pick:()=>Ma,prefixLog:()=>t,replaceAuctionPrice:()=>fa,replaceClickThrough:()=>na,setScriptAttributes:()=>Ra,shuffle:()=>da,timestamp:()=>Ea,transformAdServerTargetingObj:()=>B,transformBidderParamKeywords:()=>Qa,triggerPixel:()=>W,uniques:()=>O});var Ta=d("./src/config.js"),Ja=d("./src/polyfill.js"),Za=d("./src/constants.json"),ab=d("./src/utils/promise.js"),bb="Array",fb="String",qb="Function",ib="Number",db="Object",ob="Boolean",mb=Object.prototype.toString;const eb={createTrackPixelIframeHtml:function(C){let M=
2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";if(!C)return"";if(1<arguments.length&&void 0!==arguments[1]?arguments[1]:1)C=encodeURI(C);M&&(M=`sandbox="${M}"`);return`<iframe ${M} id="${y()}"
      frameborder="0"
      allowtransparency="true"
      marginheight="0" marginwidth="0"
      width="0" hspace="0" vspace="0" height="0"
      style="height:0px;width:0px;display:none;"
      scrolling="no"
      src="${C}">
    </iframe>`},insertUserSyncIframe:ba,insertElement:J,isFn:q,triggerPixel:W,parseQS:ma,formatQS:ua,deepEqual:Ca};let Xa={},sb=Function.prototype.bind;var jb=function(){var C=0;return function(){C++;return C}}();const lb=aa("timeToRespond",(C,M)=>C>M),ub=aa("responseTimestamp",(C,M)=>C>M);(()=>{const C={"<":"\\u003C",">":"\\u003E","/":"\\u002F","\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x00":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};return function(M){return M.replace(/[<>\b\f\n\r\t\0\u2028\u2029\\]/g,
ka=>C[ka])}})()},"./src/utils/cpm.js":(I,z,d)=>{function x(v,g,B){var k;let {index:p=y.auctionManager.index,bs:t=h.bidderSettings}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};B=B||p.getBidRequest(g);const E=t.get((null===g||void 0===g?void 0:g.bidderCode)||(null===(k=B)||void 0===k?void 0:k.bidder),"bidCpmAdjustment");if(E&&"function"===typeof E)try{return E(v,Object.assign({},g),B)}catch(r){}return v}d.d(z,{adjustCpm:()=>x});var y=d("./src/auctionManager.js"),h=d("./src/bidderSettings.js");
d("./src/utils.js")},"./src/utils/perfMetrics.js":(I,z,d)=>{function x(){let {now:q=k,mkNode:f=v,mkTimer:D=h,mkRenamer:G=H=>H,nodes:w=p}=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return function(){function H(c){function m(Z,ia){const ba=J(Z);c.dfWalk({follow(T,N){return N.propagate&&(!T||!T.stopPropagation)},visit(T,N){ba.forEach(O=>{null==T?N.metrics[O]=ia:(N.groups.hasOwnProperty(O)||(N.groups[O]=[]),N.groups[O].push(ia))})}})}function l(Z){return D(q,ia=>m(Z,ia))}function A(){let Z=
{};c.dfWalk({visit(ia,ba){Z=Object.assign({},!ia||ia.includeGroups?ba.groups:null,ba.metrics,Z)}});return Z}let J=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Z=>({forEach(ia){ia(Z)}});J=G(J);const U=function(Z){return function(ia){return c.dfWalk({visit(ba,T){ba=T[Z];if(ba.hasOwnProperty(ia))return ba[ia]}})}}("timestamps"),W={startTiming:l,measureTime:function(Z,ia){return l(Z).stopAfter(ia)()},measureHookTime:function(Z,ia,ba){Z=l(Z);{const T=Z.stopBefore(ia);T.bail=ia.bail&&Z.stopBefore(ia.bail);
T.stopTiming=Z;T.untimed=ia;ia=T}return ba(ia)},checkpoint:function(Z){c.timestamps[Z]=q()},timeSince:function(Z,ia){Z=U(Z);Z=null!=Z?q()-Z:null;null!=ia&&m(ia,Z);return Z},timeBetween:function(Z,ia,ba){Z=U(Z);ia=U(ia);ia=null!=Z&&null!=ia?ia-Z:null;null!=ba&&m(ba,ia);return ia},setMetric:m,getMetrics:A,fork:function(){let {propagate:Z=!0,stopPropagation:ia=!1,includeGroups:ba=!1}=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return H(f([[c,{propagate:Z,stopPropagation:ia,includeGroups:ba}]]),
J)},join:function(Z){let {propagate:ia=!0,stopPropagation:ba=!1,includeGroups:T=!1}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};const N=w.get(Z);null!=N&&N.addParent(c,{propagate:ia,stopPropagation:ba,includeGroups:T})},newMetrics:function(){return H(c.newSibling(),J)},renameWith:function(Z){return H(c,Z)},toJSON(){return A()}};w.set(W,c);return W}return H(f([]))}}function y(q,f,D){return function(){f&&f();try{return q.apply(this,arguments)}finally{D&&D()}}}function h(q,f){function D(){w||
(f(q()-G),w=!0)}const G=q();let w=!1;D.stopBefore=H=>y(H,D);D.stopAfter=H=>y(H,null,D);return D}function v(q){return{metrics:{},timestamps:{},groups:{},addParent(f,D){q.push([f,D])},newSibling(){return v(q.slice())},dfWalk(){let {visit:f,follow:D=()=>!0,visited:G=new Set,inEdge:w}=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},H;if(!G.has(this)){G.add(this);H=f(w,this);if(null!=H)return H;for(const [c,m]of q)if(D(w,m)&&(H=c.dfWalk({visit:f,follow:D,visited:G,inEdge:m}),null!=H))return H}}}}
function g(q){return E&&q||t}function B(q,f){return function(D,G){return function(w){for(var H=arguments.length,c=Array(1<H?H-1:0),m=1;m<H;m++)c[m-1]=arguments[m];const l=this;return g(f.apply(l,c)).measureHookTime(q+D,w,function(A){return G.call(l,A,...c)})}}}d.d(z,{newMetrics:()=>r,timedAuctionHook:()=>n,useMetrics:()=>g});I=d("./src/config.js");const k=window.performance&&window.performance.now?()=>window.performance.now():()=>Date.now(),p=new WeakMap,t=(()=>{const q=function(){},f=()=>({}),D=
{forEach:q},G=()=>null;G.stopBefore=H=>H;G.stopAfter=H=>H;const w=Object.defineProperties({dfWalk:q,newSibling:()=>w,addParent:q},Object.fromEntries(["metrics","timestamps","groups"].map(H=>[H,{get:f}])));return x({now:()=>0,mkNode:()=>w,mkRenamer:()=>()=>D,mkTimer:()=>G,nodes:{get:q,set:q}})()})();let E=!0;I.config.getConfig("performanceMetrics",q=>{E=!!q.performanceMetrics});const r=(()=>{const q=x();return function(){return E?q():t}})(),n=B("requestBids.",q=>q.metrics);B("addBidResponse.",(q,f)=>
f.metrics)},"./src/utils/promise.js":(I,z,d)=>{function x(t,E,r){if(E.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object");E.set(t,r)}function y(){function t(q){return f=>q(f)}let {promiseFactory:E=q=>new p(q)}=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r,n;return{promise:E((q,f)=>{r=q;n=f}),resolve:t(r),reject:t(n)}}d.d(z,{GreedyPromise:()=>p,defer:()=>y});var h=d("./node_modules/@babel/runtime/helpers/esm/classPrivateFieldGet.js"),v=d("./node_modules/@babel/runtime/helpers/esm/classPrivateFieldSet.js");
I=(0,d("./src/prebidGlobal.js").getGlobal)().Promise||Promise;var g=new WeakMap,B=new WeakMap,k=new WeakMap;class p extends I{static timeout(){let t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return new p(E=>{0===t?E():setTimeout(E,t)})}constructor(t){function E(q,f){return function(D){if(!r.length){for(r.push(q,D);n.length;)n.shift()();f(D)}}}const r=[],n=[];super("function"!==typeof t?t:(q,f)=>{const D=E(1,f);f=(()=>{const G=E(0,q);return w=>"function"===typeof(null===w||void 0===
w?void 0:w.then)?w.then(G,D):G(w)})();try{t(f,D)}catch(G){D(G)}});x(this,g,{writable:!0,value:void 0});x(this,B,{writable:!0,value:void 0});x(this,k,{writable:!0,value:null});(0,v["default"])(this,g,r);(0,v["default"])(this,B,n)}then(t,E){if("function"===typeof E)for(var r=this;r;){super.then.call(r,null,()=>null);const q=(0,h["default"])(r,k);(0,v["default"])(r,k,null);r=q}const n=(0,h["default"])(this,g);r=new p((q,f)=>{const D=()=>{let G=n[1],[w,H]=0===n[0]?[t,q]:[E,f];if("function"===typeof w){try{G=
w(G)}catch(c){f(c);return}H=q}H(G)};n.length?D():(0,h["default"])(this,B).push(D)});(0,v["default"])(r,k,this);return r}static resolve(t){return new this(E=>E(t))}static reject(t){return new this((E,r)=>r(t))}}},"./src/video.js":(I,z,d)=>{function x(B){var {index:k=v.auctionManager.index}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};const p=(0,y["default"])(k.getMediaTypes(B),"video"),t=p&&(0,y["default"])(p,"context"),E=p&&(0,y["default"])(p,"useCacheKey");k=k.getAdUnit(B);return g(B,
k,p,t,E)}d.d(z,{OUTSTREAM:()=>"outstream",checkVideoBidSetup:()=>g,isValidVideoBid:()=>x});d("./src/adapterManager.js");var y=d("./node_modules/dlv/index.js");d("./src/utils.js");var h=d("./src/config.js");d("./src/polyfill.js");I=d("./src/hook.js");var v=d("./src/auctionManager.js");const g=(0,I.hook)("sync",function(B,k,p,t,E){return p&&(E||"outstream"!==t)?h.config.getConfig("cache.url")||!B.vastXml||B.vastUrl?!(!B.vastUrl&&!B.vastXml):!1:"outstream"!==t||E?!0:!!(B.renderer||k&&k.renderer||p.renderer)},
"checkVideoBidSetup")},"./src/videoCache.js":(I,z,d)=>{function x(p){var {index:t=k.auctionManager.index}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(p.vastXml)var E=p.vastXml;else E=p.vastImpUrl,E=`<VAST version="3.0">
    <Ad>
      <Wrapper>
        <AdSystem>prebid.org wrapper</AdSystem>
        <VASTAdTagURI><![CDATA[${p.vastUrl}]]></VASTAdTagURI>
        <Impression>${E?`<![CDATA[${E}]]>`:""}</Impression>
        <Creatives></Creatives>
      </Wrapper>
    </Ad>
  </VAST>`;t=t.getAuction(p);E={type:"xml",value:E,ttlseconds:Number(p.ttl)+15};B.config.getConfig("cache.vasttrack")&&(E.bidder=p.bidder,E.bidid=p.requestId,E.aid=p.auctionId);null!=t&&(E.timestamp=t.getAuctionStart());"string"===typeof p.customCacheKey&&""!==p.customCacheKey&&(E.key=p.customCacheKey);return E}function y(p){return{success:function(t){let E;try{E=JSON.parse(t).responses}catch(r){p(r,[]);return}E?p(null,E):p(Error("The cache server didn't respond with a responses property."),[])},
error:function(t,E){p(Error(`Error storing video ad in the cache: ${t}: ${JSON.stringify(E)}`),[])}}}function h(p,t){p={puts:p.map(x)};(0,g.ajax)(B.config.getConfig("cache.url"),y(t),JSON.stringify(p),{contentType:"text/plain",withCredentials:!0})}function v(p){return`${B.config.getConfig("cache.url")}?uuid=${p}`}d.d(z,{getCacheUrl:()=>v,store:()=>h});var g=d("./src/ajax.js"),B=d("./src/config.js"),k=d("./src/auctionManager.js")},"./node_modules/dlv/index.js":(I,z,d)=>{function x(y,h,v,g,B){h=h.split?
h.split("."):h;for(g=0;g<h.length;g++)y=y?y[h[g]]:B;return y===B?v:y}d.d(z,{"default":()=>x})},"./node_modules/fun-hooks/no-eval/index.js":I=>{function z(g){function B(f,D){if("function"===typeof f)return E.call(null,"sync",f,D);if("string"===typeof f&&"function"===typeof D)return E.apply(null,arguments);if("object"===typeof f)return k.apply(null,arguments)}function k(f,D,G){var w=!0;"undefined"===typeof D&&(D=Object.getOwnPropertyNames(f),w=!1);var H={},c=["constructor"];do D=D.filter(function(m){return"function"===
typeof f[m]&&-1===c.indexOf(m)&&!m.match(/^_/)}),D.forEach(function(m){var l=m.split(":");m=l[0];l=l[1]||"sync";H[m]||(H[m]=f[m]=E(l,f[m],G?[G,m]:void 0))}),f=Object.getPrototypeOf(f);while(w&&f);return H}function p(f){var D=Array.isArray(f)?f:f.split(".");return h.call(D,function(G,w,H){var c=G[w],m=!1;return c?c:H===D.length-1?(q||n.push(function(){m||console.warn(d+": referenced '"+f+"' but it was never created")}),G[w]=t(function(l){G[w]=l;m=!0})):G[w]={}},r)}function t(f){function D(m,l,A,J){var U=
{hook:A,type:l,priority:J||10,remove:function(){var W=m.indexOf(U);-1!==W&&(m.splice(W,1),H(G,w))}};m.push(U);m.sort(function(W,Z){return Z.priority-W.priority});H(G,w);return this}var G=[],w=[],H=function(){},c={before:function(m,l){return D.call(this,G,"before",m,l)},after:function(m,l){return D.call(this,w,"after",m,l)},getHooks:function(m){var l=G.concat(w);"object"===typeof m&&(l=l.filter(function(A){return Object.keys(m).every(function(J){return A[J]===m[J]})}));try{v(l,{remove:function(){l.forEach(function(A){A.remove()});
return this}})}catch(A){console.error("error adding `remove` to array, did you modify Array.prototype?")}return l},removeAll:function(){return this.getHooks().remove()}};y.set(c.after,{install:function(m,l,A){this.type=m;H=A;A(G,w);f&&f(l)}});return c}function E(f,D,G){function w(){l.apply=!q&&("sync"!==f||g.ready&z.SYNC)&&("async"!==f||g.ready&z.ASYNC)?"sync"!==f&&g.ready&z.QUEUE?function(){var J=arguments;n.push(function(){A.apply(J[1],J[2])})}:function(){throw d+": hooked function not ready";}:
m}var H=D.after&&y.get(D.after);if(H){if(H.type!==f)throw d+": recreated hookable with different type";return D}var c=G?p(G):t(),m,l={get:function(J,U){return c[U]||Reflect.get.apply(Reflect,arguments)}};q||n.push(w);if(g.useProxy&&"function"===typeof Proxy&&Proxy.revocable)var A=new Proxy(D,l);else A=function(){return l.apply?l.apply(D,this,Array.prototype.slice.call(arguments,void 0)):D.apply(this,arguments)},v(A,c);y.get(A.after).install(f,A,function(J,U){function W(ba){Z.push(ba.hook)}var Z=[];
if(J.length||U.length){J.forEach(W);var ia=Z.push(void 0)-1;U.forEach(W);m=function(ba,T,N){function O(pa){"sync"===f?Da=pa:V&&V.apply(null,arguments)}function oa(pa){if(Z[ta]){var X=Array.prototype.slice.call(arguments,void 0);oa.bail=O;X.unshift(oa);return Z[ta++].apply(T,X)}"sync"===f?Da=pa:V&&V.apply(null,arguments)}var ta=0,Da,V="async"===f&&"function"===typeof N[N.length-1]&&N.pop();Z[ia]=function(){var pa=Array.prototype.slice.call(arguments,1);"async"===f&&V&&(delete oa.bail,pa.push(oa));
pa=ba.apply(T,pa);"sync"===f&&oa(pa)};oa.apply(null,N);return Da}}else m=void 0;w()});return A}var r={},n=[];g=v({},x,g);var q;g.ready?B.ready=function(){q=!0;for(var f=n,D;D=f.shift();)D()}:q=!0;B.get=p;return B}z.SYNC=1;z.ASYNC=2;z.QUEUE=4;var d="fun-hooks",x=Object.freeze({useProxy:!0,ready:0}),y=new WeakMap,h="2,1,0"===[1].reduce(function(g,B,k){return[g,B,k]},2).toString()?Array.prototype.reduce:function(g,B){var k=Object(this),p=k.length>>>0,t=0;if(!B){for(;t<p&&!(t in k);)t++;B=k[t++]}for(;t<
p;)t in k&&(B=g(B,k[t],t,k)),t++;return B},v=Object.assign||function(g){return h.call(Array.prototype.slice.call(arguments,1),function(B,k){k&&Object.keys(k).forEach(function(p){B[p]=k[p]});return B},g)};I.exports=z},"./node_modules/@babel/runtime/helpers/esm/classApplyDescriptorGet.js":(I,z,d)=>{function x(y,h){return h.get?h.get.call(y):h.value}d.d(z,{"default":()=>x})},"./node_modules/@babel/runtime/helpers/esm/classApplyDescriptorSet.js":(I,z,d)=>{function x(y,h,v){if(h.set)h.set.call(y,v);else{if(!h.writable)throw new TypeError("attempted to set read only private field");
h.value=v}}d.d(z,{"default":()=>x})},"./node_modules/@babel/runtime/helpers/esm/classExtractFieldDescriptor.js":(I,z,d)=>{function x(y,h,v){if(!h.has(y))throw new TypeError("attempted to "+v+" private field on non-instance");return h.get(y)}d.d(z,{"default":()=>x})},"./node_modules/@babel/runtime/helpers/esm/classPrivateFieldGet.js":(I,z,d)=>{function x(v,g){g=(0,h["default"])(v,g,"get");return(0,y["default"])(v,g)}d.d(z,{"default":()=>x});var y=d("./node_modules/@babel/runtime/helpers/esm/classApplyDescriptorGet.js"),
h=d("./node_modules/@babel/runtime/helpers/esm/classExtractFieldDescriptor.js")},"./node_modules/@babel/runtime/helpers/esm/classPrivateFieldSet.js":(I,z,d)=>{function x(v,g,B){g=(0,h["default"])(v,g,"set");(0,y["default"])(v,g,B);return B}d.d(z,{"default":()=>x});var y=d("./node_modules/@babel/runtime/helpers/esm/classApplyDescriptorSet.js"),h=d("./node_modules/@babel/runtime/helpers/esm/classExtractFieldDescriptor.js")},"./node_modules/@babel/runtime/helpers/esm/defineProperty.js":(I,z,d)=>{function x(h,
v,g){v=(0,y["default"])(v);v in h?Object.defineProperty(h,v,{value:g,enumerable:!0,configurable:!0,writable:!0}):h[v]=g;return h}d.d(z,{"default":()=>x});var y=d("./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js")},"./node_modules/@babel/runtime/helpers/esm/toPrimitive.js":(I,z,d)=>{function x(h,v){if("object"!==(0,y["default"])(h)||null===h)return h;var g=h[Symbol.toPrimitive];if(void 0!==g){h=g.call(h,v||"default");if("object"!==(0,y["default"])(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.");
}return("string"===v?String:Number)(h)}d.d(z,{"default":()=>x});var y=d("./node_modules/@babel/runtime/helpers/esm/typeof.js")},"./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js":(I,z,d)=>{function x(v){v=(0,h["default"])(v,"string");return"symbol"===(0,y["default"])(v)?v:String(v)}d.d(z,{"default":()=>x});var y=d("./node_modules/@babel/runtime/helpers/esm/typeof.js"),h=d("./node_modules/@babel/runtime/helpers/esm/toPrimitive.js")},"./node_modules/@babel/runtime/helpers/esm/typeof.js":(I,
z,d)=>{function x(y){"@babel/helpers - typeof";return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},x(y)}d.d(z,{"default":()=>x})},"./node_modules/dset/dist/index.mjs":(I,z,d)=>{function x(y,h,v){h.split&&(h=h.split("."));for(var g=0,B=h.length,k,p;g<B;){p=h[g++];if("__proto__"===p||"constructor"===p||"prototype"===p)break;y=y[p]=g===B?v:typeof(k=
y[p])===typeof h?k:0!==0*h[g]||~(""+h[g]).indexOf(".")?{}:[]}}d.d(z,{dset:()=>x})},"./src/constants.json":I=>{I.exports=JSON.parse('{"JSON_MAPPING":{"ADSERVER_TARGETING":"adserverTargeting","BD_SETTING_STANDARD":"standard"},"DEBUG_MODE":"pbjs_debug","STATUS":{"GOOD":1,"NO_BID":2},"EVENTS":{"AUCTION_INIT":"auctionInit","AUCTION_END":"auctionEnd","BID_ADJUSTMENT":"bidAdjustment","BID_TIMEOUT":"bidTimeout","BID_REQUESTED":"bidRequested","BID_RESPONSE":"bidResponse","BID_REJECTED":"bidRejected","NO_BID":"noBid","BID_WON":"bidWon","BIDDER_DONE":"bidderDone","BIDDER_ERROR":"bidderError","SET_TARGETING":"setTargeting","BEFORE_REQUEST_BIDS":"beforeRequestBids","BEFORE_BIDDER_HTTP":"beforeBidderHttp","REQUEST_BIDS":"requestBids","ADD_AD_UNITS":"addAdUnits","AD_RENDER_FAILED":"adRenderFailed","AD_RENDER_SUCCEEDED":"adRenderSucceeded","TCF2_ENFORCEMENT":"tcf2Enforcement","AUCTION_DEBUG":"auctionDebug","BID_VIEWABLE":"bidViewable","STALE_RENDER":"staleRender","BILLABLE_EVENT":"billableEvent"},"AD_RENDER_FAILED_REASON":{"PREVENT_WRITING_ON_MAIN_DOCUMENT":"preventWritingOnMainDocument","NO_AD":"noAd","EXCEPTION":"exception","CANNOT_FIND_AD":"cannotFindAd","MISSING_DOC_OR_ADID":"missingDocOrAdid"},"EVENT_ID_PATHS":{"bidWon":"adUnitCode"},"GRANULARITY_OPTIONS":{"LOW":"low","MEDIUM":"medium","HIGH":"high","AUTO":"auto","DENSE":"dense","CUSTOM":"custom"},"TARGETING_KEYS":{"BIDDER":"hb_bidder","AD_ID":"hb_adid","PRICE_BUCKET":"hb_pb","SIZE":"hb_size","DEAL":"hb_deal","SOURCE":"hb_source","FORMAT":"hb_format","UUID":"hb_uuid","CACHE_ID":"hb_cache_id","CACHE_HOST":"hb_cache_host","ADOMAIN":"hb_adomain","ACAT":"hb_acat"},"DEFAULT_TARGETING_KEYS":{"BIDDER":"hb_bidder","AD_ID":"hb_adid","PRICE_BUCKET":"hb_pb","SIZE":"hb_size","DEAL":"hb_deal","FORMAT":"hb_format","UUID":"hb_uuid","CACHE_HOST":"hb_cache_host"},"NATIVE_KEYS":{"title":"hb_native_title","body":"hb_native_body","body2":"hb_native_body2","privacyLink":"hb_native_privacy","privacyIcon":"hb_native_privicon","sponsoredBy":"hb_native_brand","image":"hb_native_image","icon":"hb_native_icon","clickUrl":"hb_native_linkurl","displayUrl":"hb_native_displayurl","cta":"hb_native_cta","rating":"hb_native_rating","address":"hb_native_address","downloads":"hb_native_downloads","likes":"hb_native_likes","phone":"hb_native_phone","price":"hb_native_price","salePrice":"hb_native_saleprice","rendererUrl":"hb_renderer_url","adTemplate":"hb_adTemplate"},"S2S":{"SRC":"s2s"},"BID_STATUS":{"BID_TARGETING_SET":"targetingSet","RENDERED":"rendered","BID_REJECTED":"bidRejected"},"REJECTION_REASON":{"INVALID":"Bid has missing or invalid properties","INVALID_REQUEST_ID":"Invalid request ID","BIDDER_DISALLOWED":"Bidder code is not allowed by allowedAlternateBidderCodes / allowUnknownBidderCodes"},"PREBID_NATIVE_DATA_KEYS_TO_ORTB":{"body":"desc","body2":"desc2","sponsoredBy":"sponsored","cta":"ctatext","rating":"rating","address":"address","downloads":"downloads","likes":"likes","phone":"phone","price":"price","salePrice":"saleprice","displayUrl":"displayurl"},"NATIVE_ASSET_TYPES":{"sponsored":1,"desc":2,"rating":3,"likes":4,"downloads":5,"price":6,"saleprice":7,"phone":8,"address":9,"desc2":10,"displayurl":11,"ctatext":12},"NATIVE_IMAGE_TYPES":{"ICON":1,"MAIN":3},"NATIVE_KEYS_THAT_ARE_NOT_ASSETS":["privacyLink","clickUrl","sendTargetingKeys","adTemplate","rendererUrl","type"]}')}},
F={};ca.m=sa;(()=>{var I=[];ca.O=(z,d,x,y)=>{if(d){y=y||0;for(var h=I.length;0<h&&I[h-1][2]>y;h--)I[h]=I[h-1];I[h]=[d,x,y]}else{var v=Infinity;for(h=0;h<I.length;h++){d=I[h][0];x=I[h][1];y=I[h][2];for(var g=!0,B=0;B<d.length;B++)(y&0||v>=y)&&Object.keys(ca.O).every(k=>ca.O[k](d[B]))?d.splice(B--,1):(g=!1,y<v&&(v=y));g&&(I.splice(h--,1),x=x(),void 0!==x&&(z=x))}return z}}})();(()=>{ca.n=I=>{var z=I&&I.__esModule?()=>I["default"]:()=>I;ca.d(z,{a:z});return z}})();(()=>{ca.d=(I,z)=>{for(var d in z)ca.o(z,
d)&&!ca.o(I,d)&&Object.defineProperty(I,d,{enumerable:!0,get:z[d]})}})();(()=>{ca.o=(I,z)=>Object.prototype.hasOwnProperty.call(I,z)})();(()=>{ca.r=I=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(I,Symbol.toStringTag,{value:"Module"});Object.defineProperty(I,"__esModule",{value:!0})}})();(()=>{var I={"prebid-core":0};ca.O.j=x=>0===I[x];var z=(x,y)=>{var h=y[0],v=y[1],g=y[2],B,k=0;if(h.some(t=>0!==I[t])){for(B in v)ca.o(v,B)&&(ca.m[B]=v[B]);if(g)var p=g(ca)}for(x&&x(y);k<
h.length;k++){x=h[k];if(ca.o(I,x)&&I[x])I[x][0]();I[x]=0}return ca.O(p)},d=self.pbjsChunk=self.pbjsChunk||[];d.forEach(z.bind(null,0));d.push=z.bind(null,d.push.bind(d))})();var qa=ca("./src/prebid.js");qa=ca.O(qa)})();"use strict";(self.pbjsChunk=self.pbjsChunk||[]).push([["ortbConverter"],{"./libraries/ortbConverter/converter.js":(ca,sa,F)=>{function qa(){function h(G,w,H,c){let m;return function(){null==m&&(m=function(){let l=H.bind(this,(0,I.compose)(g()[G]||{},B[G]||{}));w&&(l=w.bind(this,l));
return function(){try{return l.apply(this,arguments)}catch(A){c.call(this,A,...arguments)}}}());return m.apply(this,arguments)}}let {context:v={},processors:g=y,overrides:B={},imp:k,request:p,bidResponse:t,response:E}=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};const r=new WeakMap,n=h(d.IMP,k,function(G,w,H){const c={};G(c,w,H);return c},function(G,w,H){}),q=h(d.REQUEST,p,function(G,w,H,c){w={imp:w};G(w,H,c);return w},function(G,w,H,c){throw G;}),f=h(d.BID_RESPONSE,t,function(G,w,H){const c=
{};G(c,w,H);return c},function(G,w,H){}),D=h(d.RESPONSE,E,function(G,w,H,c){w={bids:w};G(w,H,c);return w},function(G,w,H,c){throw G;});return{toORTB(G){let {bidderRequest:w,bidRequests:H,context:c={}}=G;H=H||w.bids;const m={req:Object.assign({bidRequests:H},v,c),imp:{}};G=H.map(l=>{const A=Object.assign({bidderRequest:w,reqContext:m.req},v,c),J=n(l,A);if(null!=J&&J.hasOwnProperty("id"))return A.bidRequest=l,m.imp[J.id]=A,J}).filter(Boolean);G=q(G,w,m.req);m.req.bidderRequest=w;null!=G&&r.set(G,m);
return G},fromORTB(G){function w(A){return Object.assign({ortbRequest:H},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},A)}let {request:H,response:c}=G;const m=r.get(H);if(null==m)throw Error("ortbRequest passed to `fromORTB` must be the same object returned by `toORTB`");const l=Object.fromEntries((H.imp||[]).map(A=>[A.id,A]));G=(c.seatbid||[]).flatMap(A=>(A.bid||[]).map(J=>{if(l.hasOwnProperty(J.impid)&&m.imp.hasOwnProperty(J.impid))return f(J,w(m.imp[J.impid],{imp:l[J.impid],seatbid:A,
ortbResponse:c}))})).filter(Boolean);return D(G,c,w(m.req))}}}F.d(sa,{defaultProcessors:()=>y,ortbConverter:()=>qa});var I=F("./libraries/ortbConverter/lib/composer.js");ca=F("./src/utils.js");var z=F("./libraries/ortbConverter/processors/default.js"),d=F("./src/pbjsORTB.js"),x=F("./libraries/ortbConverter/lib/mergeProcessors.js");const y=(0,ca.memoize)(()=>(0,x.mergeProcessors)(z.DEFAULT_PROCESSORS,(0,d.getProcessors)(d.DEFAULT)))},"./libraries/ortbConverter/lib/composer.js":(ca,sa,F)=>{function qa(z){let d=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!I.has(z)){const y=Object.entries(z);y.sort((h,v)=>{h=h[1].priority||0;v=v[1].priority||0;return h===v?0:h>v?-1:1});I.set(z,y.map(h=>{let [v,g]=h;return[v,g.fn]}))}const x=I.get(z).filter(y=>{[y]=y;return!d.hasOwnProperty(y)||d[y]}).map(function(y){let [h,v]=y;return d.hasOwnProperty(h)?d[h].bind(this,v):v});return function(){const y=Array.from(arguments);x.forEach(h=>{h.apply(this,y)})}}F.d(sa,{compose:()=>qa});const I=new WeakMap},"./libraries/ortbConverter/lib/mergeProcessors.js":(ca,
sa,F)=>{function qa(){for(var z=arguments.length,d=Array(z),x=0;x<z;x++)d[x]=arguments[x];const y=d.shift(),h=1<d.length?qa(...d):d[0];return Object.fromEntries(I.PROCESSOR_TYPES.map(v=>[v,Object.assign({},y[v],h[v])]))}F.d(sa,{mergeProcessors:()=>qa});var I=F("./src/pbjsORTB.js")},"./libraries/ortbConverter/lib/sizes.js":(ca,sa,F)=>{function qa(z){z=(0,I.parseSizesInput)(z);return z.map(d=>{const [x,y]=d.split("x");return{w:parseInt(x,10),h:parseInt(y,10)}})}F.d(sa,{sizesToFormat:()=>qa});var I=
F("./src/utils.js")},"./libraries/ortbConverter/processors/banner.js":(ca,sa,F)=>{function qa(h,v,g){if(!g.mediaType||g.mediaType===x.BANNER)if(v=(0,z["default"])(v,"mediaTypes.banner"))g={topframe:!0===(0,d.inIframe)()?0:1},v.sizes&&(g.format=(0,y.sizesToFormat)(v.sizes)),v.hasOwnProperty("pos")&&(g.pos=v.pos),h.banner=(0,d.mergeDeep)(g,h.banner)}function I(){let {createPixel:h=v=>(0,d.createTrackPixelHtml)(decodeURIComponent(v))}=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return function(v,
g){v.mediaType===x.BANNER&&(g.adm&&g.nurl?(v.ad=g.adm,v.ad+=h(g.nurl)):g.adm?v.ad=g.adm:g.nurl&&(v.adUrl=g.nurl))}}F.d(sa,{bannerResponseProcessor:()=>I,fillBannerImp:()=>qa});var z=F("./node_modules/dlv/index.js"),d=F("./src/utils.js"),x=F("./src/mediaTypes.js"),y=F("./libraries/ortbConverter/lib/sizes.js")},"./libraries/ortbConverter/processors/default.js":(ca,sa,F)=>{function qa(g){return{priority:90,fn(B){const k=h.config.getConfig(g);"object"===typeof k&&(B[g]=(0,I.mergeDeep)({},B[g],k))}}}F.d(sa,
{DEFAULT_PROCESSORS:()=>v});var I=F("./src/utils.js"),z=F("./node_modules/dset/dist/index.mjs");ca=F("./libraries/ortbConverter/processors/banner.js");sa=F("./libraries/ortbConverter/processors/video.js");var d=F("./libraries/ortbConverter/processors/mediaType.js"),x=F("./libraries/ortbConverter/processors/native.js"),y=F("./src/pbjsORTB.js"),h=F("./src/config.js");const v={[y.REQUEST]:{fpd:{priority:99,fn(g,B){(0,I.mergeDeep)(g,B.ortb2)}},appFpd:qa("app"),siteFpd:qa("site"),deviceFpd:qa("device"),
onlyOneClient:{priority:-99,fn:function(g){["dooh","app","site"].reduce((B,k)=>{null!=g[k]&&0<Object.keys(g[k]).length&&(null!=B?delete g[k]:B=k);return B},null)}},props:{fn(g,B){var k;Object.assign(g,{id:g.id||B.auctionId,test:g.test||0});const p=parseInt(B.timeout,10);isNaN(p)||(g.tmax=p);(0,z.dset)(g,"source.tid",(null===(k=g.source)||void 0===k?void 0:k.tid)||B.auctionId)}}},[y.IMP]:{fpd:{priority:99,fn(g,B){(0,I.mergeDeep)(g,B.ortb2Imp)}},id:{fn(g,B){g.id=B.bidId}},banner:{fn:ca.fillBannerImp},
video:{fn:sa.fillVideoImp},pbadslot:{fn(g){var B,k;const p=null===(B=g.ext)||void 0===B?void 0:null===(k=B.data)||void 0===k?void 0:k.pbadslot;if(!p||"string"!==typeof p){var t,E;null===(t=g.ext)||void 0===t?!0:null===(E=t.data)||void 0===E?!0:delete E.pbadslot}}}},[y.BID_RESPONSE]:{mediaType:{priority:99,fn:d.setResponseMediaType},banner:{fn:(0,ca.bannerResponseProcessor)()},video:{fn:sa.fillVideoResponse},props:{fn(g,B,k){var p;Object.entries({requestId:null===(p=k.bidRequest)||void 0===p?void 0:
p.bidId,seatBidId:B.id,cpm:B.price,currency:k.ortbResponse.cur||k.currency,width:B.w,height:B.h,dealId:B.dealid,creative_id:B.crid,creativeId:B.crid,burl:B.burl,ttl:B.exp||k.ttl,netRevenue:k.netRevenue}).filter(t=>{[,t]=t;return"undefined"!==typeof t}).forEach(t=>{let [E,r]=t;return g[E]=r});g.meta||(g.meta={});B.adomain&&(g.meta.advertiserDomains=B.adomain)}}}};v[y.IMP].native={fn:x.fillNativeImp};v[y.BID_RESPONSE].native={fn:x.fillNativeResponse}},"./libraries/ortbConverter/processors/mediaType.js":(ca,
sa,F)=>{function qa(z,d,x){if(!z.mediaType){x=x.mediaType;if(!x&&!I.hasOwnProperty(d.mtype))throw Error("Cannot determine mediaType for response");z.mediaType=x||I[d.mtype]}}F.d(sa,{ORTB_MTYPES:()=>I,setResponseMediaType:()=>qa});ca=F("./src/mediaTypes.js");const I={1:ca.BANNER,2:ca.VIDEO,4:ca.NATIVE}},"./libraries/ortbConverter/processors/native.js":(ca,sa,F)=>{function qa(x,y,h){if(!h.mediaType||h.mediaType===d.NATIVE)if(y=y.nativeOrtbRequest){var v;y=Object.assign({},h.nativeRequest,y);null!==
(v=y.assets)&&void 0!==v&&v.length&&(x.native=(0,z.mergeDeep)({},{request:JSON.stringify(y),ver:y.ver},x.native))}}function I(x,y){if(x.mediaType===d.NATIVE)if(y="string"===typeof y.adm?JSON.parse(y.adm):y.adm,(0,z.isPlainObject)(y)&&Array.isArray(y.assets))x.native={ortb:y};else throw Error("ORTB native response contained no assets");}F.d(sa,{fillNativeImp:()=>qa,fillNativeResponse:()=>I});var z=F("./src/utils.js"),d=F("./src/mediaTypes.js")},"./libraries/ortbConverter/processors/video.js":(ca,sa,
F)=>{function qa(g,B,k){if(!k.mediaType||k.mediaType===x.VIDEO)if(k=(0,z["default"])(B,"mediaTypes.video"),!(0,d.isEmpty)(k)){B=Object.fromEntries(Object.entries(k).filter(p=>{[p]=p;return h.has(p)}));if(k.playerSize){const p=(0,y.sizesToFormat)(k.playerSize);Object.assign(B,p[0])}k=v[k.context];null!=k&&(B.placement=k);g.video=(0,d.mergeDeep)(B,g.video)}}function I(g,B,k){g.mediaType===x.VIDEO&&((0,z["default"])(k.imp,"video.w")&&(0,z["default"])(k.imp,"video.h")&&([g.playerWidth,g.playerHeight]=
[k.imp.video.w,k.imp.video.h]),B.adm&&(g.vastXml=B.adm),B.nurl&&(g.vastUrl=B.nurl))}F.d(sa,{fillVideoImp:()=>qa,fillVideoResponse:()=>I});var z=F("./node_modules/dlv/index.js"),d=F("./src/utils.js"),x=F("./src/mediaTypes.js"),y=F("./libraries/ortbConverter/lib/sizes.js");const h=new Set("pos placement api mimes protocols playbackmethod minduration maxduration w h startdelay placement linearity skip skipmin skipafter minbitrate maxbitrate delivery playbackend".split(" ")),v={instream:1}}}]);"use strict";
(self.pbjsChunk=self.pbjsChunk||[]).push([["pbsExtensions"],{"./libraries/pbsExtensions/pbsExtensions.js":(ca,sa,F)=>{F.d(sa,{pbsExtensions:()=>x});var qa=F("./libraries/ortbConverter/lib/mergeProcessors.js"),I=F("./libraries/pbsExtensions/processors/pbs.js"),z=F("./src/pbjsORTB.js"),d=F("./libraries/ortbConverter/converter.js");const x=(0,F("./src/utils.js").memoize)(()=>(0,qa.mergeProcessors)((0,d.defaultProcessors)(),I.PBS_PROCESSORS,(0,z.getProcessors)(z.PBS)))},"./libraries/pbsExtensions/processors/adUnitCode.js":(ca,
sa,F)=>{function qa(z,d){(d=d.adUnitCode)&&(0,I.dset)(z,"ext.prebid.adunitcode",d)}F.d(sa,{setImpAdUnitCode:()=>qa});var I=F("./node_modules/dset/dist/index.mjs")},"./libraries/pbsExtensions/processors/aliases.js":(ca,sa,F)=>{function qa(d,x,y){let {am:h=I["default"]}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};if(h.aliasRegistry[x.bidderCode]){const v=h.bidderRegistry[x.bidderCode];v&&v.getSpec().skipPbsAliasing||(0,z.dset)(d,`ext.prebid.aliases.${x.bidderCode}`,h.aliasRegistry[x.bidderCode])}}
F.d(sa,{setRequestExtPrebidAliases:()=>qa});var I=F("./src/adapterManager.js"),z=F("./node_modules/dset/dist/index.mjs")},"./libraries/pbsExtensions/processors/mediaType.js":(ca,sa,F)=>{function qa(x,y,h){h=h.mediaType;if(!h){var v,g;h=z.ORTB_MTYPES.hasOwnProperty(y.mtype)?z.ORTB_MTYPES[y.mtype]:null===(v=y.ext)||void 0===v?void 0:null===(g=v.prebid)||void 0===g?void 0:g.type;d.hasOwnProperty(h)||(h=I.BANNER)}x.mediaType=h}F.d(sa,{SUPPORTED_MEDIA_TYPES:()=>d,extPrebidMediaType:()=>qa});var I=F("./src/mediaTypes.js"),
z=F("./libraries/ortbConverter/processors/mediaType.js");const d={[I.BANNER]:"banner",[I.NATIVE]:"native",[I.VIDEO]:"video"}},"./libraries/pbsExtensions/processors/params.js":(ca,sa,F)=>{function qa(x,y,h){let {adUnit:v,bidderRequests:g,index:B=I.auctionManager.index,bidderRegistry:k=z["default"].bidderRegistry}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},p=y.params;const t=k[y.bidder];t&&t.getSpec().transformBidParams&&(v=v||B.getAdUnit(y),g=g||[h.bidderRequest],p=t.getSpec().transformBidParams(p,
!0,v,g));p&&(0,d.dset)(x,`ext.prebid.bidder.${y.bidder}`,p)}F.d(sa,{setImpBidParams:()=>qa});var I=F("./src/auctionManager.js"),z=F("./src/adapterManager.js"),d=F("./node_modules/dset/dist/index.mjs")},"./libraries/pbsExtensions/processors/pbs.js":(ca,sa,F)=>{F.d(sa,{PBS_PROCESSORS:()=>h});ca=F("./src/pbjsORTB.js");var qa=F("./node_modules/dlv/index.js"),I=F("./src/utils.js");sa=F("./libraries/pbsExtensions/processors/mediaType.js");var z=F("./libraries/pbsExtensions/processors/aliases.js"),d=F("./libraries/pbsExtensions/processors/params.js"),
x=F("./libraries/pbsExtensions/processors/adUnitCode.js"),y=F("./libraries/pbsExtensions/processors/requestExtPrebid.js");F=F("./libraries/pbsExtensions/processors/video.js");const h={[ca.REQUEST]:{extPrebid:{fn:y.setRequestExtPrebid},extPrebidChannel:{fn:y.setRequestExtPrebidChannel},extPrebidAliases:{fn:z.setRequestExtPrebidAliases}},[ca.IMP]:{params:{fn:d.setImpBidParams},adUnitCode:{fn:x.setImpAdUnitCode}},[ca.BID_RESPONSE]:{mediaType:{fn:sa.extPrebidMediaType,priority:99},videoCache:{fn:F.setBidResponseVideoCache,
priority:-10},bidderCode:{fn(v,g,B){var k;v.bidderCode=B.seatbid.seat;v.adapterCode=(0,qa["default"])(g,"ext.prebid.meta.adaptercode")||(null===(k=B.bidRequest)||void 0===k?void 0:k.bidder)||v.bidderCode}},pbsBidId:{fn(v,g){g=(0,qa["default"])(g,"ext.prebid.bidid");(0,I.isStr)(g)&&(v.pbsBidId=g)}},adserverTargeting:{fn(v,g){g=(0,qa["default"])(g,"ext.prebid.targeting");(0,I.isPlainObject)(g)&&(v.adserverTargeting=g)}},extPrebidMeta:{fn(v,g){v.meta=(0,I.mergeDeep)({},(0,qa["default"])(g,"ext.prebid.meta"),
v.meta)}},pbsWurl:{fn(v,g){g=(0,qa["default"])(g,"ext.prebid.events.win");(0,I.isStr)(g)&&(v.pbsWurl=g)}}},[ca.RESPONSE]:{serverSideStats:{fn(v,g,B){Object.entries({errors:"serverErrors",responsetimemillis:"serverResponseTimeMs"}).forEach(k=>{let [p,t]=k;const E=(0,qa["default"])(g,`ext.${p}.${B.bidderRequest.bidderCode}`);E&&(B.bidderRequest[t]=E,B.bidRequests.forEach(r=>r[t]=E))})}}}}},"./libraries/pbsExtensions/processors/requestExtPrebid.js":(ca,sa,F)=>{function qa(h,v){var g;(0,z.dset)(h,"ext.prebid",
(0,d.mergeDeep)({auctiontimestamp:v.auctionStart,targeting:{includewinners:!0,includebidderkeys:!1}},null===(g=h.ext)||void 0===g?void 0:g.prebid));x.config.getConfig("debug")&&(h.ext.prebid.debug=!0)}function I(h){var v,g;(0,z.dset)(h,"ext.prebid.channel",Object.assign({name:"pbjs",version:(0,y.getGlobal)().version},null===(v=h.ext)||void 0===v?void 0:null===(g=v.prebid)||void 0===g?void 0:g.channel))}F.d(sa,{setRequestExtPrebid:()=>qa,setRequestExtPrebidChannel:()=>I});var z=F("./node_modules/dset/dist/index.mjs"),
d=F("./src/utils.js"),x=F("./src/config.js"),y=F("./src/prebidGlobal.js")},"./libraries/pbsExtensions/processors/video.js":(ca,sa,F)=>{function qa(d,x){if(d.mediaType===I.VIDEO){let {cacheId:y,url:h}=(0,z["default"])(x,"ext.prebid.cache.vastXml")||{};if(!y||!h){const {hb_uuid:v,hb_cache_host:g,hb_cache_path:B}=(0,z["default"])(x,"ext.prebid.targeting")||{};v&&g&&B&&(y=v,h=`https://${g}${B}?uuid=${v}`)}y&&h&&Object.assign(d,{videoCacheKey:y,vastUrl:h})}}F.d(sa,{setBidResponseVideoCache:()=>qa});var I=
F("./src/mediaTypes.js"),z=F("./node_modules/dlv/index.js")}}]);"use strict";(self.pbjsChunk=self.pbjsChunk||[]).push([["adpod"],{"./modules/adpod.js":(ca,sa,F)=>{function qa(l){let A,J=1;return function(U,W,Z,ia){const ba=this;var T=function(){d.call(ba,U,W,Z)};clearTimeout(A);ia?J=1:J===H?(J=1,T()):(J++,A=setTimeout(T,l))}}function I(l,A){let J=c.getInitialCacheKey(l);var U=(0,p["default"])(l,"video.durationBucket");if(n.config.getConfig("adpod.prioritizeDeals")&&(0,p["default"])(l,"video.dealTier"))var W=
(W=n.config.getConfig(`adpod.dealTier.${l.bidderCode}.prefix`))?W+(0,p["default"])(l,"video.dealTier"):(0,p["default"])(l,"video.dealTier");else W=(0,t.getPriceGranularity)(l),W=(0,t.getPriceByGranularity)(W)(l);A?(A=(0,p["default"])(l,"meta.adServerCatId"),U=`${W}_${A}_${U}s`):U=`${W}_${U}s`;l.adserverTargeting||(l.adserverTargeting={});l.adserverTargeting.hb_pb_cat_dur=U;l.adserverTargeting.hb_cache_id=J;l.videoCacheKey=J;l.customCacheKey=`${U}_${J}`}function z(l){for(let A=0;A<l.length;A++)c.removeBid(l[A])}
function d(l,A,J){z(A);(0,r.store)(A,function(U,W){if(U)for(W=0;W<A.length;W++)(0,t.doCallbacksIfTimedout)(l,A[W]);else for(U=0;U<W.length;U++)""!==W[U].uuid&&(0,t.addBidToAuction)(l,A[U]),J()})}function x(l,A){let J=(0,p["default"])(A,"video.durationSeconds");var U=l.durationRangeSec;U.sort((W,Z)=>W-Z);if(l.requireExactDuration)if((0,f.find)(U,W=>W===J))A.video.durationBucket=J;else return!1;else if(l=Math.max(...U),J<=l+2)U=(0,f.find)(U,W=>W+2>=J),A.video.durationBucket=U;else return!1;return!0}
function y(l,A){(0,r.store)(l,function(J,U){if(J)A(J,null);else{J=[];for(let W=0;W<U.length;W++)""!==U[W]&&J.push(l[W]);A(null,J)}})}function h(l,A){return l.adserverTargeting[G.TARGETING_KEYS.PRICE_BUCKET]/l.video.durationBucket<A.adserverTargeting[G.TARGETING_KEYS.PRICE_BUCKET]/A.video.durationBucket?1:l.adserverTargeting[G.TARGETING_KEYS.PRICE_BUCKET]/l.video.durationBucket>A.adserverTargeting[G.TARGETING_KEYS.PRICE_BUCKET]/A.video.durationBucket?-1:0}function v(l){return D.auctionManager.getAdUnits().filter(A=>
(0,p["default"])(A,"mediaTypes.video.context")===q.ADPOD).filter(A=>0<l.length?-1!=l.indexOf(A.code):!0)}function g(l){let A=l.map(U=>Object.assign({},U,{hb_pb_cat_dur:U.adserverTargeting.hb_pb_cat_dur}));A=(0,k.groupBy)(A,"hb_pb_cat_dur");let J=[];Object.keys(A).forEach(U=>{A[U].sort((0,k.compareOn)("responseTimestamp"));J.push(A[U][0])});return J}function B(l,A){let J=A.map(U=>U.code);return l.filter(U=>-1!=J.indexOf(U.adUnitCode)&&U.video&&U.video.context===q.ADPOD)}var k=F("./src/utils.js"),p=
F("./node_modules/dlv/index.js"),t=F("./src/auction.js");ca=F("./src/prebid.js");sa=F("./src/video.js");var E=F("./src/hook.js"),r=F("./src/videoCache.js"),n=F("./src/config.js"),q=F("./src/mediaTypes.js"),f=F("./src/polyfill.js"),D=F("./src/auctionManager.js"),G=F("./src/constants.json");let w=50,H=5,c=function(){let l={};return{addBid:function(A){if(!l[A.auctionId]){var J=A.auctionId;l[J]={};l[J].bidStorage=new Set;l[J].queueDispatcher=qa(w);l[J].initialCacheKey=(0,k.generateUUID)()}l[A.auctionId].bidStorage.add(A)},
removeBid:function(A){l[A.auctionId].bidStorage.delete(A)},getBids:function(A){return l[A.auctionId]&&l[A.auctionId].bidStorage.values()},getQueueDispatcher:function(A){return l[A.auctionId]&&l[A.auctionId].queueDispatcher},setupInitialCacheKey:function(A){l[A.auctionId]||(l[A.auctionId]={},l[A.auctionId].initialCacheKey=(0,k.generateUUID)())},getInitialCacheKey:function(A){return l[A.auctionId]&&l[A.auctionId].initialCacheKey}}}();n.config.getConfig("adpod",l=>{l=l.adpod;void 0!==l.bidQueueTimeDelay&&
"number"===typeof l.bidQueueTimeDelay&&0<l.bidQueueTimeDelay&&(w=l.bidQueueTimeDelay);void 0!==l.bidQueueSizeLimit&&"number"===typeof l.bidQueueSizeLimit&&0<l.bidQueueSizeLimit&&(H=l.bidQueueSizeLimit)});(0,E.setupBeforeHookFnOnce)(t.callPrebidCache,function(l,A,J,U,W){if(W&&W.context===q.ADPOD)if(l=n.config.getConfig("adpod.brandCategoryExclusion"),!(0,p["default"])(J,"meta.adServerCatId")&&l)U();else if(!1===n.config.getConfig("adpod.deferCaching")){if(c.addBid(J),I(J,l),l=c.getBids(J))l=(0,f.arrayFrom)(l),
J=c.getQueueDispatcher(J),W=A.getAuctionStatus()!==t.AUCTION_IN_PROGRESS,J(A,l,U,W)}else c.setupInitialCacheKey(J),I(J,l),(0,t.addBidToAuction)(A,J),U();else l.call(this,A,J,U,W)});(0,E.setupBeforeHookFnOnce)(ca.checkAdUnitSetup,function(l,A){A=A.filter(J=>{var U=(0,p["default"])(J,"mediaTypes");if((J=(0,p["default"])(U,"video"))&&J.context===q.ADPOD){if(1<Object.keys(U).length)return!1;U=!!(J.playerSize&&((0,k.isArrayOfNums)(J.playerSize,2)||(0,k.isArray)(J.playerSize)&&J.playerSize.every(Z=>(0,k.isArrayOfNums)(Z,
2)))||J.sizeConfig);let W=!!(J.adPodDurationSec&&(0,k.isNumber)(J.adPodDurationSec)&&0<J.adPodDurationSec);J=!!(J.durationRangeSec&&(0,k.isArrayOfNums)(J.durationRangeSec)&&J.durationRangeSec.every(Z=>0<Z));if(!U||!W||!J)return!1}return!0});l.call(this,A)});(0,E.setupBeforeHookFnOnce)(sa.checkVideoBidSetup,function(l,A,J,U,W){W===q.ADPOD?(J=!0,n.config.getConfig("adpod.brandCategoryExclusion")&&!(0,p["default"])(A,"meta.primaryCatId")&&(J=!1),(0,p["default"])(A,"video")&&((0,p["default"])(A,"video.context")&&
A.video.context===q.ADPOD||(J=!1),!(0,p["default"])(A,"video.durationSeconds")||0>=A.video.durationSeconds?J=!1:x(U,A)||(J=!1)),n.config.getConfig("cache.url")||!A.vastXml||A.vastUrl||(J=!1),l.bail(J)):l.call(this,A,J,U,W)});const m={TARGETING_KEY_PB_CAT_DUR:"hb_pb_cat_dur",TARGETING_KEY_CACHE_ID:"hb_cache_id",getTargeting:function(){let {codes:l,callback:A}=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(A){l=l||[];var J=v(l),U=D.auctionManager.getBidsReceived(),W=n.config.getConfig("adpod.brandCategoryExclusion"),
Z=n.config.getConfig("adpod.deferCaching");Z="boolean"===typeof Z?Z:!0;var ia=B(U,J);ia=W||Z?g(ia):ia;if(n.config.getConfig("adpod.prioritizeDeals")){let [T,N]=ia.reduce((O,oa)=>{let ta=(0,p["default"])(oa,"video.dealTier"),Da=n.config.getConfig(`adpod.dealTier.${oa.bidderCode}.minDealTier`);Da&&ta?ta>=Da?O[1].push(oa):O[0].push(oa):ta?O[1].push(oa):O[0].push(oa);return O},[[],[]]);N.sort(h);T.sort(h);ia=N.concat(T)}else ia.sort(h);var ba={};if(!1===Z)J.forEach(T=>{let N=[],O=(0,p["default"])(T,"mediaTypes.video.adPodDurationSec");
ia.filter(oa=>oa.adUnitCode===T.code).forEach((oa,ta,Da)=>{oa.video.durationBucket<=O&&(N.push({hb_pb_cat_dur:oa.adserverTargeting.hb_pb_cat_dur}),O-=oa.video.durationBucket);ta===Da.length-1&&0<N.length&&N.push({hb_cache_id:oa.adserverTargeting.hb_cache_id})});ba[T.code]=N}),A(null,ba);else{let T=[];J.forEach(N=>{let O=(0,p["default"])(N,"mediaTypes.video.adPodDurationSec");ia.filter(oa=>oa.adUnitCode===N.code).forEach(oa=>{oa.video.durationBucket<=O&&(T.push(oa),O-=oa.video.durationBucket)})});
y(T,function(N,O){if(N)A(N,null);else{let oa=(0,k.groupBy)(O,"adUnitCode");Object.keys(oa).forEach(ta=>{let Da=[];oa[ta].forEach((V,pa,X)=>{Da.push({hb_pb_cat_dur:V.adserverTargeting.hb_pb_cat_dur});pa===X.length-1&&0<Da.length&&Da.push({hb_cache_id:V.adserverTargeting.hb_cache_id})});ba[ta]=Da});A(null,ba)}})}return ba}}};Object.freeze(m);(0,E.module)("adpod",function(){if((0,k.isPlainObject)(0>=arguments.length?void 0:arguments[0])){var l=0>=arguments.length?void 0:arguments[0];for(let A in m)l[A]=
m[A]}});window.pbjs.installedModules.push("adpod")}},ca=>{ca(ca.s="./modules/adpod.js")}]);"use strict";(self.pbjsChunk=self.pbjsChunk||[]).push([["appnexusBidAdapter"],{"./modules/appnexusBidAdapter.js":(ca,sa,F)=>{function qa(x){return!!(Array.isArray(x)&&0<x.length)}function I(x){qa(x.value)&&""===x.value[0]&&delete x.value}var z=F("./src/utils.js"),d=F("./src/config.js");ca=F("./src/adapters/bidderFactory.js");F=F("./src/mediaTypes.js");(0,ca.registerBidder)({code:"appnexus",gvlid:32,aliases:[{code:"appnexusAst",
gvlid:32},{code:"emxdigital",gvlid:183},{code:"pagescience"},{code:"defymedia"},{code:"gourmetads"},{code:"matomy"},{code:"featureforward"},{code:"oftmedia"},{code:"adasta"},{code:"beintoo",gvlid:618}],supportedMediaTypes:[F.BANNER,F.VIDEO,F.NATIVE],transformBidParams:function(x,y,h,v){v=z.transformBidderParamKeywords;if(!0===y){let B=null,k=d.config.getConfig("s2sConfig");if((0,z.isPlainObject)(k)){var g;B=null===k||void 0===k?void 0:null===(g=k.endpoint)||void 0===g?void 0:g.p1Consent}else Array.isArray(k)&&
k.forEach(p=>{var t;if(null!==(t=p.bidders)&&void 0!==t&&t.includes(h.bids[0].bidder)){var E;B=null===p||void 0===p?void 0:null===(E=p.endpoint)||void 0===E?void 0:E.p1Consent}});B&&B.match("/openrtb2/prebid")&&(v=convertKeywordsToString)}x=(0,z.convertTypes)({member:"string",invCode:"string",placementId:"number",keywords:v,publisherId:"number"},x);y&&(qa(x.keywords)&&x.keywords.forEach(I),Object.keys(x).forEach(B=>{let k=(0,z.convertCamelToUnderscore)(B);k!==B&&(x[k]=x[B],delete x[B])}),x.use_pmt_rule=
"boolean"===typeof x.use_payment_rule?x.use_payment_rule:!1,x.use_payment_rule&&delete x.use_payment_rule);return x}});window.pbjs.installedModules.push("appnexusBidAdapter")}},ca=>{ca(ca.s="./modules/appnexusBidAdapter.js")}]);"use strict";(self.pbjsChunk=self.pbjsChunk||[]).push([["consentManagementUsp"],{"./modules/consentManagementUsp.js":(ca,sa,F)=>{function qa(p){function t(q,f){null!=E&&clearTimeout(E);r=!0;x.uspDataHandler.setConsentData(q);if(null!=p){for(var D=arguments.length,G=Array(2<
D?D-2:0),w=2;w<D;w++)G[w-2]=arguments[w];p(f,...G)}}let E=null,r=!1;if(k[y]){var n={onSuccess:t,onError:function(q){for(var f=arguments.length,D=Array(1<f?f-1:0),G=1;G<f;G++)D[G-1]=arguments[G];t(null,`${q} Resuming auction without consent data as per consentManagement config.`,...D)}};k[y](n);r||(0===h?I(void 0,n):E=setTimeout(n.onError.bind(null,"USPAPI workflow exceeded timeout threshold."),h))}else t(null,`USP framework (${y}) is not a supported framework. Aborting consentManagement module and resuming auction.`)}
function I(p,t){let {onSuccess:E,onError:r}=t;p&&p.usPrivacy?(p&&p.usPrivacy&&(g=p.usPrivacy),E(g)):r("USPAPI returned unexpected value during lookup process.",p)}function z(){B||(B=!0,x.uspDataHandler.enable());qa()}var d=F("./src/utils.js");ca=F("./src/config.js");var x=F("./src/adapterManager.js");sa=F("./src/utils/perfMetrics.js");F=F("./src/hook.js");let y="iab",h=50,v,g,B=!1;const k={iab:function(p){function t(w,H){try{w("registerDeletion",H,x["default"].callDataDeletionRequest)}catch(c){}}
function E(w,H,c){function m(l){(l=l&&l.data&&l.data.__uspapiReturn)&&l.callId&&q.hasOwnProperty(l.callId)&&(q[l.callId](l.returnValue,l.success),delete q[l.callId])}G||(window.addEventListener("message",m,!1),G=!0);(function(l,A,J){let U=Math.random()+"";l={__uspapiCall:{command:l,version:A,callId:U}};q[U]=J;H.postMessage(l,"*")})(w,1,c)}let {onSuccess:r,onError:n}=p;p=function(){const w={};return{consentDataCallback:(H,c)=>{c&&H.uspString&&(w.usPrivacy=H.uspString);w.usPrivacy?I(w,{onSuccess:r,
onError:n}):n("Unable to get USP consent string.")}}}();let q={},{uspapiFrame:f,uspapiFunction:D}=function(){let w=window,H,c;for(;;){try{if("function"===typeof w.__uspapi){c=w.__uspapi;H=w;break}}catch(m){}try{if(w.frames.__uspapiLocator){H=w;break}}catch(m){}if(w===window.top)break;w=w.parent}return{uspapiFrame:H,uspapiFunction:c}}();if(!f)return n("USP CMP not found.");(0,d.isFn)(D)?(D("getUSPData",1,p.consentDataCallback),t(D,1)):(E("getUSPData",f,p.consentDataCallback),t(E,f));let G=!1},"static":function(p){let {onSuccess:t,
onError:E}=p;I(v,{onSuccess:t,onError:E})}};sa=(0,sa.timedAuctionHook)("usp",function(p,t){var E=this;B||z();qa(function(r){if(null!=r)for(var n=arguments.length,q=Array(1<n?n-1:0),f=1;f<n;f++)q[f-1]=arguments[f];p.call(E,t)})});ca.config.getConfig("consentManagement",p=>{y=(p=(p=p.consentManagement)&&p.usp)&&(0,d.isStr)(p.cmpApi)?p.cmpApi:"iab";h=p&&(0,d.isNumber)(p.timeout)?p.timeout:50;"static"===y&&(0,d.isPlainObject)(p.consentData)&&(0,d.isPlainObject)(p.consentData.getUSPData)&&(p.consentData.getUSPData.uspString&&
(v={usPrivacy:p.consentData.getUSPData.uspString}),h=0);z(!0)});(0,F.getHook)("requestBids").before(sa,50);window.pbjs.installedModules.push("consentManagementUsp")}},ca=>{ca(ca.s="./modules/consentManagementUsp.js")}]);"use strict";(self.pbjsChunk=self.pbjsChunk||[]).push([["criteoBidAdapter"],{"./modules/criteoBidAdapter.js":(ca,sa,F)=>{function qa(n){const q=g$.ic[n];n=r.getDataFromLocalStorage(n);return q||n||void 0}function I(n,q,f){r.setCookie(n,q,f/24);r.setDataInLocalStorage(n,q)}function z(n){r.setCookie(n,
"",-1);r.removeDataFromLocalStorage(n)}function d(n){let q=!0;"mimes playerSize maxduration protocols api skip placement playbackmethod".split(" ").forEach(function(f){void 0===(0,v["default"])(n,"mediaTypes.video."+f)&&void 0===(0,v["default"])(n,"params.video."+f)&&(q=!1)});if(q){const f=n.mediaTypes.video.placement||n.params.video.placement;if("instream"==n.mediaTypes.video.context&&1===f||"outstream"==n.mediaTypes.video.context&&1!==f)return!0}return!1}function x(n){return{sendTargetingKeys:!1,
title:n.products[0].title,body:n.products[0].description,sponsoredBy:n.advertiser.description,icon:n.advertiser.logo,image:n.products[0].image,clickUrl:n.products[0].click_url,privacyLink:n.privacy.optout_click_url,privacyIcon:n.privacy.optout_image_url,cta:n.products[0].call_to_action,price:n.products[0].price,impressionTrackers:n.impression_pixels.map(q=>q.url)}}function y(n,q,f){window.criteo_prebid_native_slots=window.criteo_prebid_native_slots||{};window.criteo_prebid_native_slots[n]={callback:f,
payload:q};return`
<script type="text/javascript">
for (var i = 0; i < 10; ++i) {
 var slots = window.parent.${"criteo_prebid_native_slots"};
  if(!slots){continue;}
  var responseSlot = slots["${n}"];
  responseSlot.callback(responseSlot.payload);
  break;
}
</script>`}var h=F("./src/utils.js"),v=F("./node_modules/dlv/index.js");ca=F("./src/adapters/bidderFactory.js");var g=F("./src/config.js"),B=F("./src/mediaTypes.js"),k=F("./src/polyfill.js");sa=F("./src/storageManager.js");var p=F("./src/native.js"),t=F("./src/refererDetection.js"),E=F("./src/utils/gpdr.js");const r=(0,sa.getStorageManager)({gvlid:91,bidderCode:"criteo"});(0,ca.registerBidder)({code:"criteo",gvlid:91,supportedMediaTypes:[B.BANNER,B.VIDEO,B.NATIVE],getUserSyncs:function(n,q,f,D){if("none"!==
g.config.getConfig("criteo.fastBidVersion"))return[];q=(0,t.getRefererInfo)();if(n.iframeEnabled&&(0,E.hasPurpose1Consent)(f)){n=[];n.push("origin=criteoPrebidAdapter");n.push(`topUrl=${q.domain}`);f&&(f.gdprApplies&&n.push(`gdpr=${1==f.gdprApplies?1:0}`),f.consentString&&n.push(`gdpr_consent=${f.consentString}`));D&&n.push(`us_privacy=${D}`);const G=Math.random().toString();f={bundle:qa("cto_bundle"),cw:r.cookiesAreEnabled(),localWebId:qa("cto_lwid"),lsw:gnt.storage,optoutCookie:qa("cto_optout"),
origin:"criteoPrebidAdapter",requestId:G,secureIdCookie:qa("cto_sid"),tld:q.domain,topUrl:q.domain,uid:qa("cto_idcpy"),version:"7.36.0".replace(/\./g,"_")};window.addEventListener("message",function c(H){H.data&&"https://gum.criteo.com"==H.origin&&H.data.requestId===G&&(this.removeEventListener("message",c),H.stopImmediatePropagation(),H=H.data,H.optout?(z("cto_idcpy"),z("cto_sid"),z("cto_bundle"),z("cto_lwid"),I("cto_optout",!0,43200)):(H.uid&&I("cto_idcpy",H.uid,9360),H.bundle&&I("cto_bundle",H.bundle,
9360),H.removeSid?z("cto_sid"):H.sid&&I("cto_sid",H.sid,9360)))},!0);f=JSON.stringify(f).replace(/"/g,"%22");return[{type:"iframe",url:`https://gum.criteo.com/syncframe?${n.join("&")}#${f}`}]}return[]},isBidRequestValid:n=>n&&n.params&&(n.params.zoneId||n.params.networkId)&&(void 0===(0,v["default"])(n,"mediaTypes.video")||d(n))?!0:!1,buildRequests:(n,q)=>{var f,D;n=(0,p.convertOrtbRequestToProprietaryNative)(n);let G=q.ortb2||{};Object.assign(q,{publisherExt:null===(f=G.site)||void 0===f?void 0:
f.ext,userExt:null===(D=G.user)||void 0===D?void 0:D.ext,ceh:g.config.getConfig("criteo.ceh"),coppa:g.config.getConfig("coppa")});f=new Criteo.PubTag.Adapters.Prebid(185,34,n,q,"7.36.0");q=f.buildCdbUrl();if(f=f.buildCdbRequest())return{method:"POST",url:q,data:f,bidRequests:n}},interpretResponse:(n,q)=>{const f=n.body||n,D=Criteo.PubTag.Adapters.Prebid.GetAdapter(q);if(D)return D.interpretResponse(f,q);const G=[];f&&f.slots&&(0,h.isArray)(f.slots)&&f.slots.forEach(w=>{var H,c,m,l;const A=(0,k.find)(q.bidRequests,
W=>W.adUnitCode===w.impid&&(!W.params.zoneId||parseInt(W.params.zoneId)===w.zoneid)),J=A.bidId,U={requestId:J,cpm:w.cpm,currency:w.currency,netRevenue:!0,ttl:w.ttl||60,creativeId:w.creativecode,width:w.width,height:w.height,dealId:w.dealCode};null!==(H=f.ext)&&void 0!==H&&null!==(c=H.paf)&&void 0!==c&&c.transmission&&null!==(m=w.ext)&&void 0!==m&&null!==(l=m.paf)&&void 0!==l&&l.content_id&&(U.meta=Object.assign({},U.meta,{paf:{content_id:w.ext.paf.content_id,transmission:n.ext.paf.transmission}}));
w.adomain&&(U.meta=Object.assign({},U.meta,{advertiserDomains:w.adomain}));w.native?A.params.nativeCallback?U.ad=y(J,w.native,A.params.nativeCallback):(U.native=x(w.native),U.mediaType=B.NATIVE):w.video?(U.vastUrl=w.displayurl,U.mediaType=B.VIDEO):U.ad=w.creative;G.push(U)});return G},onTimeout:n=>{if(Array.isArray(n)){var q=[];n.forEach(f=>{-1===q.indexOf(f.auctionId)&&(q.push(f.auctionId),Criteo.PubTag.Adapters.Prebid.GetAdapter(f.auctionId).handleBidTimeout())})}},onBidWon:n=>{n&&Criteo.PubTag.Adapters.Prebid.GetAdapter(n.auctionId).handleBidWon(n)},
onSetTargeting:n=>{Criteo.PubTag.Adapters.Prebid.GetAdapter(n.auctionId).handleSetTargeting(n)}});window.pbjs.installedModules.push("criteoBidAdapter")},"./src/utils/gpdr.js":(ca,sa,F)=>{function qa(z){return null!==z&&void 0!==z&&z.gdprApplies?!0===(0,I["default"])(z,"vendorData.purpose.consents.1"):!0}F.d(sa,{hasPurpose1Consent:()=>qa});var I=F("./node_modules/dlv/index.js")}},ca=>{ca(ca.s="./modules/criteoBidAdapter.js")}]);"use strict";(self.pbjsChunk=self.pbjsChunk||[]).push([["dfpAdServerVideo"],
{"./modules/dfpAdServerVideo.js":(ca,sa,F)=>{function qa(r){r.call(this,"dfp")}function I(r,n,q){if(!h.config.getConfig("cache.url")&&!(0,y["default"])(n,`${q}.description_url`)&&(r=r&&r.vastUrl))return encodeURIComponent(r)}function z(r,n,q){const f=r&&r.adserverTargeting||{};var D={};const G=n&&n.adUnit;G&&(D=(D=d.targeting.getAllTargeting(G.code))?D[G.code]:{});r=Object.assign({},{hb_uuid:r&&r.videoCacheKey},{hb_cache_id:r&&r.videoCacheKey},D,f);B.emit(k.EVENTS.SET_TARGETING,{[G.code]:r});n=(0,y["default"])(n,
"params.cust_params");n=Object.assign({},r,n);n=encodeURIComponent((0,x.formatQS)(n));q&&(n=q+"%26"+n);return n}ca=F("./src/adServerManager.js");var d=F("./src/targeting.js"),x=F("./src/utils.js"),y=F("./node_modules/dlv/index.js"),h=F("./src/config.js");sa=F("./src/hook.js");var v=F("./src/auctionManager.js"),g=F("./src/adapterManager.js"),B=F("./src/events.js"),k=F("./src/constants.json"),p=F("./src/adserver.js");const t={env:"vp",gdfp_req:1,output:"vast",unviewed_position_start:1},E={};h.config.getConfig("brandCategoryTranslation.translationFile")&&
(0,sa.getHook)("registerAdserver").before(qa);(0,ca.registerVideoSupport)("dfp",{buildVideoUrl:function(r){if(r.params||r.url){var n=r.adUnit,q=r.bid||d.targeting.getWinningBids(n.code)[0],f={};if(r.url&&(f=(0,x.parseUrl)(r.url,{noDecodeWholeURL:!0}),(0,x.isEmpty)(r.params))){if(n=I(q,f,"search"))f.search.description_url=n;f.search.cust_params=z(q,r,f.search.cust_params);return f=(0,x.buildUrl)(f)}n={correlator:Date.now(),sz:(0,x.parseSizesInput)((0,y["default"])(n,"mediaTypes.video.playerSize")).join("|"),
url:encodeURIComponent(location.href)};var D=f.search,G=D&&D.sz;G&&(n.sz=G+"|"+n.sz);D=z(q,r,D&&D.cust_params);n=Object.assign({},t,f.search,n,r.params,{cust_params:D});if(r=I(q,r,"params"))n.description_url=r;if(r=g.gdprDataHandler.getConsentData())"boolean"===typeof r.gdprApplies&&(n.gdpr=Number(r.gdprApplies)),r.consentString&&(n.gdpr_consent=r.consentString),r.addtlConsent&&(n.addtl_consent=r.addtlConsent);if(r=g.uspDataHandler.getConsentData())n.us_privacy=r;g.gppDataHandler.getConsentData();
n.ppid||(r=(0,p.getPPID)(),null!=r&&(n.ppid=r));return(0,x.buildUrl)(Object.assign({protocol:"https",host:"securepubads.g.doubleclick.net",pathname:"/gampad/ads"},f,{search:n}))}},buildAdpodVideoUrl:function(){let {code:r,params:n,callback:q}=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(n&&q){var f={correlator:Date.now(),sz:function(D){var G=v.auctionManager.getAdUnits().filter(w=>w.code===D);G=(0,y["default"])(G[0],"mediaTypes.video.playerSize");return(0,x.parseSizesInput)(G).join("|")}(r),
url:encodeURIComponent(location.href)};E.getTargeting({codes:[r],callback:function(D,G){if(D)q(D,null);else{D={[E.TARGETING_KEY_PB_CAT_DUR]:void 0,[E.TARGETING_KEY_CACHE_ID]:void 0};var w={};G[r]&&(w=G[r].reduce((H,c)=>{Object.keys(c)[0]===E.TARGETING_KEY_PB_CAT_DUR?H[E.TARGETING_KEY_PB_CAT_DUR]="undefined"!==typeof H[E.TARGETING_KEY_PB_CAT_DUR]?H[E.TARGETING_KEY_PB_CAT_DUR]+","+c[E.TARGETING_KEY_PB_CAT_DUR]:c[E.TARGETING_KEY_PB_CAT_DUR]:Object.keys(c)[0]===E.TARGETING_KEY_CACHE_ID&&(H[E.TARGETING_KEY_CACHE_ID]=
c[E.TARGETING_KEY_CACHE_ID]);return H},D));G=encodeURIComponent((0,x.formatQS)(w));G=Object.assign({},t,f,n,{cust_params:G});if(D=g.gdprDataHandler.getConsentData())"boolean"===typeof D.gdprApplies&&(G.gdpr=Number(D.gdprApplies)),D.consentString&&(G.gdpr_consent=D.consentString),D.addtlConsent&&(G.addtl_consent=D.addtlConsent);if(D=g.uspDataHandler.getConsentData())G.us_privacy=D;G=(0,x.buildUrl)({protocol:"https",host:"securepubads.g.doubleclick.net",pathname:"/gampad/ads",search:G});q(null,G)}}})}},
getAdpodTargeting:r=>E.getTargeting(r)});(0,sa.submodule)("adpod",E);window.pbjs.installedModules.push("dfpAdServerVideo")},"./src/adServerManager.js":(ca,sa,F)=>{function qa(z,d){I.adServers=I.adServers||{};I.adServers[z]=I.adServers[z]||{};Object.keys(d).forEach(x=>{I.adServers[z][x]||(I.adServers[z][x]=d[x])})}F.d(sa,{registerVideoSupport:()=>qa});ca=F("./src/prebidGlobal.js");F("./src/utils.js");const I=(0,ca.getGlobal)()},"./src/adserver.js":(ca,sa,F)=>{F.d(sa,{getPPID:()=>qa});const qa=(0,F("./src/hook.js").hook)("sync",
()=>{})}},ca=>{ca(ca.s="./modules/dfpAdServerVideo.js")}]);"use strict";(self.pbjsChunk=self.pbjsChunk||[]).push([["identityLinkIdSystem"],{"./modules/identityLinkIdSystem.js":(ca,sa,F)=>{(0,F("./src/hook.js").submodule)("userId",{name:"identityLink",gvlid:97,getId(){}});window.pbjs.installedModules.push("identityLinkIdSystem")}},ca=>{ca(ca.s="./modules/identityLinkIdSystem.js")}]);"use strict";(self.pbjsChunk=self.pbjsChunk||[]).push([["ixBidAdapter"],{"./modules/ixBidAdapter.js":(ca,sa,F)=>{var qa=
F("./src/utils.js");ca=F("./src/mediaTypes.js");let I=0;(0,F("./src/adapters/bidderFactory.js").registerBidder)({testSpecProp:"this is a property of the ix spec object",code:"ix",gvlid:10,aliases:[{code:"roundel",gvlid:10,skipPbsAliasing:!1}],supportedMediaTypes:[ca.BANNER,ca.VIDEO,ca.NATIVE],transformBidParams:function(z,d){I||(I=z.siteId);return(0,qa.convertTypes)({siteID:"number"},z)}});window.pbjs.installedModules.push("ixBidAdapter")}},ca=>{ca(ca.s="./modules/ixBidAdapter.js")}]);"use strict";
(self.pbjsChunk=self.pbjsChunk||[]).push([["openxBidAdapter"],{"./modules/openxBidAdapter.js":(ca,sa,F)=>{var qa=F("./src/utils.js");ca=F("./src/adapters/bidderFactory.js");F=F("./src/mediaTypes.js");(0,ca.registerBidder)({code:"openx",gvlid:69,supportedMediaTypes:[F.BANNER,F.VIDEO],transformBidParams:function(I,z){return(0,qa.convertTypes)({unit:"string",customFloor:"number"},I)}});window.pbjs.installedModules.push("openxBidAdapter")}},ca=>{ca(ca.s="./modules/openxBidAdapter.js")}]);"use strict";
(self.pbjsChunk=self.pbjsChunk||[]).push([["prebidServerBidAdapter"],{"./modules/prebidServerBidAdapter/config.js":(ca,sa,F)=>{F.d(sa,{S2S_VENDORS:()=>qa});const qa={appnexus:{adapter:"prebidServer",enabled:!0,endpoint:{p1Consent:"https://prebid.adnxs.com/pbs/v1/openrtb2/auction",noP1Consent:"https://prebid.adnxs-simple.com/pbs/v1/openrtb2/auction"},syncEndpoint:{p1Consent:"https://prebid.adnxs.com/pbs/v1/cookie_sync",noP1Consent:"https://prebid.adnxs-simple.com/pbs/v1/cookie_sync"},timeout:1E3},
appnexuspsp:{adapter:"prebidServer",enabled:!0,endpoint:{p1Consent:"https://ib.adnxs.com/openrtb2/prebid",noP1Consent:"https://ib.adnxs-simple.com/openrtb2/prebid"},timeout:1E3},rubicon:{adapter:"prebidServer",enabled:!0,endpoint:{p1Consent:"https://prebid-server.rubiconproject.com/openrtb2/auction",noP1Consent:"https://prebid-server.rubiconproject.com/openrtb2/auction"},syncEndpoint:{p1Consent:"https://prebid-server.rubiconproject.com/cookie_sync",noP1Consent:"https://prebid-server.rubiconproject.com/cookie_sync"},
timeout:500},openx:{adapter:"prebidServer",enabled:!0,endpoint:{p1Consent:"https://prebid.openx.net/openrtb2/auction",noP1Consent:"https://prebid.openx.net/openrtb2/auction"},syncEndpoint:{p1Consent:"https://prebid.openx.net/cookie_sync",noP1Consent:"https://prebid.openx.net/cookie_sync"},timeout:1E3}}},"./modules/prebidServerBidAdapter/index.js":(ca,sa,F)=>{function qa(N){if(N.defaultVendor){let O=N.defaultVendor,oa=Object.keys(N);if(w.S2S_VENDORS[O])Object.keys(w.S2S_VENDORS[O]).forEach(ta=>{ia[ta]!==
N[ta]&&(0,G.includes)(oa,ta)||(N[ta]=w.S2S_VENDORS[O][ta])});else return!1}return N.enabled="boolean"===typeof N.enabled?N.enabled:!1}function I(N){const O=Object.keys(N);if(0<["accountId","endpoint"].filter(oa=>(0,G.includes)(O,oa)?!1:!0).length)return!1}function z(N){["endpoint","syncEndpoint"].forEach(O=>{if((0,t.isStr)(N[O])){let oa=N[O];N[O]={p1Consent:oa,noP1Consent:oa}}!(0,t.isPlainObject)(N[O])||N[O].p1Consent&&N[O].noP1Consent||["p1Consent","noP1Consent"].forEach(oa=>{})})}function d(N){if(N){var O=
Array.isArray(N)?N:[N],oa=[];if(O.every((ta,Da,V)=>{z(N);return!1!==qa(ta)&&!1!==I(ta)?(Array.isArray(ta.bidders)&&(V[Da].bidders=ta.bidders.filter(pa=>-1===oa.indexOf(pa)?(oa.push(pa),!0):!1)),!0):!1}))return W=O}}function x(N,O,oa,ta,Da){if(W.length!==U){U++;var V={},pa=A("userSync.filterSettings");if(pa){const {all:X,iframe:aa,image:da}=pa;pa=aa||X;const ja=da||X;pa&&(V=Object.assign({iframe:pa},V));ja&&(V=Object.assign({image:ja},V))}N={uuid:(0,t.generateUUID)(),bidders:N,account:Da.accountId,
filterSettings:V};V=Da.userSyncLimit;(0,t.isNumber)(V)&&0<V&&(N.limit=V);O&&(N.gdpr=O.gdprApplies?1:0,!1!==O.gdprApplies&&(N.gdpr_consent=O.consentString));oa&&(N.us_privacy=oa);ta&&(N.gpp_sid=ta.applicableSections,N.gpp=ta.gppString);"boolean"===typeof Da.coopSync&&(N.coopSync=Da.coopSync);oa=JSON.stringify(N);(0,H.ajax)(B(Da.syncEndpoint,O),X=>{try{X=JSON.parse(X),y(X.bidder_status,Da)}catch(aa){}},oa,{mode:"same-origin",contentType:"text/plain",withCredentials:!0})}}function y(N,O){if(0!==N.length){var oa=
N.shift();if(oa.no_cookie){var ta=oa.usersync.type,Da=oa.usersync.url;oa=oa.bidder;N=t.bind.call(y,null,N,O);O.syncUrlModifier&&"function"===typeof O.syncUrlModifier[oa]&&(Da=O.syncUrlModifier[oa](ta,Da,oa));O=O.syncTimeout;Da?"image"===ta||"redirect"===ta?(0,t.triggerPixel)(Da,N,O):"iframe"===ta?(0,t.insertUserSyncIframe)(Da,N,O):N():N()}else y(N,O)}}function h(N,O,oa,ta){N.forEach(Da=>{let V=n["default"].getBidAdapter(Da);V&&V.registerSyncs&&q.config.runWithBidder(Da,t.bind.call(V.registerSyncs,
V,[],O,oa,ta))})}function v(N,O,oa){[N,O].every(t.isStr)&&(ba[`${N}${O}`]=oa)}function g(N){var O=N.auctionId;var oa=N.adId;O=[O,oa].every(t.isStr)?ba[`${O}${oa}`]:void 0;(0,t.isStr)(O)&&((0,t.triggerPixel)(O),O=N.auctionId,N=N.adId,[O,N].every(t.isStr)&&(ba[`${O}${N}`]=void 0))}function B(N,O){return(0,c.hasPurpose1Consent)(O)?N.p1Consent:N.noP1Consent}function k(N){let O,oa,ta;Array.isArray(N)&&0<N.length&&(O=N[0].gdprConsent,oa=N[0].uspConsent,ta=N[0].gppConsent);return{gdprConsent:O,uspConsent:oa,
gppConsent:ta}}var p=F("./src/adapter.js"),t=F("./src/utils.js"),E=F("./node_modules/dlv/index.js"),r=F("./src/constants.json"),n=F("./src/adapterManager.js"),q=F("./src/config.js"),f=F("./src/adapters/bidderFactory.js"),D=F("./src/events.js"),G=F("./src/polyfill.js"),w=F("./modules/prebidServerBidAdapter/config.js"),H=F("./src/ajax.js");ca=F("./src/hook.js");var c=F("./src/utils/gpdr.js"),m=F("./modules/prebidServerBidAdapter/ortbConverter.js"),l=F("./src/utils/perfMetrics.js");const A=q.config.getConfig,
J=r.S2S.SRC;let U=0,W,Z;const ia={bidders:Object.freeze([]),timeout:1E3,syncTimeout:1E3,maxBids:1,adapter:"prebidServer",allowUnknownBidderCodes:!1,adapterOptions:{},syncUrlModifier:{},ortbNative:{context:1,plcmttype:1,eventtrackers:[{event:1,methods:[1]}]}};q.config.setDefaults({s2sConfig:ia});A("s2sConfig",N=>{({s2sConfig:N}=N);return d(N)});let ba={};const T=(0,ca.hook)("sync",function(N,O,oa,ta){let {onResponse:Da,onError:V,onBid:pa}=ta;var {gdprConsent:X}=k(O);const aa=(0,t.deepClone)(N.ad_units),
da=aa.map(L=>L.bids.map(P=>P.bidder).filter(t.uniques)).reduce(t.flatten,[]).filter(t.uniques),ja=N.metrics.measureTime("buildRequests",()=>(0,m.buildPBSRequest)(N,O,aa,da,Z));ta=ja&&JSON.stringify(ja);X=B(N.s2sConfig.endpoint,X);if(ja&&ta&&X){const L=N.metrics.startTiming("net");oa(X,{success:function(P){L();let R;try{R=JSON.parse(P),N.metrics.measureTime("interpretResponse",()=>(0,m.interpretPBSResponse)(R,ja).bids).forEach(pa)}catch(fa){}!R||R.status&&(0,G.includes)(R.status,"Error")?Da(!1,da):
Da(!0,da)},error:function(){L();V.apply(this,arguments)}},ta,{mode:"same-origin",contentType:"text/plain",withCredentials:!0})}},"processPBSRequest");(0,t.getPrebidInternal)().setEidPermissions=function(N){Z=N};n["default"].registerBidAdapter(new function(){const N=new p["default"]("prebidServer");N.callBids=function(O,oa,ta,Da,V){const pa=O.metrics=(0,l.useMetrics)((0,E["default"])(oa,"0.metrics")).newMetrics().renameWith(ja=>[`adapter.s2s.${ja}`,`adapters.s2s.${O.s2sConfig.defaultVendor}.${ja}`]);
Da=pa.startTiming("total").stopBefore(Da);oa.forEach(ja=>(0,l.useMetrics)(ja.metrics).join(pa,{continuePropagation:!1}));let {gdprConsent:X,uspConsent:aa,gppConsent:da}=k(oa);if(Array.isArray(W)){if(O.s2sConfig&&O.s2sConfig.syncEndpoint&&B(O.s2sConfig.syncEndpoint,X)){let ja=O.s2sConfig.bidders.map(L=>n["default"].aliasRegistry[L]||L).filter((L,P,R)=>R.indexOf(L)===P);x(ja,X,aa,da,O.s2sConfig)}T(O,oa,V,{onResponse:function(ja,L){ja&&oa.forEach(P=>D.emit(r.EVENTS.BIDDER_DONE,P));Da();h(L,X,aa,da)},
onError:Da,onBid:function(ja){let {adUnit:L,bid:P}=ja;ja=P.metrics=O.metrics.fork().renameWith();ja.checkpoint("addBidResponse");null!=P.requestId&&null!=P.requestBidder||O.s2sConfig.allowUnknownBidderCodes?ja.measureTime("addBidResponse.validate",()=>(0,f.isValid)(L,P))?(ta(L,P),P.pbsWurl&&v(P.auctionId,P.adId,P.pbsWurl)):ta.reject(L,P,r.REJECTION_REASON.INVALID):ta.reject(L,P,r.REJECTION_REASON.BIDDER_DISALLOWED)}})}};D.on(r.EVENTS.BID_WON,g);return Object.assign(this,{callBids:N.callBids,setBidderCode:N.setBidderCode,
type:J})},"prebidServer");window.pbjs.installedModules.push("prebidServerBidAdapter")},"./modules/prebidServerBidAdapter/ortbConverter.js":(ca,sa,F)=>{function qa(r,n,q,f,D){const G=(0,z.timestamp)(),w=new Set,H=[];q.forEach(c=>{const m=new Map;c.bids.forEach(J=>{m.set(J.bidder,(0,z.getBidRequest)(J.bid_id,n))});let l=c.code,A=1;for(;w.has(l);)A++,l=`${c.code}-${A}`;w.add(l);H.push({...c,adUnitCode:c.code,...(0,z.getDefinedParams)(m.values().next().value||{},["userId","userIdAsEids","schain"]),pbsData:{impId:l,
actualBidRequests:m,adUnit:c}})});q=Object.fromEntries(Object.entries(n[0]).filter(c=>{[c]=c;return!t.has(c)}));return E.toORTB({bidderRequest:q,bidRequests:H,context:{currency:y.config.getConfig("currency.adServerCurrency")||"USD",ttl:r.s2sConfig.defaultTtl||60,requestTimestamp:G,s2sBidRequest:r,requestedBidders:f,actualBidderRequests:n,eidPermissions:D,nativeRequest:r.s2sConfig.ortbNative}})}function I(r,n){return E.fromORTB({response:r,request:n})}F.d(sa,{buildPBSRequest:()=>qa,interpretPBSResponse:()=>
I});ca=F("./libraries/ortbConverter/converter.js");var z=F("./src/utils.js"),d=F("./node_modules/dset/dist/index.mjs"),x=F("./node_modules/dlv/index.js"),y=F("./src/config.js"),h=F("./src/constants.json"),v=F("./src/bidfactory.js");sa=F("./libraries/pbsExtensions/pbsExtensions.js");var g=F("./libraries/pbsExtensions/processors/params.js"),B=F("./libraries/pbsExtensions/processors/mediaType.js"),k=F("./src/pbjsORTB.js"),p=F("./src/utils/currency.js");const t=new Set(["bidderCode","bidderRequestId",
"uniquePbsTid","bids","timeout"]),E=(0,ca.ortbConverter)({processors:sa.pbsExtensions,context:{netRevenue:!0},imp(r,n,q){Object.assign(q,n.pbsData);const f=r(n,q);if(Object.values(B.SUPPORTED_MEDIA_TYPES).some(D=>f[D]))return f.secure=q.s2sBidRequest.s2sConfig.secure,f},request(r,n,q,f){if(n.length){let {s2sBidRequest:D,requestedBidders:G,eidPermissions:w}=f;r=r(n,q,f);r.tmax=D.s2sConfig.timeout;(0,d.dset)(r,"source.tid",q.auctionId);[r.app,r.dooh,r.site].forEach(H=>{var c;!H||null!==(c=H.publisher)&&
void 0!==c&&c.id||(0,d.dset)(H,"publisher.id",D.s2sConfig.accountId)});(0,z.isArray)(w)&&0<w.length&&(G&&(0,z.isArray)(G)&&(w=w.map(H=>({...H,bidders:H.bidders.filter(c=>G.includes(c))}))),(0,d.dset)(r,"ext.prebid.data.eidpermissions",w));return r}},bidResponse(r,n,q){var f,D;let G=q.actualBidRequests.get(q.seatbid.seat);null==G&&(G=q.actualBidRequests.get(null));G&&Object.assign(q,{bidRequest:G,bidderRequest:q.actualBidderRequests.find(w=>w.bidderCode===G.bidder)});r=r(n,q);r.requestBidder=null===
(f=G)||void 0===f?void 0:f.bidder;null!==(D=r.native)&&void 0!==D&&D.ortb&&(r.adm=r.native.ortb);r.requestTimestamp=q.requestTimestamp;return{bid:Object.assign((0,v.createBid)(0!==n.price?h.STATUS.GOOD:h.STATUS.NO_BID,{src:h.S2S.SRC,bidId:G?G.bidId||G.bid_Id:null,transactionId:q.adUnit.transactionId,auctionId:q.bidderRequest.auctionId}),r),adUnit:q.adUnit.code}},overrides:{[k.IMP]:{id(r,n,q,f){n.id=f.impId},params(r,n,q,f){r=f.s2sBidRequest.s2sConfig.adapterOptions;for(const D of f.actualBidRequests.values())(0,g.setImpBidParams)(n,
D,f,f),r&&r[D.bidder]&&Object.assign(n.ext.prebid.bidder[D.bidder],r[D.bidder])},bidfloor(r,n,q,f){let D;for(const G of f.actualBidRequests.values())if(q={},r(q,G,f),null==q.bidfloorcur||null==q.bidfloor){D=null;break}else if(null==D)D=q;else{const w=(0,p.beConvertCurrency)(q.bidfloor,q.bidfloorcur,D.bidfloorcur);null!=w&&w<D.bidfloor&&(D=q)}null!=D&&Object.assign(n,D)}},[k.REQUEST]:{fpd(r,n,q,f){var D,G;(0,z.mergeDeep)(n,null===(D=f.s2sBidRequest.ortb2Fragments)||void 0===D?void 0:D.global);if(f.s2sBidRequest.s2sConfig.extPrebid&&
"object"===typeof f.s2sBidRequest.s2sConfig.extPrebid){var w;(0,d.dset)(n,"ext.prebid",(0,z.mergeDeep)((null===(w=n.ext)||void 0===w?void 0:w.prebid)||{},f.s2sBidRequest.s2sConfig.extPrebid))}r=Object.entries((null===(G=f.s2sBidRequest.ortb2Fragments)||void 0===G?void 0:G.bidder)||{}).map(H=>{let [c,m]=H;return{bidders:[c],config:{ortb2:m}}});r.length&&(0,d.dset)(n,"ext.prebid.bidderconfig",r)},extPrebidAliases(r,n,q,f){f.actualBidderRequests.forEach(D=>r(n,D,f))},sourceExtSchain(r,n,q,f){let D;r=
(0,x["default"])(n,"ext.prebid.schains")||[];const G=new Set(r.flatMap(w=>w.bidders));r=Object.values(r.concat(f.actualBidderRequests.filter(w=>!G.has(w.bidderCode)).map(w=>({bidders:[w.bidderCode],schain:(0,x["default"])(w,"bids.0.schain")}))).filter(w=>{let {bidders:H,schain:c}=w;return 0<(null===H||void 0===H?void 0:H.length)&&c}).reduce((w,H)=>{let {bidders:c,schain:m}=H;const l=JSON.stringify(m);w.hasOwnProperty(l)||(w[l]={bidders:new Set,schain:m});c.forEach(A=>w[l].bidders.add(A));if(null==
D||w[l].bidders.size>D.bidders.size)D=w[l];return w},{})).map(w=>{let {bidders:H,schain:c}=w;return{bidders:Array.from(H),schain:c}});null!=D&&(0,d.dset)(n,"source.ext.schain",D.schain);r.length&&(0,d.dset)(n,"ext.prebid.schains",r)}},[k.RESPONSE]:{serverSideStats(r,n,q,f){f.actualBidderRequests.forEach(D=>r(n,q,{...f,bidderRequest:D,bidRequests:D.bids}))}}}})},"./src/pbjsORTB.js":(ca,sa,F)=>{F.d(sa,{BID_RESPONSE:()=>d,DEFAULT:()=>y,IMP:()=>z,PBS:()=>h,PROCESSOR_TYPES:()=>qa,REQUEST:()=>I,RESPONSE:()=>
x,getProcessors:()=>B,registerOrtbProcessor:()=>g});const qa=["request","imp","bidResponse","response"],[I,z,d,x]=qa,[y,h]=["default","pbs"],v=new Set(qa),{registerOrtbProcessor:g,getProcessors:B}=function(){const k={};return{registerOrtbProcessor(p){let {type:t,name:E,fn:r,priority:n=0,dialects:q=[y]}=p;if(!v.has(t))throw Error(`ORTB processor type must be one of: ${qa.join(", ")}`);q.forEach(f=>{k.hasOwnProperty(f)||(k[f]={});k[f].hasOwnProperty(t)||(k[f][t]={});k[f][t][E]={priority:n,fn:r}})},
getProcessors(p){return k[p]||{}}}}()},"./src/utils/currency.js":(ca,sa,F)=>{function qa(z,d,x){if(d===x)return z;let y=z;if("function"===typeof(0,I.getGlobal)().convertCurrency)try{y=(0,I.getGlobal)().convertCurrency(z,d,x)}catch(h){}return y}F.d(sa,{beConvertCurrency:()=>qa});var I=F("./src/prebidGlobal.js")},"./src/utils/gpdr.js":(ca,sa,F)=>{function qa(z){return null!==z&&void 0!==z&&z.gdprApplies?!0===(0,I["default"])(z,"vendorData.purpose.consents.1"):!0}F.d(sa,{hasPurpose1Consent:()=>qa});
var I=F("./node_modules/dlv/index.js")}},ca=>{ca.O(0,["ortbConverter","pbsExtensions"],()=>ca(ca.s="./modules/prebidServerBidAdapter/index.js"));ca.O()}]);"use strict";(self.pbjsChunk=self.pbjsChunk||[]).push([["pubmaticBidAdapter"],{"./modules/pubmaticBidAdapter.js":(ca,sa,F)=>{var qa=F("./src/utils.js");ca=F("./src/adapters/bidderFactory.js");F=F("./src/mediaTypes.js");(0,ca.registerBidder)({code:"pubmatic",gvlid:76,supportedMediaTypes:[F.BANNER,F.VIDEO,F.NATIVE],transformBidParams:function(I,z,
d,x){z=d.bids[0];z=z.rtd&&z.rtd.jwplayer&&z.rtd.jwplayer.targeting||void 0;d="";if(void 0!==z&&""!==z&&z.hasOwnProperty("segments")){x=z.segments.length;d+="jw-id="+z.content.id;for(var y=0;y<x;y++)d+="|jw-"+z.segments[y]+"=1";void 0===I.dctr||0==I.dctr.length?I.dctr=d:I.dctr+="|"+d}return(0,qa.convertTypes)({publisherId:"string",adSlot:"string"},I)}});window.pbjs.installedModules.push("pubmaticBidAdapter")}},ca=>{ca(ca.s="./modules/pubmaticBidAdapter.js")}]);"use strict";(self.pbjsChunk=self.pbjsChunk||
[]).push([["rubiconBidAdapter"],{"./modules/rubiconBidAdapter.js":(ca,sa,F)=>{var qa=F("./src/utils.js");ca=F("./src/adapters/bidderFactory.js");sa=F("./src/config.js");F=F("./src/mediaTypes.js");let I={};sa.config.getConfig("rubicon",z=>{(0,qa.mergeDeep)(I,z.rubicon)});(0,ca.registerBidder)({code:"rubicon",gvlid:52,supportedMediaTypes:[F.BANNER,F.VIDEO],transformBidParams:function(z,d){return(0,qa.convertTypes)({accountId:"number",siteId:"number",zoneId:"number"},z)}});window.pbjs.installedModules.push("rubiconBidAdapter")}},
ca=>{ca(ca.s="./modules/rubiconBidAdapter.js")}]);"use strict";(self.pbjsChunk=self.pbjsChunk||[]).push([["taboolaBidAdapter"],{"./modules/taboolaBidAdapter.js":(ca,sa,F)=>{function qa(k){return k.map((p,t)=>{const {tagId:E,position:r}=p.params;var n={...I(p.sizes),pos:r};t={id:t+1,banner:n,tagid:E};if("function"===typeof p.getFloor)n=p.getFloor({currency:"USD",mediaType:d.BANNER,size:"*"}),"object"!==typeof n||"USD"!==n.currency||isNaN(parseFloat(n.floor))||(t.bidfloor=parseFloat(n.floor),t.bidfloorcur=
"USD");else{const {bidfloor:q=null,bidfloorcur:f="USD"}=p.params;t.bidfloor=q;t.bidfloorcur=f}t.ext={gpid:(0,h["default"])(p,"ortb2Imp.ext.gpid")};return t})}function I(k){return{format:k.map(p=>({w:p[0],h:p[1]}))}}function z(k){({body:k}=k);if(!k)return[];const {seatbid:p,cur:t}=k;return p.length&&p[0].bid&&p[0].bid.length?{bidResponses:p[0].bid,cur:t}:[]}ca=F("./src/adapters/bidderFactory.js");var d=F("./src/mediaTypes.js"),x=F("./src/config.js"),y=F("./src/utils.js"),h=F("./node_modules/dlv/index.js");
sa=F("./src/storageManager.js");var v=F("./src/ajax.js");const g={storageManager:(0,sa.getStorageManager)({gvlid:42,bidderCode:"taboola"}),getUserId:()=>{const {getFromLocalStorage:k,getFromCookie:p,getFromTRC:t}=g;try{return k()||p()||t()}catch(E){return 0}},getFromCookie(){if(g.storageManager.cookiesAreEnabled()){const k=g.getCookieDataByKey(g$.ic.trc_cookie_storage,"user-id");if(k)return k}},getCookieDataByKey(k,p){[,k=""]=k.split(`${p}=`);return k},getFromLocalStorage(){if(gnt.storage)return g.storageManager.getDataFromLocalStorage("taboola global:user-id")},
getFromTRC(){return window.TRC?window.TRC.user_id:0}},B={getPageUrl:function(){let k=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(null===k||void 0===k?void 0:k.page)||window.self.location.href},getReferrer:function(){let k=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(null===k||void 0===k?void 0:k.ref)||window.self.document.referrer}};(0,ca.registerBidder)({supportedMediaTypes:[d.BANNER],gvlid:42,code:"taboola",isBidRequestValid:k=>!!(k.sizes&&k.params&&k.params.publisherId&&
k.params.tagId),buildRequests:(k,p)=>{var t,E,r,n,q,f;const [D]=k,{refererInfo:G,gdprConsent:w={},uspConsent:H}=p,{publisherId:c}=D.params;{var m=p.ortb2,l,A,J,U;let {publisherId:Z}=D.params;const {getPageUrl:ia,getReferrer:ba}=B;var W={id:Z,name:Z,domain:(null===m||void 0===m?void 0:null===(l=m.site)||void 0===l?void 0:l.domain)||(null===G||void 0===G?void 0:G.domain)||(null===(A=window.location)||void 0===A?void 0:A.host),page:(null===m||void 0===m?void 0:null===(J=m.site)||void 0===J?void 0:J.page)||
ia(G),ref:(null===m||void 0===m?void 0:null===(U=m.site)||void 0===U?void 0:U.ref)||ba(G),publisher:{id:Z},content:{language:navigator.language}}}m={ua:navigator.userAgent};l=qa(k);A={buyeruid:g.getUserId(w,H),ext:{}};J={coppa:0,ext:{}};w.gdprApplies&&(A.ext.consent=p.gdprConsent.consentString,J.ext.gdpr=1);H&&(J.ext.us_privacy=H);null!==(t=p.ortb2)&&void 0!==t&&null!==(E=t.regs)&&void 0!==E&&E.gpp&&(J.ext.gpp=p.ortb2.regs.gpp,J.ext.gpp_sid=p.ortb2.regs.gpp_sid);x.config.getConfig("coppa")&&(J.coppa=
1);t=p.ortb2||{bcat:[],badv:[],wlang:[]};p={id:p.auctionId,imp:l,site:W,device:m,source:{fd:1},tmax:p.timeout,bcat:t.bcat||D.params.bcat||[],badv:t.badv||D.params.badv||[],wlang:t.wlang||D.params.wlang||[],user:A,regs:J,ext:{pageType:(null===t||void 0===t?void 0:null===(r=t.ext)||void 0===r?void 0:null===(n=r.data)||void 0===n?void 0:n.pageType)||(null===t||void 0===t?void 0:null===(q=t.ext)||void 0===q?void 0:null===(f=q.data)||void 0===f?void 0:f.section)||D.params.pageType}};return{url:["https://display.bidder.taboola.com/OpenRTB/TaboolaHB/auction",
c].join("/"),method:"POST",data:JSON.stringify(p),bids:k,options:{withCredentials:!1}}},interpretResponse:(k,p)=>{let {bids:t}=p;if(!t)return[];const {bidResponses:E,cur:r}=z(k);return E?E.map(n=>{if(n){var {price:q,nurl:f,crid:D,adm:G,w,h:H,exp:c,adomain:m,meta:l={}}=n;n=t[n.impid-1].bidId;m&&0<m.length&&(l.advertiserDomains=m);n={requestId:n,ttl:c,mediaType:d.BANNER,cpm:q,creativeId:D,currency:r,ad:G,width:w,height:H,meta:l,nurl:f,netRevenue:!0}}else n=void 0;return n}).filter(Boolean):[]},onBidWon:k=>
{k.nurl&&(k=(0,y.replaceAuctionPrice)(k.nurl,k.originalCpm),(0,v.ajax)(k))},getUserSyncs:function(k,p,t,E,r){p=[];const n=[];t&&n.push(`gdpr=${Number(t.gdprApplies&&1)}&gdpr_consent=${encodeURIComponent(t.consentString||"")}`);E&&n.push("us_privacy="+encodeURIComponent(E));r&&n.push("gpp="+encodeURIComponent(r));k.pixelEnabled&&p.push({type:"image",url:"https://trc.taboola.com/sg/prebidJS/1/cm"+(n.length?"?"+n.join("&"):"")});return p}});window.pbjs.installedModules.push("taboolaBidAdapter")}},ca=>
{ca(ca.s="./modules/taboolaBidAdapter.js")}]);"use strict";(self.pbjsChunk=self.pbjsChunk||[]).push([["teadsBidAdapter"],{"./modules/teadsBidAdapter.js":(ca,sa,F)=>{function qa(x){const y={};let h=x.params.placementId,v=x.params.pageId;const g=(0,d["default"])(x,"ortb2Imp.ext.gpid");y.sizes=(0,z.parseSizesInput)(I(x));y.bidId=(0,z.getBidIdParameter)("bidId",x);y.bidderRequestId=(0,z.getBidIdParameter)("bidderRequestId",x);y.placementId=parseInt(h,10);y.pageId=parseInt(v,10);y.adUnitCode=(0,z.getBidIdParameter)("adUnitCode",
x);y.auctionId=(0,z.getBidIdParameter)("auctionId",x);y.transactionId=(0,z.getBidIdParameter)("transactionId",x);g&&(y.gpid=g);return y}function I(x){let y=(0,d["default"])(x,"mediaTypes.video.playerSize"),h=(0,d["default"])(x,"mediaTypes.video.sizes"),v=(0,d["default"])(x,"mediaTypes.banner.sizes");return(0,z.isArray)(v)||(0,z.isArray)(y)||(0,z.isArray)(h)?[v,h,y].reduce(function(g,B){(0,z.isArray)(B)&&((0,z.isArray)(B[0])?B.forEach(function(k){g.push(k)}):g.push(B));return g},[]):x.sizes}var z=
F("./src/utils.js"),d=F("./node_modules/dlv/index.js");(0,F("./src/adapters/bidderFactory.js").registerBidder)({code:"teads",gvlid:132,supportedMediaTypes:["video","banner"],isBidRequestValid:function(x){var y=!1;if("undefined"!==typeof x.params){const h=g$.b.t&&x.params.po;y=h?x.params.placementId=h.placementId:x.params.placementId;x=h?x.params.pageId=h.pageId:x.params.pageId;y=0<parseInt(y);x=0<parseInt(x);y=y&&x}return y},buildRequests:function(x,y){var h=x.map(qa);var v="";y&&y.refererInfo&&y.refererInfo.page&&
(v=y.refererInfo.page);var g=document.referrer;var B=(B=window.navigator)&&B.connection&&0<=B.connection.downlink?B.connection.downlink.toString():"";var k;var p=(k=window.performance||window.webkitPerformance||window.msPerformance||window.mozPerformance)&&"function"===typeof k.getEntriesByType&&"[object Function]"===Object.prototype.toString.call(k.getEntriesByType)&&k.getEntriesByType("navigation")[0]&&k.getEntriesByType("navigation")[0].responseStart&&k.getEntriesByType("navigation")[0].requestStart&&
0<k.getEntriesByType("navigation")[0].responseStart&&0<k.getEntriesByType("navigation")[0].requestStart&&Math.round(k.getEntriesByType("navigation")[0].responseStart-k.getEntriesByType("navigation")[0].requestStart);k=p?p.toString():(k=k&&k.timing.responseStart&&k.timing.requestStart&&0<k.timing.responseStart&&0<k.timing.requestStart&&k.timing.responseStart-k.timing.requestStart)?k.toString():"";p=screen.width;{var t={unifiedId2:"uid2.id",liveRampId:"idl_env",lotamePanoramaId:"lotamePanoramaId",id5Id:"id5id.uid",
criteoId:"criteoId",yahooConnectId:"connectId",quantcastId:"quantcastId",epsilonPublisherLinkId:"publinkId",publisherFirstPartyViewerId:"pubcid",merkleId:"merkleId.id",kinessoId:"kpuid"};let r={};for(E in t){const n=(0,d["default"])(x,`0.userId.${t[E]}`);n&&(r[E]=n)}var E=r}E={...E};t=(t=(0,d["default"])(x,"0.userId.teadsId"))?{firstPartyCookieTeadsId:t}:(t=g$.ic._tfpvi)?{firstPartyCookieTeadsId:t}:{};h={referrer:v,pageReferrer:g,networkBandwidth:B,timeToFirstByte:k,data:h,deviceWidth:p,hb_version:"7.36.0",
...E,...t};x=x[0];x.schain&&(h.schain=x.schain);v=y.gdprConsent;y&&v&&(g="string"===typeof v.consentString,"boolean"===typeof v.gdprApplies?(B=v.vendorData,k=12,v.gdprApplies?B&&!B.isServiceSpecific&&(k=11):k=0,B=k):B=22,h.gdpr_iab={consent:g?v.consentString:"",status:B,apiVersion:v.apiVersion});y&&y.uspConsent&&(h.us_privacy=y.uspConsent);if(y=(0,d["default"])(x,"ortb2.device.sua"))h.userAgentClientHints=y;return{method:"POST",url:"https://a.teads.tv/hb/bid-request",data:JSON.stringify(h)}},interpretResponse:function(x,
y){const h=[];x=x.body;x.responses&&x.responses.forEach(function(v){const g={cpm:v.cpm,width:v.width,height:v.height,currency:v.currency,netRevenue:!0,ttl:v.ttl,meta:{advertiserDomains:v&&v.adomain?v.adomain:[]},ad:v.ad,requestId:v.bidId,creativeId:v.creativeId,placementId:v.placementId};v.dealId&&(g.dealId=v.dealId);h.push(g)});return h}});window.pbjs.installedModules.push("teadsBidAdapter")}},ca=>{ca(ca.s="./modules/teadsBidAdapter.js")}]);"use strict";(self.pbjsChunk=self.pbjsChunk||[]).push([["userId"],
{"./modules/userId/eids.js":(ca,sa,F)=>{function qa(h,v){const g=y[v];if(g&&h){v={};v.source=(0,d.isFn)(g.getSource)?g.getSource(h):g.source;var B=(0,d.isFn)(g.getValue)?g.getValue(h):h;if((0,d.isStr)(B)){B={id:B,atype:g.atype};if((0,d.isFn)(g.getUidExt)){const k=g.getUidExt(h);k&&(B.ext=k)}v.uids=[B];(0,d.isFn)(g.getEidExt)&&(h=g.getEidExt(h))&&(v.ext=h);return v}}return null}function I(h){let v=[];for(const g in h)if(h.hasOwnProperty(g))if("pubProvidedId"===g)v=v.concat(h.pubProvidedId);else if(Array.isArray(h[g]))h[g].forEach((B,
k,p)=>{(B=qa(B,g))&&v.push(B)});else{const B=qa(h[g],g);B&&v.push(B)}return v}function z(h){let v=[];h.filter(g=>(0,d.isPlainObject)(g.idObj)&&Object.keys(g.idObj).length).forEach(g=>{Object.keys(g.idObj).forEach(B=>{(0,x["default"])(g,"config.bidders")&&Array.isArray(g.config.bidders)&&(0,x["default"])(y,B+".source")&&v.push({source:y[B].source,bidders:g.config.bidders})})});return v}F.d(sa,{USER_IDS_CONFIG:()=>y,buildEidPermissions:()=>z,createEidsArray:()=>I});var d=F("./src/utils.js"),x=F("./node_modules/dlv/index.js");
const y={idl_env:{source:"liveramp.com",atype:3}}},"./modules/userId/index.js":(ca,sa,F)=>{function qa(ma){return Ga().fork().renameWith(ua=>[`userId.mod.${ua}`,`userId.mods.${ma}.${ua}`])}function I(ma){const ua="function"===typeof ma.submodule.domainOverride?ma.submodule.domainOverride():null,ra=ma.config.storage.name;return function(Ba,Ca,Ia){fa.setCookie(ra+(Ba||""),Ca,Ia,ua)}}function z(ma,ua){const ra=ma.config.storage;try{const Ba=(0,V.isPlainObject)(ua)?JSON.stringify(ua):ua;if("cookie"===
ra.type){const Ca=I(ma);Ca(null,Ba,ra.expires);"number"===typeof ra.refreshInSeconds&&Ca("_last",(new Date).toUTCString(),ra.expires)}else"html5"===ra.type&&(fa.setDataInLocalStorage(`${ra.name}_exp`,(new Date(Date.now()+864E5*ra.expires)).toUTCString()),fa.setDataInLocalStorage(ra.name,encodeURIComponent(Ba)),"number"===typeof ra.refreshInSeconds&&fa.setDataInLocalStorage(`${ra.name}_last`,(new Date).toUTCString()))}catch(Ba){}}function d(ma){var ua,ra;let Ba,Ca;switch(null===(ua=ma.config)||void 0===
ua?void 0:null===(ra=ua.storage)||void 0===ra?void 0:ra.type){case "cookie":const Ia=I(ma);Ba=Na=>Ia(Na,"",-1);Ca=["","_last"];break;case "html5":Ba=Na=>fa.removeDataFromLocalStorage(ma.config.storage.name+Na),Ca=["","_last","_exp"]}Ba&&Ca.forEach(Ia=>{try{Ba(Ia)}catch(Na){}})}function x(ma){let ua=(0,V.getPrebidInternal)().setEidPermissions;"function"===typeof ua&&(0,V.isArray)(ma)&&ua((0,Da.buildEidPermissions)(ma))}function y(ma){var ua=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0;
ua=ua?`${ma.name}_${ua}`:ma.name;let ra;try{if("cookie"===ma.type)ra=g$.ic[ua];else if("html5"===ma.type){const Ba=fa.getDataFromLocalStorage(`${ma.name}_exp`);""===Ba?ra=fa.getDataFromLocalStorage(ua):Ba&&0<(new Date(Ba)).getTime()-Date.now()&&(ra=decodeURIComponent(fa.getDataFromLocalStorage(ua)))}"string"===typeof ra&&"{"===ra.trim().charAt(0)&&(ra=JSON.parse(ra))}catch(Ba){}return ra}function h(ma){const ua={consentString:"",gdprApplies:!1,apiVersion:0};ma&&(ua.consentString=ma.consentString,
ua.gdprApplies=ma.gdprApplies,ua.apiVersion=ma.apiVersion);return(0,V.cyrb53Hash)(JSON.stringify(ua))}function v(ma,ua){ua=Ga().fork().startTiming("userId.callbacks.total").stopBefore(ua);const ra=(0,V.delayExecution)(()=>{clearTimeout(xa);ua()},ma.length);ma.forEach(function(Ba){function Ca(Na){Na&&(Ba.config.storage&&z(Ba,Na),Ba.idObj=Ba.submodule.decode(Na,Ba.config),c(Ba.idObj));Ia()}const Ia=qa(Ba.submodule.name).startTiming("callback").stopBefore(ra);try{Ba.callback(Ca)}catch(Na){Ia()}Ba.callback=
void 0})}function g(ma){return Array.isArray(ma)&&ma.length?ma.filter(ua=>(0,V.isPlainObject)(ua.idObj)&&Object.keys(ua.idObj).length).reduce((ua,ra)=>{Object.keys(ra.idObj).forEach(Ba=>{ua[Ba]=ra.idObj[Ba]});return ua},{}):{}}function B(ma,ua){if(!Array.isArray(ma)||!ma.length)return{};ma=ma.filter(ra=>{var Ba;return(0,V.isPlainObject)(ra.idObj)&&Object.keys(ra.idObj).length&&(null===(Ba=Da.USER_IDS_CONFIG[Object.keys(ra.idObj)[0]])||void 0===Ba?void 0:Ba.source)===ua});return(0,V.isEmpty)(ma)?[]:
ma[0].idObj}function k(ma,ua){return Array.isArray(ma)&&ma.length&&ua?ma.filter(ra=>!ra.config.bidders||!(0,V.isArray)(ra.config.bidders)||(0,ia.includes)(ra.config.bidders,ua)).filter(ra=>(0,V.isPlainObject)(ra.idObj)&&Object.keys(ra.idObj).length).reduce((ra,Ba)=>{Object.keys(Ba.idObj).forEach(Ca=>{ra[Ca]=Ba.idObj[Ca]});return ra},{}):{}}function p(ma,ua){[ma].some(ra=>!Array.isArray(ra)||!ra.length)||ma.forEach(ra=>{ra.bids&&(0,V.isArray)(ra.bids)&&ra.bids.forEach(Ba=>{const Ca=k(ua,Ba.bidder);
Object.keys(Ca).length&&(Ba.userId=Ca,Ba.userIdAsEids=(0,Da.createEidsArray)(Ca))})})}function t(){function ma(ab){Ra=Ga().fork();null!=Na&&Na.reject(Ma);Na=(0,da.defer)();return da.GreedyPromise.race([ab,Na.promise]).finally(Ra.startTiming("userId.total"))}function ua(ab){return function(){if(Ta===K&&Ja===Ea)return ab(...arguments)}}function ra(){return O.gdprDataHandler.promise["finally"](Ra.startTiming("userId.init.gdpr"))}let {delay:Ba=da.GreedyPromise.timeout}=0<arguments.length&&void 0!==arguments[0]?
arguments[0]:{};const Ca=(0,da.defer)(),Ia=(0,da.defer)();let Na,Pa=!1,Ra,Ta=K,Ja=Ea,Za=ma(da.GreedyPromise.all([ta.ready,Ca.promise]).then(ra).then(ua(ab=>{m(Ta,Ja,ab)})).then(()=>Ia.promise.finally(Ra.startTiming("userId.callbacks.pending"))).then(ua(()=>{const ab=Ta.filter(bb=>(0,V.isFn)(bb.callback));if(ab.length)return new da.GreedyPromise(bb=>v(ab,bb))})));return function(){let {refresh:ab=!1,submoduleNames:bb=null,ready:fb=!1}=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(fb&&
!Pa)if(Pa=!0,Ca.resolve(),0<ea)Ia.resolve();else T.on(oa.EVENTS.AUCTION_END,function ib(){T.off(oa.EVENTS.AUCTION_END,ib);Ba(Y).then(Ia.resolve)});ab&&Pa&&(Za=ma(Za.catch(()=>null).then(ra).then(ua(qb=>{const ib=m(Ta,Ja.filter(db=>null==bb||bb.includes(db.submodule.name)),qb,!0).filter(db=>null!=db.callback);if(ib.length)return new da.GreedyPromise(db=>v(ib,db))}))));return Za}}function E(){var ma=0<arguments.length&&void 0!==arguments[0]?arguments[0]:n()||[];if((ma=ya&&ma.find(ua=>ua.source===ya))&&
"string"===typeof(0,pa["default"])(ma,"uids.0.id")&&(ma=ma.uids[0].id.replace(/[\W_]/g,""),32<=ma.length&&150>=ma.length))return ma}function r(){return g(K)}function n(){return(0,Da.createEidsArray)(r())}function q(ma){return(0,Da.createEidsArray)(B(K,ma))[0]}function f(ma,ua,ra){return Qa().then(()=>{let Ba={};if((0,V.isFn)(ra)){var Ca=ra(ma);Ba[ma]=Ca?D(Ca):null}else Ca=q(ma),(0,V.isEmpty)(Ca)||(Ba[Ca.source]=!0===ua?D(Ca):Ca.uids[0].id);return Ba[ma]})}function D(ma){let ua=1<arguments.length&&
void 0!==arguments[1]?arguments[1]:1,ra="";switch(ua){case 1:ra="object"===typeof ma?window.btoa(JSON.stringify(ma)):window.btoa(ma)}return`${ua}||${ra}`}function G(){if((0,V.isGptPubadsDefined)()){window.googletag.encryptedSignalProviders=window.googletag.encryptedSignalProviders||[];var ma=ba.config.getConfig("userSync.encryptedSignalSources");ma&&setTimeout(()=>{ma.sources&&ma.sources.forEach(ua=>{let {source:ra,encrypt:Ba,customFunc:Ca}=ua;ra.forEach(Ia=>{window.googletag.encryptedSignalProviders.push({id:Ia,
collectorFunction:()=>f(Ia,Ba,Ca)})})})},ma.registerDelay||0)}}function w(){let {submoduleNames:ma}=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},ua=1<arguments.length?arguments[1]:void 0;return Qa({refresh:!0,submoduleNames:ma}).then(()=>{ua&&(0,V.isFn)(ua)&&ua();return r()})}function H(){return Qa().then(()=>r(),ma=>ma===Ma?Promise.resolve().then(H):da.GreedyPromise.reject(ma))}function c(){let ma=0<arguments.length&&void 0!==arguments[0]?arguments[0]:r();if(ma&&ya){const ua=E((0,Da.createEidsArray)(ma));
ua&&((0,V.isGptPubadsDefined)()?window.googletag.pubads().setPublisherProvidedId(ua):(window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push(function(){window.googletag.pubads().setPublisherProvidedId(ua)})))}}function m(ma,ua,ra){let Ba=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1;return Ga().fork().measureTime("userId.init.modules",function(){if(!ua.length)return[];const Ca=J();ua=ua.filter(Ta=>!Ta.config.storage||Ca.has(Ta.config.storage.type));
if(!ua.length)return[];let {userIdModules:Ia,hasValidated:Na}=Ua(ua,ra);if(!Na&&!(0,ja.hasPurpose1Consent)(ra))return[];a:{try{var Pa=g$.ic[R.name];break a}catch(Ta){}Pa=void 0}const Ra=Pa;try{fa.setCookie(R.name,h(ra),R.expires)}catch(Ta){}Pa=Ia.reduce((Ta,Ja)=>qa(Ja.submodule.name).measureTime("init",()=>{try{if(Ja.config.storage){let ab=y(Ja.config.storage),bb;var Za=!1;if("number"===typeof Ja.config.storage.refreshInSeconds){const fb=new Date(y(Ja.config.storage,"last"));Za=fb&&Date.now()-fb.getTime()>
1E3*Ja.config.storage.refreshInSeconds}!ab||Za||Ba||"undefined"===typeof Ra||null===Ra||Ra!==h(ra)?bb=Ja.submodule.getId(Ja.config,ra,ab):"function"===typeof Ja.submodule.extendId&&(bb=Ja.submodule.extendId(Ja.config,ra,ab));(0,V.isPlainObject)(bb)&&(bb.id&&(z(Ja,bb.id),ab=bb.id),"function"===typeof bb.callback&&(Ja.callback=bb.callback));ab&&(Ja.idObj=Ja.submodule.decode(ab,Ja.config))}else Ja.config.value?Ja.idObj=Ja.config.value:(Za=Ja.submodule.getId(Ja.config,ra,void 0),(0,V.isPlainObject)(Za)&&
("function"===typeof Za.callback&&(Ja.callback=Za.callback),Za.id&&(Ja.idObj=Ja.submodule.decode(Za.id,Ja.config))));c(Ja.idObj);Ta.push(Ja)}catch(ab){}return Ta}),[]);Pa.length&&x(Pa);Pa.forEach(l.bind(null,ma));return Pa})}function l(ma,ua){let ra=!1;for(let Ba=0;Ba<ma.length;Ba++)if(ua.config.name.toLowerCase()===ma[Ba].config.name.toLowerCase()){ra=!0;ma[Ba]=ua;break}ra||ma.push(ua)}function A(ma,ua){return Array.isArray(ma)?ma.reduce((ra,Ba)=>{if(!Ba||""===Ba.name)return ra;Ba.storage&&""!==
Ba.storage.type&&""!==Ba.storage.name&&Ka.has(Ba.storage.type)?ra.push(Ba):(0,V.isPlainObject)(Ba.value)?ra.push(Ba):Ba.storage||Ba.value||ra.push(Ba);return ra},[]):[]}function J(){const ma=[];let ua=!1;gnt.storage&&(ma.push("html5"),fa.getDataFromLocalStorage("_pbjs_id_optout")&&(ua=!0));fa.cookiesAreEnabled()&&(ma.push("cookie"),g$.ic._pbjs_id_optout&&(ua=!0));return new Set(ua?[]:ma)}function U(){const ma=A(ha,la);if(ma.length){var ua=la.filter(ra=>!(0,ia.find)(Ea,Ba=>Ba.name===ra.name));Ea.splice(0,
Ea.length);ua.map(ra=>{const Ba=(0,ia.find)(ma,Ca=>Ca.name&&(Ca.name.toLowerCase()===ra.name.toLowerCase()||ra.aliasName&&Ca.name.toLowerCase()===ra.aliasName.toLowerCase()));Ba&&ra.name!==Ba.name&&(Ba.name=ra.name);ra.findRootDomain=P.findRootDomain;return Ba?{submodule:ra,config:Ba,callback:void 0,idObj:void 0}:null}).filter(ra=>null!==ra).forEach(ra=>Ea.push(ra));!na&&Ea.length&&((0,N.getGlobal)().requestBids.before(Va,40),O["default"].callDataDeletionRequest.before(W),aa.getPPID.after(ra=>ra(E())),
na=!0)}}function W(ma){for(var ua=arguments.length,ra=Array(1<ua?ua-1:0),Ba=1;Ba<ua;Ba++)ra[Ba-1]=arguments[Ba];Ea.forEach(Ca=>{if("function"===typeof Ca.submodule.onDataDeletionRequest)try{Ca.submodule.onDataDeletionRequest(Ca.config,Ca.idObj,...ra)}catch(Ia){}d(Ca)});ma.apply(this,ra)}function Z(ma){return function(){return Promise.resolve(ma.apply(this,arguments))}}var ia=F("./src/polyfill.js"),ba=F("./src/config.js"),T=F("./src/events.js"),N=F("./src/prebidGlobal.js"),O=F("./src/adapterManager.js"),
oa=F("./src/constants.json"),ta=F("./src/hook.js"),Da=F("./modules/userId/eids.js");ca=F("./src/storageManager.js");var V=F("./src/utils.js"),pa=F("./node_modules/dlv/index.js"),X=F("./node_modules/dset/dist/index.mjs"),aa=F("./src/adserver.js"),da=F("./src/utils/promise.js"),ja=F("./src/utils/gpdr.js");sa=F("./src/pbjsORTB.js");var L=F("./src/utils/perfMetrics.js"),P=F("./src/fpd/rootDomain.js");const R={name:"_pbjs_userid_consent_data",expires:30},fa=(0,ca.getCoreStorageManager)("userid");let na=
!1,Ea=[],K,ha=[],la=[],xa,Y,ea,ya,Aa;const Ga=(()=>{let ma;return()=>{null==ma&&(ma=(0,L.newMetrics)());return ma}})(),Ma={};let Qa;const Va=(0,L.timedAuctionHook)("userId",function(ma,ua){let {delay:ra=da.GreedyPromise.timeout,getIds:Ba=H}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};da.GreedyPromise.race([Ba().catch(()=>null),ra(ea)]).then(()=>{p(ua.adUnits||(0,N.getGlobal)().adUnits,K);Ga().join((0,L.useMetrics)(ua.metrics),{propagate:!1,includeGroups:!0});ma.call(this,ua)})}),Ua=
(0,ta.hook)("sync",function(ma,ua){return{userIdModules:ma,hasValidated:ua&&ua.hasValidated}},"validateGdprEnforcement"),Ka=new Set(["html5","cookie"]);(function(ma){let {delay:ua=da.GreedyPromise.timeout}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};ya=void 0;Ea=[];ha=[];na=!1;K=[];Qa=t({delay:ua});null!=Aa&&Aa();la=[];Aa=ma.getConfig("userSync",ra=>{ra=ra.userSync;ya=ra.ppid;ra&&ra.userIds&&(ha=ra.userIds,Y=(0,V.isNumber)(ra.syncDelay)?ra.syncDelay:500,ea=(0,V.isNumber)(ra.auctionDelay)?
ra.auctionDelay:0,U(),Qa({ready:!0}))});(0,N.getGlobal)().getUserIds=r;(0,N.getGlobal)().getUserIdsAsEids=n;(0,N.getGlobal)().getEncryptedEidsForSource=Z(f);(0,N.getGlobal)().registerSignalSources=G;(0,N.getGlobal)().refreshUserIds=Z(w);(0,N.getGlobal)().getUserIdsAsync=Z(H);(0,N.getGlobal)().getUserIdsAsEidBySource=q})(ba.config);(0,ta.module)("userId",function(ma){(0,ia.find)(la,ua=>ua.name===ma.name)||(la.push(ma),U(),Qa({refresh:!0,submoduleNames:[ma.name]}))});(0,sa.registerOrtbProcessor)({type:sa.REQUEST,
name:"userExtEids",fn:function(ma,ua,ra){(ua=(0,pa["default"])(ra,"bidRequests.0.userIdAsEids"))&&(0,X.dset)(ma,"user.ext.eids",ua)}});window.pbjs.installedModules.push("userId")},"./src/adserver.js":(ca,sa,F)=>{F.d(sa,{getPPID:()=>qa});const qa=(0,F("./src/hook.js").hook)("sync",()=>{})},"./src/fpd/rootDomain.js":(ca,sa,F)=>{F.d(sa,{findRootDomain:()=>I});ca=F("./src/utils.js");const qa=(0,F("./src/storageManager.js").getCoreStorageManager)(),I=(0,ca.memoize)(function(){let z=0<arguments.length&&
void 0!==arguments[0]?arguments[0]:window.location.host;if(!qa.cookiesAreEnabled())return z;const d=z.lastIndexOf(".",z.lastIndexOf(".")-1);return-1===d?z:z.substring(d+1)})},"./src/pbjsORTB.js":(ca,sa,F)=>{F.d(sa,{BID_RESPONSE:()=>d,DEFAULT:()=>y,IMP:()=>z,PBS:()=>h,PROCESSOR_TYPES:()=>qa,REQUEST:()=>I,RESPONSE:()=>x,getProcessors:()=>B,registerOrtbProcessor:()=>g});const qa=["request","imp","bidResponse","response"],[I,z,d,x]=qa,[y,h]=["default","pbs"],v=new Set(qa),{registerOrtbProcessor:g,getProcessors:B}=
function(){const k={};return{registerOrtbProcessor(p){let {type:t,name:E,fn:r,priority:n=0,dialects:q=[y]}=p;if(!v.has(t))throw Error(`ORTB processor type must be one of: ${qa.join(", ")}`);q.forEach(f=>{k.hasOwnProperty(f)||(k[f]={});k[f].hasOwnProperty(t)||(k[f][t]={});k[f][t][E]={priority:n,fn:r}})},getProcessors(p){return k[p]||{}}}}()},"./src/utils/gpdr.js":(ca,sa,F)=>{function qa(z){return null!==z&&void 0!==z&&z.gdprApplies?!0===(0,I["default"])(z,"vendorData.purpose.consents.1"):!0}F.d(sa,
{hasPurpose1Consent:()=>qa});var I=F("./node_modules/dlv/index.js")}},ca=>{ca(ca.s="./modules/userId/index.js")}]);"use strict";(self.pbjsChunk=self.pbjsChunk||[]).push([["yahoosspBidAdapter"],{"./modules/yahoosspBidAdapter.js":(ca,sa,F)=>{function qa(c){return{w:parseInt(c[0]),h:parseInt(c[1])}}function I(c){return(0,q.isArray)(c)&&2===c.length&&!(0,q.isArray)(c[0])?[qa(c)]:c.map(qa)}function z(c,m){let l=/(img|iframe)[\s\S]*?src\s*=\s*("|')(.*?)\2/gi,A=/\w*(?=\s)/,J=/src=("|')(.*?)\1/,U=[];m&&(m=
m.match(l))&&m.forEach(W=>{var Z=W.match(A)[0];W=W.match(J)[2];Z&&W&&(Z="img"===Z.toLowerCase()?"image":"iframe",!c.iframeEnabled&&"iframe"===Z||!c.pixelEnabled&&"image"===Z||U.push({type:Z,url:W}))});return U}function d(c){return(0,q.isArray)((0,f["default"])(c,"userIdAsEids"))?c.userIdAsEids.filter(m=>-1!==H.indexOf(m.source)):[]}function x(c){let m;(0,f["default"])(c,"params.pubId")?m=!0:(0,f["default"])(c,"params.dcn")&&(0,f["default"])(c,"params.pos")&&(m=!1);return m}function y(c){const m={currency:(0,f["default"])(c,
"params.bidOverride.cur")||"USD",mediaType:"*",size:"*"};return(0,q.isFn)(c.getFloor)?c.getFloor(m):!1}function h(c){return c.filter(m=>Object.keys(m.mediaTypes).some(l=>l===n.BANNER||l===n.VIDEO))}function v(c,m,l,A){A={...A};for(const J in l)switch(c){case "string":-1!==m.indexOf(J)&&(0,q.isStr)(l[J])&&(A[J]=l[J]);break;case "number":-1!==m.indexOf(J)&&(0,q.isNumber)(l[J])&&(A[J]=l[J]);break;case "array":-1!==m.indexOf(J)&&(0,q.isArray)(l[J])&&(A[J]=l[J]);break;case "object":-1!==m.indexOf(J)&&
(0,q.isPlainObject)(l[J])&&(A[J]=l[J]);break;case "objectAllKeys":(0,q.isPlainObject)(l)&&(A[J]=l[J])}return A}function g(c){return(0,q.isNumber)(c)&&0<c&&3600>c?c:300}function B(c){return(0,q.isStr)(c)&&0<c.length}function k(c,m){if(c){var l,A;let J={id:(0,q.generateUUID)(),cur:[y(c).currency||(0,f["default"])(m,"params.bidOverride.cur")||"USD"],imp:[],site:{page:(0,f["default"])(c,"refererInfo.page")},device:{dnt:0,ua:navigator.userAgent,ip:(0,f["default"])(m,"params.bidOverride.device.ip")||(0,f["default"])(m,
"params.ext.ip")||void 0,w:window.screen.width,h:window.screen.height},regs:{ext:{us_privacy:c.uspConsent?c.uspConsent:"",gdpr:c.gdprConsent&&c.gdprConsent.gdprApplies?1:0}},source:{ext:{hb:1,adapterver:"1.0.2",prebidver:"7.36.0",integration:{name:"prebid.js",ver:"7.36.0"}},fd:1},user:{ext:{consent:c.gdprConsent&&c.gdprConsent.gdprApplies?c.gdprConsent.consentString:"",eids:d(m)}}};if(!0===x(m)){if(J.site.publisher={id:m.params.pubId},(0,f["default"])(m,"params.bidOverride.site.id")||(0,f["default"])(m,
"params.siteId"))J.site.id=(0,f["default"])(m,"params.bidOverride.site.id")||m.params.siteId}else J.site.id=m.params.dcn;null!==(l=c.ortb2)&&void 0!==l&&null!==(A=l.regs)&&void 0!==A&&A.gpp&&(J.regs.ext.gpp=c.ortb2.regs.gpp,J.regs.ext.gpp_sid=c.ortb2.regs.gpp_sid);c.ortb2&&(J=t(J,m));c=(0,f["default"])(m,"schain.nodes");(0,q.isArray)(c)&&0<c.length&&(J.source.ext.schain=m.schain,J.source.ext.schain.nodes[0].rid=J.id);return J}}function p(c,m){if(m&&c){const A={id:c.bidId,secure:(0,f["default"])(c,
"params.bidOverride.imp.secure")||"https:"===document.location.protocol?1:0,bidfloor:y(c).floor||(0,f["default"])(c,"params.bidOverride.imp.bidfloor")};c.mediaTypes.banner&&(A.banner={mimes:c.mediaTypes.banner.mimes||["text/html","text/javascript","application/javascript","image/jpg"],format:I(c.sizes)},c.mediaTypes.banner.pos&&(A.banner.pos=c.mediaTypes.banner.pos));if(c.mediaTypes.video){var l=I(c.mediaTypes.video.playerSize);A.video={mimes:(0,f["default"])(c,"params.bidOverride.imp.video.mimes")||
c.mediaTypes.video.mimes||["video/mp4","application/javascript"],w:(0,f["default"])(c,"params.bidOverride.imp.video.w")||l[0].w,h:(0,f["default"])(c,"params.bidOverride.imp.video.h")||l[0].h,maxbitrate:(0,f["default"])(c,"params.bidOverride.imp.video.maxbitrate")||c.mediaTypes.video.maxbitrate||void 0,maxduration:(0,f["default"])(c,"params.bidOverride.imp.video.maxduration")||c.mediaTypes.video.maxduration||void 0,minduration:(0,f["default"])(c,"params.bidOverride.imp.video.minduration")||c.mediaTypes.video.minduration||
void 0,api:(0,f["default"])(c,"params.bidOverride.imp.video.api")||c.mediaTypes.video.api||[2],delivery:(0,f["default"])(c,"params.bidOverride.imp.video.delivery")||c.mediaTypes.video.delivery||void 0,pos:(0,f["default"])(c,"params.bidOverride.imp.video.pos")||c.mediaTypes.video.pos||void 0,playbackmethod:(0,f["default"])(c,"params.bidOverride.imp.video.playbackmethod")||c.mediaTypes.video.playbackmethod||void 0,placement:(0,f["default"])(c,"params.bidOverride.imp.video.placement")||c.mediaTypes.video.placement||
void 0,linearity:(0,f["default"])(c,"params.bidOverride.imp.video.linearity")||c.mediaTypes.video.linearity||1,protocols:(0,f["default"])(c,"params.bidOverride.imp.video.protocols")||c.mediaTypes.video.protocols||[2,5],startdelay:(0,f["default"])(c,"params.bidOverride.imp.video.startdelay")||c.mediaTypes.video.startdelay||0,rewarded:(0,f["default"])(c,"params.bidOverride.imp.video.rewarded")||void 0}}A.ext={dfp_ad_unit_code:c.adUnitCode};if((0,f["default"])(c,"params.kvp")&&(0,q.isPlainObject)(c.params.kvp)){A.ext.kvs=
{};for(const J in c.params.kvp)(0,q.isStr)(c.params.kvp[J])||(0,q.isNumber)(c.params.kvp[J])?A.ext.kvs[J]=c.params.kvp[J]:(0,q.isArray)(c.params.kvp[J])&&(l=c.params.kvp[J],l.every(U=>(0,q.isStr)(U))||l.every(U=>(0,q.isNumber)(U)))&&(A.ext.kvs[J]=c.params.kvp[J])}(0,f["default"])(c,"ortb2Imp.ext.data")&&(0,q.isPlainObject)(c.ortb2Imp.ext.data)&&(A.ext.data=c.ortb2Imp.ext.data);(0,f["default"])(c,"ortb2Imp.instl")&&(0,q.isNumber)(c.ortb2Imp.instl)&&1===c.ortb2Imp.instl&&(A.instl=c.ortb2Imp.instl);
!1===x(c)?(A.tagid=c.params.pos,A.ext.pos=c.params.pos):(0,f["default"])(c,"params.placementId")&&(A.tagid=c.params.placementId);m.imp.push(A)}}function t(c,m){var l=m.ortb2;m=(0,f["default"])(l,"site")||void 0;const A=(0,f["default"])(m,"content")||void 0,J=(0,f["default"])(m,"content.data")||void 0,U=(0,f["default"])(l,"app.content")||void 0,W=(0,f["default"])(l,"app.content.data")||void 0;l=(0,f["default"])(l,"user")||void 0;m&&(0,q.isPlainObject)(m)&&(c.site=v("string","name domain page ref keywords search".split(" "),
m,c.site),c.site=v("array",["cat","sectioncat","pagecat"],m,c.site),c.site=v("object",["ext"],m,c.site));A&&(0,q.isPlainObject)(A)&&(c.site.content=v("string","id title series season genre contentrating language".split(" "),A,c.site.content),c.site.content=v("number",["episode","prodq","context","livestream","len"],A,c.site.content),c.site.content=v("array",["cat"],A,c.site.content),c.site.content=v("object",["ext"],A,c.site.content),J&&(0,q.isArray)(J)&&J.every(Z=>{let ia={};ia=v("string",["id",
"name"],Z,ia);ia=v("array",["segment"],Z,ia);ia=v("object",["ext"],Z,ia);c.site.content.data=[];c.site.content.data.push(ia)}));U&&(0,q.isPlainObject)(U)&&W&&(0,q.isArray)(W)&&W.every(Z=>{let ia={};ia=v("string",["id","name"],Z,ia);ia=v("array",["segment"],Z,ia);ia=v("object",["ext"],Z,ia);c.app={content:{data:[]}};c.app.content.data.push(ia)});l&&(0,q.isPlainObject)(l)&&(c.user=v("string",["id","buyeruid","gender","keywords","customdata"],l,c.user),c.user=v("number",["yob"],l,c.user),c.user=v("array",
["data"],l,c.user),c.user.ext=v("object",["ext"],l,c.user.ext));return c}function E(c){let {payload:m,requestOptions:l,bidderRequest:A}=c;c=x(A);let J=D.config.getConfig("yahoossp.endpoint")||"https://c2shb.pubgw.yahoo.com/bidRequest";!0===c&&(J=D.config.getConfig("yahoossp.endpoint")||"https://c2shb.pubgw.yahoo.com/admax/bid/partners/PBJS");!0===(0,f["default"])(A,"params.testing.e2etest")&&(l.withCredentials=!1,!0===c?m.site.id="1234567":(m.site.id="8a969516017a7a396ec539d97f540011",m.imp.forEach(U=>
{U.ext.e2eTestMode=!0})));return{url:J,method:"POST",data:m,options:l,bidderRequest:A}}function r(c,m){m=G.Renderer.install({url:"https://s.yimg.com/kp/prebid-outstream-renderer/renderer.js",loaded:!1,adUnitCode:c.adUnitCode});try{m.setRender(function(l){setTimeout(function(){o2PlayerRender(l)},(0,f["default"])(c,"params.testing.renderer.setTimeout")||700)})}catch(l){}return m}ca=F("./src/adapters/bidderFactory.js");var n=F("./src/mediaTypes.js"),q=F("./src/utils.js"),f=F("./node_modules/dlv/index.js"),
D=F("./src/config.js"),G=F("./src/Renderer.js"),w=F("./src/utils/gpdr.js");const H="admixer.net adserver.org adtelligent.com akamai.com amxdt.net audigent.com britepool.com criteo.com crwdcntrl.net deepintent.com epsilon.com hcn.health id5-sync.com idx.lat intentiq.com intimatemerger.com liveintent.com liveramp.com mediawallahscript.com merkleinc.com netid.de neustar.biz nextroll.com novatiq.com parrable.com pubcid.org quantcast.com tapad.com uidapi.com verizonmedia.com yahoo.com zeotap.com".split(" ");
(0,ca.registerBidder)({code:"yahoossp",gvlid:25,aliases:[],supportedMediaTypes:[n.BANNER,n.VIDEO],isBidRequestValid:function(c){c=c.params;return!0===(0,f["default"])(c,"testing.e2etest")?!0:(0,q.isPlainObject)(c)&&(B(c.pubId)||B(c.dcn)&&B(c.pos))?!0:!1},buildRequests:function(c,m){if(!(0,q.isEmpty)(c)&&!(0,q.isEmpty)(m)){var l={contentType:"application/json",customHeaders:{"x-openrtb-version":"2.5"}};l.withCredentials=(0,w.hasPurpose1Consent)(m.gdprConsent);c=h(c);if(!0===D.config.getConfig("yahoossp.singleRequestMode")){const A=
k(m,c[0]);c.forEach(J=>{p(J,A)});return E({payload:A,requestOptions:l,bidderRequest:m})}return c.map(A=>{const J=k(m,A);p(A,J);return E({payload:J,requestOptions:l,bidderRequest:A})})}},interpretResponse:function(c,m){let {bidderRequest:l}=m;const A=[];if(!c.body||!Array.isArray(c.body.seatbid))return A;c.body.seatbid.forEach(J=>{let U;try{U=J.bid[0]}catch(Da){return A}J=U.ext&&U.ext.encp?U.ext.encp:U.price;var W=(0,f["default"])(U,"adId")?U.adId:U.impid||U.crid,Z=l.adUnitCode,ia=U.impid,ba=U.w,T=
U.h,N=U.crid||0,O=U.cur||"USD",oa=U.dealid?U.dealid:null;var ta=(ta=D.config.getConfig("yahoossp.ttl"))?g(ta):g((0,f["default"])(l,"params.ttl"));J={adId:W,adUnitCode:Z,requestId:ia,cpm:J,width:ba,height:T,creativeId:N,currency:O,dealId:oa,netRevenue:!0,ttl:ta,meta:{advertiserDomains:U.adomain}};W=U.adm;W=-1!==W.indexOf("o2playerSettings")||-1!==W.indexOf("YAHOO.VideoPlatform.VideoPlayer")||-1!==W.indexOf("AdPlacement")?n.BANNER:-1!==W.indexOf("VAST")?n.VIDEO:void 0;W===n.BANNER?(J.mediaType=n.BANNER,
J.ad=U.adm,J.meta.mediaType=n.BANNER):W===n.VIDEO&&(J.mediaType=n.VIDEO,J.meta.mediaType=n.VIDEO,J.vastXml=U.adm,U.nurl&&(J.vastUrl=U.nurl));"outstream"!==(0,f["default"])(l,"mediaTypes.video.context")||l.renderer||(J.renderer=r(l,J)||void 0);A.push(J)});return A},getUserSyncs:function(c,m,l,A){return(m=!(0,q.isEmpty)(m)&&m[0].body)&&m.ext&&m.ext.pixels?z(c,m.ext.pixels):[]}});window.pbjs.installedModules.push("yahoosspBidAdapter")},"./src/utils/gpdr.js":(ca,sa,F)=>{function qa(z){return null!==z&&
void 0!==z&&z.gdprApplies?!0===(0,I["default"])(z,"vendorData.purpose.consents.1"):!0}F.d(sa,{hasPurpose1Consent:()=>qa});var I=F("./node_modules/dlv/index.js")}},ca=>{ca(ca.s="./modules/yahoosspBidAdapter.js")}])})(),pbjs.processQueue();
window.pbjs?.que&&!g$.hp["gnt-d-pbt"]&&pbjs.que.push(()=>{function ca(k,p){for(const t of y(k)?k:[k])k=t.meta,g.push({adId:t.adId?.toString(),adUnitCode:t.adUnitCode,auctionId:t.auctionId?.toString(),bidderCode:t.bidderCode||t.bidder||t.bidderRequest?.bidderCode,cpm:t.cpm,creativeId:t.creativeId?.toString(),currency:t.currency?.toString(),dealId:t.dealId?.toString(),eventType:p,experiment:I.vr||"prebid-metrics-pixel",geoCountry:d,geoState:x,gup3pid:I.lri,height:t.height,isMobile:!!g$.b.m,liveRampId:I.lrEnv?
"1":"",mediaType:t.mediaType,meta:k&&{networkId:k.networkId?.toString(),networkName:k.networkName,agencyId:k.agencyId,agencyName:k.agencyName,advertiserId:k.advertiserId?.toString(),advertiserName:k.advertiserName,advertiserDomains:y(k.advertiserDomains)?k.advertiserDomains.filter(F):[],brandId:k.brandId?.toString(),brandName:k.brandName,primaryCatId:k.primaryCatId,secondaryCatIds:y(k.secondaryCatIds)?k.secondaryCatIds.filter(F):[],mediaType:k.mediaType},bot:qa.bt,requestId:t.requestId?.toString(),
siteCode:qa.data.siteCode,source:t.source,status:t.status,timeToRespond:t.timeToRespond,width:t.width})}function sa(){if(g.length){const k=g$.js(g);h||!v.sendBeacon?fetch(B,{method:"POST",mode:"no-cors",cache:"no-store",keepalive:!0,body:k}).catch(p=>{g$.cc(p,"h2p1",k)}):v.sendBeacon(B,k);g.length=0}}function F(k){return"string"===typeof k}const qa=gnt,I=qa.x;var z=qa.geo;const d=z?.c,x=z?.s,y=Array.isArray;z=pbjs.onEvent;const h="keepalive"in Request.prototype,v=navigator,g=[],B="https://traxex.gannettdigital.com/prebid-event";
setInterval(()=>{sa()},6E4);z("bidWon",k=>{ca(k,"bidWon")});z("bidResponse",k=>{ca(k,"bidResponse")});z("bidTimeout",k=>{ca(k,"bidTimeout")});z("bidderError",k=>{ca(k,"bidderError")});z("adRenderFailed",k=>{ca(k,"adRenderFailed")});z("auctionEnd",()=>{sa()});document.addEventListener("visibilitychange",()=>{"visible"!==document.visibilityState&&sa()},!1)});
